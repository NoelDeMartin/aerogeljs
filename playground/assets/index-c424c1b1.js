var Ej=Object.defineProperty;var Aj=(t,e,r)=>e in t?Ej(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>(Aj(t,typeof e!="symbol"?e+"":e,r),r),Oj=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Oh=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var nc=(t,e,r)=>(Oj(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const kj="modulepreload",Rj=function(t){return"/playground/"+t},Fw={},uA=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Rj(i),i in Fw)return;Fw[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let c=a.length-1;c>=0;c--){const f=a[c];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":kj,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Tj=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yo=function(t){return t&&t.Math===Math&&t},st=Yo(typeof globalThis=="object"&&globalThis)||Yo(typeof window=="object"&&window)||Yo(typeof self=="object"&&self)||Yo(typeof ac=="object"&&ac)||Yo(typeof ac=="object"&&ac)||function(){return this}()||Function("return this")(),Rn={},Be=function(t){try{return!!t()}catch{return!0}},Cj=Be,wt=!Cj(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Dj=Be,yu=!Dj(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),jj=yu,ic=Function.prototype.call,Ne=jj?ic.bind(ic):function(){return ic.apply(ic,arguments)},bu={},cA={}.propertyIsEnumerable,fA=Object.getOwnPropertyDescriptor,Lj=fA&&!cA.call({1:2},1);bu.f=Lj?function(e){var r=fA(this,e);return!!r&&r.enumerable}:cA;var ls=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},dA=yu,hA=Function.prototype,om=hA.call,Mj=dA&&hA.bind.bind(om,om),Ue=dA?Mj:function(t){return function(){return om.apply(t,arguments)}},pA=Ue,Nj=pA({}.toString),Fj=pA("".slice),Tn=function(t){return Fj(Nj(t),8,-1)},Uj=Ue,Bj=Be,zj=Tn,kh=Object,Gj=Uj("".split),vd=Bj(function(){return!kh("z").propertyIsEnumerable(0)})?function(t){return zj(t)==="String"?Gj(t,""):kh(t)}:kh,Pn=function(t){return t==null},qj=Pn,Hj=TypeError,Jr=function(t){if(qj(t))throw new Hj("Can't call method on "+t);return t},Vj=vd,Wj=Jr,Cn=function(t){return Vj(Wj(t))},Rh=typeof document=="object"&&document.all,dt=typeof Rh>"u"&&Rh!==void 0?function(t){return typeof t=="function"||t===Rh}:function(t){return typeof t=="function"},Kj=dt,pt=function(t){return typeof t=="object"?t!==null:Kj(t)},Th=st,Jj=dt,Yj=function(t){return Jj(t)?t:void 0},er=function(t,e){return arguments.length<2?Yj(Th[t]):Th[t]&&Th[t][e]},Qj=Ue,yi=Qj({}.isPrototypeOf),us=typeof navigator<"u"&&String(navigator.userAgent)||"",vA=st,Ph=us,Uw=vA.process,Bw=vA.Deno,zw=Uw&&Uw.versions||Bw&&Bw.version,Gw=zw&&zw.v8,Fn,jf;Gw&&(Fn=Gw.split("."),jf=Fn[0]>0&&Fn[0]<4?1:+(Fn[0]+Fn[1]));!jf&&Ph&&(Fn=Ph.match(/Edge\/(\d+)/),(!Fn||Fn[1]>=74)&&(Fn=Ph.match(/Chrome\/(\d+)/),Fn&&(jf=+Fn[1])));var wu=jf,qw=wu,Xj=Be,Zj=st,eL=Zj.String,Oo=!!Object.getOwnPropertySymbols&&!Xj(function(){var t=Symbol("symbol detection");return!eL(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qw&&qw<41}),tL=Oo,mA=tL&&!Symbol.sham&&typeof Symbol.iterator=="symbol",rL=er,nL=dt,aL=yi,iL=mA,sL=Object,_u=iL?function(t){return typeof t=="symbol"}:function(t){var e=rL("Symbol");return nL(e)&&aL(e.prototype,sL(t))},oL=String,ko=function(t){try{return oL(t)}catch{return"Object"}},lL=dt,uL=ko,cL=TypeError,$t=function(t){if(lL(t))return t;throw new cL(uL(t)+" is not a function")},fL=$t,dL=Pn,Dn=function(t,e){var r=t[e];return dL(r)?void 0:fL(r)},Ch=Ne,Dh=dt,jh=pt,hL=TypeError,pL=function(t,e){var r,n;if(e==="string"&&Dh(r=t.toString)&&!jh(n=Ch(r,t))||Dh(r=t.valueOf)&&!jh(n=Ch(r,t))||e!=="string"&&Dh(r=t.toString)&&!jh(n=Ch(r,t)))return n;throw new hL("Can't convert object to primitive value")},gA={exports:{}},pa=!1,Hw=st,vL=Object.defineProperty,gy=function(t,e){try{vL(Hw,t,{value:e,configurable:!0,writable:!0})}catch{Hw[t]=e}return e},mL=st,gL=gy,Vw="__core-js_shared__",Ww=gA.exports=mL[Vw]||gL(Vw,{});(Ww.versions||(Ww.versions=[])).push({version:"3.37.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var md=gA.exports,Kw=md,Ro=function(t,e){return Kw[t]||(Kw[t]=e||{})},yL=Jr,bL=Object,Yr=function(t){return bL(yL(t))},wL=Ue,_L=Yr,$L=wL({}.hasOwnProperty),xt=Object.hasOwn||function(e,r){return $L(_L(e),r)},xL=Ue,SL=0,IL=Math.random(),EL=xL(1 .toString),gd=function(t){return"Symbol("+(t===void 0?"":t)+")_"+EL(++SL+IL,36)},AL=st,OL=Ro,Jw=xt,kL=gd,RL=Oo,TL=mA,Gs=AL.Symbol,Lh=OL("wks"),PL=TL?Gs.for||Gs:Gs&&Gs.withoutSetter||kL,nt=function(t){return Jw(Lh,t)||(Lh[t]=RL&&Jw(Gs,t)?Gs[t]:PL("Symbol."+t)),Lh[t]},CL=Ne,Yw=pt,Qw=_u,DL=Dn,jL=pL,LL=nt,ML=TypeError,NL=LL("toPrimitive"),yA=function(t,e){if(!Yw(t)||Qw(t))return t;var r=DL(t,NL),n;if(r){if(e===void 0&&(e="default"),n=CL(r,t,e),!Yw(n)||Qw(n))return n;throw new ML("Can't convert object to primitive value")}return e===void 0&&(e="number"),jL(t,e)},FL=yA,UL=_u,yy=function(t){var e=FL(t,"string");return UL(e)?e:e+""},BL=st,Xw=pt,lm=BL.document,zL=Xw(lm)&&Xw(lm.createElement),yd=function(t){return zL?lm.createElement(t):{}},GL=wt,qL=Be,HL=yd,bA=!GL&&!qL(function(){return Object.defineProperty(HL("div"),"a",{get:function(){return 7}}).a!==7}),VL=wt,WL=Ne,KL=bu,JL=ls,YL=Cn,QL=yy,XL=xt,ZL=bA,Zw=Object.getOwnPropertyDescriptor;Rn.f=VL?Zw:function(e,r){if(e=YL(e),r=QL(r),ZL)try{return Zw(e,r)}catch{}if(XL(e,r))return JL(!WL(KL.f,e,r),e[r])};var Sr={},eM=wt,tM=Be,wA=eM&&tM(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),rM=pt,nM=String,aM=TypeError,We=function(t){if(rM(t))return t;throw new aM(nM(t)+" is not an object")},iM=wt,sM=bA,oM=wA,sc=We,e_=yy,lM=TypeError,Mh=Object.defineProperty,uM=Object.getOwnPropertyDescriptor,Nh="enumerable",Fh="configurable",Uh="writable";Sr.f=iM?oM?function(e,r,n){if(sc(e),r=e_(r),sc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Uh in n&&!n[Uh]){var a=uM(e,r);a&&a[Uh]&&(e[r]=n.value,n={configurable:Fh in n?n[Fh]:a[Fh],enumerable:Nh in n?n[Nh]:a[Nh],writable:!1})}return Mh(e,r,n)}:Mh:function(e,r,n){if(sc(e),r=e_(r),sc(n),sM)try{return Mh(e,r,n)}catch{}if("get"in n||"set"in n)throw new lM("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var cM=wt,fM=Sr,dM=ls,va=cM?function(t,e,r){return fM.f(t,e,dM(1,r))}:function(t,e,r){return t[e]=r,t},_A={exports:{}},um=wt,hM=xt,$A=Function.prototype,pM=um&&Object.getOwnPropertyDescriptor,by=hM($A,"name"),vM=by&&(function(){}).name==="something",mM=by&&(!um||um&&pM($A,"name").configurable),$u={EXISTS:by,PROPER:vM,CONFIGURABLE:mM},gM=Ue,yM=dt,cm=md,bM=gM(Function.toString);yM(cm.inspectSource)||(cm.inspectSource=function(t){return bM(t)});var wy=cm.inspectSource,wM=st,_M=dt,t_=wM.WeakMap,xA=_M(t_)&&/native code/.test(String(t_)),$M=Ro,xM=gd,r_=$M("keys"),bd=function(t){return r_[t]||(r_[t]=xM(t))},xu={},SM=xA,SA=st,IM=pt,EM=va,Bh=xt,zh=md,AM=bd,OM=xu,n_="Object already initialized",fm=SA.TypeError,kM=SA.WeakMap,Lf,Jl,Mf,RM=function(t){return Mf(t)?Jl(t):Lf(t,{})},TM=function(t){return function(e){var r;if(!IM(e)||(r=Jl(e)).type!==t)throw new fm("Incompatible receiver, "+t+" required");return r}};if(SM||zh.state){var Qn=zh.state||(zh.state=new kM);Qn.get=Qn.get,Qn.has=Qn.has,Qn.set=Qn.set,Lf=function(t,e){if(Qn.has(t))throw new fm(n_);return e.facade=t,Qn.set(t,e),e},Jl=function(t){return Qn.get(t)||{}},Mf=function(t){return Qn.has(t)}}else{var As=AM("state");OM[As]=!0,Lf=function(t,e){if(Bh(t,As))throw new fm(n_);return e.facade=t,EM(t,As,e),e},Jl=function(t){return Bh(t,As)?t[As]:{}},Mf=function(t){return Bh(t,As)}}var or={set:Lf,get:Jl,has:Mf,enforce:RM,getterFor:TM},_y=Ue,PM=Be,CM=dt,oc=xt,dm=wt,DM=$u.CONFIGURABLE,jM=wy,IA=or,LM=IA.enforce,MM=IA.get,a_=String,of=Object.defineProperty,NM=_y("".slice),FM=_y("".replace),UM=_y([].join),BM=dm&&!PM(function(){return of(function(){},"length",{value:8}).length!==8}),zM=String(String).split("String"),GM=_A.exports=function(t,e,r){NM(a_(e),0,7)==="Symbol("&&(e="["+FM(a_(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!oc(t,"name")||DM&&t.name!==e)&&(dm?of(t,"name",{value:e,configurable:!0}):t.name=e),BM&&r&&oc(r,"arity")&&t.length!==r.arity&&of(t,"length",{value:r.arity});try{r&&oc(r,"constructor")&&r.constructor?dm&&of(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=LM(t);return oc(n,"source")||(n.source=UM(zM,typeof e=="string"?e:"")),t};Function.prototype.toString=GM(function(){return CM(this)&&MM(this).source||jM(this)},"toString");var EA=_A.exports,qM=dt,HM=Sr,VM=EA,WM=gy,tr=function(t,e,r,n){n||(n={});var a=n.enumerable,i=n.name!==void 0?n.name:e;if(qM(r)&&VM(r,i,n),n.global)a?t[e]=r:WM(e,r);else{try{n.unsafe?t[e]&&(a=!0):delete t[e]}catch{}a?t[e]=r:HM.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},cs={},KM=Math.ceil,JM=Math.floor,YM=Math.trunc||function(e){var r=+e;return(r>0?JM:KM)(r)},QM=YM,Pa=function(t){var e=+t;return e!==e||e===0?0:QM(e)},XM=Pa,ZM=Math.max,eN=Math.min,$y=function(t,e){var r=XM(t);return r<0?ZM(r+e,0):eN(r,e)},tN=Pa,rN=Math.min,fs=function(t){var e=tN(t);return e>0?rN(e,9007199254740991):0},nN=fs,Vn=function(t){return nN(t.length)},aN=Cn,iN=$y,sN=Vn,i_=function(t){return function(e,r,n){var a=aN(e),i=sN(a);if(i===0)return!t&&-1;var s=iN(n,i),o;if(t&&r!==r){for(;i>s;)if(o=a[s++],o!==o)return!0}else for(;i>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},AA={includes:i_(!0),indexOf:i_(!1)},oN=Ue,Gh=xt,lN=Cn,uN=AA.indexOf,cN=xu,s_=oN([].push),OA=function(t,e){var r=lN(t),n=0,a=[],i;for(i in r)!Gh(cN,i)&&Gh(r,i)&&s_(a,i);for(;e.length>n;)Gh(r,i=e[n++])&&(~uN(a,i)||s_(a,i));return a},xy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fN=OA,dN=xy,hN=dN.concat("length","prototype");cs.f=Object.getOwnPropertyNames||function(e){return fN(e,hN)};var Su={};Su.f=Object.getOwnPropertySymbols;var pN=er,vN=Ue,mN=cs,gN=Su,yN=We,bN=vN([].concat),kA=pN("Reflect","ownKeys")||function(e){var r=mN.f(yN(e)),n=gN.f;return n?bN(r,n(e)):r},o_=xt,wN=kA,_N=Rn,$N=Sr,RA=function(t,e,r){for(var n=wN(e),a=$N.f,i=_N.f,s=0;s<n.length;s++){var o=n[s];!o_(t,o)&&!(r&&o_(r,o))&&a(t,o,i(e,o))}},xN=Be,SN=dt,IN=/#|\.prototype\./,Iu=function(t,e){var r=AN[EN(t)];return r===kN?!0:r===ON?!1:SN(e)?xN(e):!!e},EN=Iu.normalize=function(t){return String(t).replace(IN,".").toLowerCase()},AN=Iu.data={},ON=Iu.NATIVE="N",kN=Iu.POLYFILL="P",Eu=Iu,lc=st,RN=Rn.f,TN=va,PN=tr,CN=gy,DN=RA,jN=Eu,ge=function(t,e){var r=t.target,n=t.global,a=t.stat,i,s,o,l,u,c;if(n?s=lc:a?s=lc[r]||CN(r,{}):s=lc[r]&&lc[r].prototype,s)for(o in e){if(u=e[o],t.dontCallGetSet?(c=RN(s,o),l=c&&c.value):l=s[o],i=jN(n?o:r+(a?".":"#")+o,t.forced),!i&&l!==void 0){if(typeof u==typeof l)continue;DN(u,l)}(t.sham||l&&l.sham)&&TN(u,"sham",!0),PN(s,o,u,t)}},uc=Ue,Qo=Map.prototype,Ca={Map,set:uc(Qo.set),get:uc(Qo.get),has:uc(Qo.has),remove:uc(Qo.delete),proto:Qo},LN=Ca.has,Qr=function(t){return LN(t),t},MN=ge,NN=Qr,FN=Ca.remove;MN({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=NN(this),r=!0,n,a=0,i=arguments.length;a<i;a++)n=FN(e,arguments[a]),r=r&&n;return!!r}});var UN=ge,BN=Qr,Sy=Ca,zN=Sy.get,GN=Sy.has,l_=Sy.set;UN({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(e,r){var n=BN(this),a,i;return GN(n,e)?(a=zN(n,e),"update"in r&&(a=r.update(a,e,n),l_(n,e,a)),a):(i=r.insert(e,n),l_(n,e,i),i)}});var qN=Tn,HN=Ue,wd=function(t){if(qN(t)==="Function")return HN(t)},u_=wd,VN=$t,WN=yu,KN=u_(u_.bind),Ut=function(t,e){return VN(t),e===void 0?t:WN?KN(t,e):function(){return t.apply(e,arguments)}},JN=Ne,bi=function(t,e,r){for(var n=r?t:t.iterator,a=t.next,i,s;!(i=JN(a,n)).done;)if(s=e(i.value),s!==void 0)return s},TA=Ue,YN=bi,PA=Ca,QN=PA.Map,CA=PA.proto,XN=TA(CA.forEach),DA=TA(CA.entries),ZN=DA(new QN).next,ma=function(t,e,r){return r?YN({iterator:DA(t),next:ZN},function(n){return e(n[1],n[0])}):XN(t,e)},e3=ge,t3=Ut,r3=Qr,n3=ma;e3({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var r=r3(this),n=t3(e,arguments.length>1?arguments[1]:void 0);return n3(r,function(a,i){if(!n(a,i,r))return!1},!0)!==!1}});var a3=ge,i3=Ut,s3=Qr,jA=Ca,o3=ma,l3=jA.Map,u3=jA.set;a3({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var r=s3(this),n=i3(e,arguments.length>1?arguments[1]:void 0),a=new l3;return o3(r,function(i,s){n(i,s,r)&&u3(a,s,i)}),a}});var c3=ge,f3=Ut,d3=Qr,h3=ma;c3({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var r=d3(this),n=f3(e,arguments.length>1?arguments[1]:void 0),a=h3(r,function(i,s){if(n(i,s,r))return{value:i}},!0);return a&&a.value}});var p3=ge,v3=Ut,m3=Qr,g3=ma;p3({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var r=m3(this),n=v3(e,arguments.length>1?arguments[1]:void 0),a=g3(r,function(i,s){if(n(i,s,r))return{key:s}},!0);return a&&a.key}});var y3=function(t,e){return t===e||t!==t&&e!==e},b3=ge,w3=y3,_3=Qr,$3=ma;b3({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return $3(_3(this),function(r){if(w3(r,e))return!0},!0)===!0}});var x3=ge,S3=Qr,I3=ma;x3({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var r=I3(S3(this),function(n,a){if(n===e)return{key:a}},!0);return r&&r.key}});var E3=ge,A3=Ut,O3=Qr,LA=Ca,k3=ma,R3=LA.Map,T3=LA.set;E3({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var r=O3(this),n=A3(e,arguments.length>1?arguments[1]:void 0),a=new R3;return k3(r,function(i,s){T3(a,n(i,s,r),i)}),a}});var P3=ge,C3=Ut,D3=Qr,MA=Ca,j3=ma,L3=MA.Map,M3=MA.set;P3({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var r=D3(this),n=C3(e,arguments.length>1?arguments[1]:void 0),a=new L3;return j3(r,function(i,s){M3(a,s,n(i,s,r))}),a}});var To={},N3=nt,F3=To,U3=N3("iterator"),B3=Array.prototype,NA=function(t){return t!==void 0&&(F3.Array===t||B3[U3]===t)},z3=nt,G3=z3("toStringTag"),FA={};FA[G3]="z";var Iy=String(FA)==="[object z]",q3=Iy,H3=dt,lf=Tn,V3=nt,W3=V3("toStringTag"),K3=Object,J3=lf(function(){return arguments}())==="Arguments",Y3=function(t,e){try{return t[e]}catch{}},Po=q3?lf:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Y3(e=K3(t),W3))=="string"?r:J3?lf(e):(n=lf(e))==="Object"&&H3(e.callee)?"Arguments":n},Q3=Po,c_=Dn,X3=Pn,Z3=To,eF=nt,tF=eF("iterator"),Co=function(t){if(!X3(t))return c_(t,tF)||c_(t,"@@iterator")||Z3[Q3(t)]},rF=Ne,nF=$t,aF=We,iF=ko,sF=Co,oF=TypeError,Ey=function(t,e){var r=arguments.length<2?sF(t):e;if(nF(r))return aF(rF(r,t));throw new oF(iF(t)+" is not iterable")},lF=Ne,f_=We,uF=Dn,ds=function(t,e,r){var n,a;f_(t);try{if(n=uF(t,"return"),!n){if(e==="throw")throw r;return r}n=lF(n,t)}catch(i){a=!0,n=i}if(e==="throw")throw r;if(a)throw n;return f_(n),r},cF=Ut,fF=Ne,dF=We,hF=ko,pF=NA,vF=Vn,d_=yi,mF=Ey,gF=Co,h_=ds,yF=TypeError,uf=function(t,e){this.stopped=t,this.result=e},p_=uf.prototype,Wn=function(t,e,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),i=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),l=cF(e,n),u,c,f,d,h,p,y,k=function(b){return u&&h_(u,"normal",b),new uf(!0,b)},$=function(b){return a?(dF(b),o?l(b[0],b[1],k):l(b[0],b[1])):o?l(b,k):l(b)};if(i)u=t.iterator;else if(s)u=t;else{if(c=gF(t),!c)throw new yF(hF(t)+" is not iterable");if(pF(c)){for(f=0,d=vF(t);d>f;f++)if(h=$(t[f]),h&&d_(p_,h))return h;return new uf(!1)}u=mF(t,c)}for(p=i?t.next:u.next;!(y=fF(p,u)).done;){try{h=$(y.value)}catch(b){h_(u,"throw",b)}if(typeof h=="object"&&h&&d_(p_,h))return h}return new uf(!1)},bF=ge,wF=Qr,_F=Wn,$F=Ca.set;bF({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var r=wF(this),n=arguments.length,a=0;a<n;)_F(arguments[a++],function(i,s){$F(r,i,s)},{AS_ENTRIES:!0});return r}});var xF=ge,SF=$t,IF=Qr,EF=ma,AF=TypeError;xF({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var r=IF(this),n=arguments.length<2,a=n?void 0:arguments[1];if(SF(e),EF(r,function(i,s){n?(n=!1,a=i):a=e(a,i,s,r)}),n)throw new AF("Reduce of empty map with no initial value");return a}});var OF=ge,kF=Ut,RF=Qr,TF=ma;OF({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var r=RF(this),n=kF(e,arguments.length>1?arguments[1]:void 0);return TF(r,function(a,i){if(n(a,i,r))return!0},!0)===!0}});var PF=ge,v_=$t,CF=Qr,Ay=Ca,DF=TypeError,jF=Ay.get,LF=Ay.has,MF=Ay.set;PF({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,r){var n=CF(this),a=arguments.length;v_(r);var i=LF(n,e);if(!i&&a<3)throw new DF("Updating absent value");var s=i?jF(n,e):v_(a>2?arguments[2]:void 0)(e,n);return MF(n,e,r(s,e,n)),n}});var Ir=function(t){return{iterator:t,next:t.next,done:!1}},_d=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},Oy={},NF=OA,FF=xy,Au=Object.keys||function(e){return NF(e,FF)},UF=wt,BF=wA,zF=Sr,GF=We,qF=Cn,HF=Au;Oy.f=UF&&!BF?Object.defineProperties:function(e,r){GF(e);for(var n=qF(r),a=HF(r),i=a.length,s=0,o;i>s;)zF.f(e,o=a[s++],n[o]);return e};var VF=er,UA=VF("document","documentElement"),WF=We,KF=Oy,m_=xy,JF=xu,YF=UA,QF=yd,XF=bd,g_=">",y_="<",hm="prototype",pm="script",BA=XF("IE_PROTO"),qh=function(){},zA=function(t){return y_+pm+g_+t+y_+"/"+pm+g_},b_=function(t){t.write(zA("")),t.close();var e=t.parentWindow.Object;return t=null,e},ZF=function(){var t=QF("iframe"),e="java"+pm+":",r;return t.style.display="none",YF.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(zA("document.F=Object")),r.close(),r.F},cc,cf=function(){try{cc=new ActiveXObject("htmlfile")}catch{}cf=typeof document<"u"?document.domain&&cc?b_(cc):ZF():b_(cc);for(var t=m_.length;t--;)delete cf[hm][m_[t]];return cf()};JF[BA]=!0;var Kn=Object.create||function(e,r){var n;return e!==null?(qh[hm]=WF(e),n=new qh,qh[hm]=null,n[BA]=e):n=cf(),r===void 0?n:KF.f(n,r)},eU=tr,hs=function(t,e,r){for(var n in e)eU(t,n,e[n],r);return t},tU=Be,GA=!tU(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),rU=xt,nU=dt,aU=Yr,iU=bd,sU=GA,w_=iU("IE_PROTO"),vm=Object,oU=vm.prototype,Da=sU?vm.getPrototypeOf:function(t){var e=aU(t);if(rU(e,w_))return e[w_];var r=e.constructor;return nU(r)&&e instanceof r?r.prototype:e instanceof vm?oU:null},qA=st,HA=md,VA=dt,fc=Da,lU=tr,uU=nt,__="USE_FUNCTION_CONSTRUCTOR",$_=uU("asyncIterator"),x_=qA.AsyncIterator,S_=HA.AsyncIteratorPrototype,ii,Hh;if(S_)ii=S_;else if(VA(x_))ii=x_.prototype;else if(HA[__]||qA[__])try{Hh=fc(fc(fc(Function("return async function*(){}()")()))),fc(Hh)===Object.prototype&&(ii=Hh)}catch{}ii||(ii={});VA(ii[$_])||lU(ii,$_,function(){return this});var ky=ii,Jn=function(t,e){return{value:t,done:e}},cU=Ne,dc=_d,I_=We,fU=Kn,dU=va,hU=hs,pU=nt,WA=or,vU=er,mU=Dn,gU=ky,Vh=Jn,E_=ds,Xn=vU("Promise"),yU=pU("toStringTag"),KA="AsyncIteratorHelper",JA="WrapForValidAsyncIterator",bU=WA.set,YA=function(t){var e=!t,r=WA.getterFor(t?JA:KA),n=function(a){var i=dc(function(){return r(a)}),s=i.error,o=i.value;return s||e&&o.done?{exit:!0,value:s?Xn.reject(o):Xn.resolve(Vh(void 0,!0))}:{exit:!1,value:o}};return hU(fU(gU),{next:function(){var i=n(this),s=i.value;if(i.exit)return s;var o=dc(function(){return I_(s.nextHandler(Xn))}),l=o.error,u=o.value;return l&&(s.done=!0),l?Xn.reject(u):Xn.resolve(u)},return:function(){var a=n(this),i=a.value;if(a.exit)return i;i.done=!0;var s=i.iterator,o,l,u=dc(function(){if(i.inner)try{E_(i.inner.iterator,"normal")}catch(c){return E_(s,"throw",c)}return mU(s,"return")});return o=l=u.value,u.error?Xn.reject(l):o===void 0?Xn.resolve(Vh(void 0,!0)):(u=dc(function(){return cU(o,s)}),l=u.value,u.error?Xn.reject(l):t?Xn.resolve(l):Xn.resolve(l).then(function(c){return I_(c),Vh(void 0,!0)}))}})},wU=YA(!0),QA=YA(!1);dU(QA,yU,"Async Iterator Helper");var Ry=function(t,e){var r=function(a,i){i?(i.iterator=a.iterator,i.next=a.next):i=a,i.type=e?JA:KA,i.nextHandler=t,i.counter=0,i.done=!1,bU(this,i)};return r.prototype=e?wU:QA,r},_U=Ne,$U=er,xU=Dn,Ou=function(t,e,r,n){try{var a=xU(t,"return");if(a)return $U("Promise").resolve(_U(a,t)).then(function(){e(r)},function(i){n(i)})}catch(i){return n(i)}e(r)},SU=Ne,IU=$t,mm=We,EU=pt,AU=Ir,OU=Ry,A_=Jn,kU=Ou,RU=OU(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(a,i){var s=function(l){e.done=!0,i(l)},o=function(l){kU(r,s,l,s)};t.resolve(mm(SU(e.next,r))).then(function(l){try{if(mm(l).done)e.done=!0,a(A_(void 0,!0));else{var u=l.value;try{var c=n(u,e.counter++),f=function(d){a(A_(d,!1))};EU(c)?t.resolve(c).then(f,o):f(c)}catch(d){o(d)}}}catch(d){s(d)}},s)})}),TU=function(e){return mm(this),IU(e),new RU(AU(this),{mapper:e})},PU=ge,CU=TU,DU=pa;PU({target:"AsyncIterator",proto:!0,real:!0,forced:DU},{map:CU});var jU=Be,LU=dt,MU=pt,O_=Da,NU=tr,FU=nt,gm=FU("iterator"),XA=!1,ns,Wh,Kh;[].keys&&(Kh=[].keys(),"next"in Kh?(Wh=O_(O_(Kh)),Wh!==Object.prototype&&(ns=Wh)):XA=!0);var UU=!MU(ns)||jU(function(){var t={};return ns[gm].call(t)!==t});UU&&(ns={});LU(ns[gm])||NU(ns,gm,function(){return this});var $d={IteratorPrototype:ns,BUGGY_SAFARI_ITERATORS:XA},BU=Ne,zU=Kn,GU=va,qU=hs,HU=nt,ZA=or,VU=Dn,WU=$d.IteratorPrototype,Jh=Jn,Yh=ds,KU=HU("toStringTag"),eO="IteratorHelper",tO="WrapForValidIterator",JU=ZA.set,rO=function(t){var e=ZA.getterFor(t?tO:eO);return qU(zU(WU),{next:function(){var n=e(this);if(t)return n.nextHandler();try{var a=n.done?void 0:n.nextHandler();return Jh(a,n.done)}catch(i){throw n.done=!0,i}},return:function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var a=VU(n,"return");return a?BU(a,n):Jh(void 0,!0)}if(r.inner)try{Yh(r.inner.iterator,"normal")}catch(i){return Yh(n,"throw",i)}return Yh(n,"normal"),Jh(void 0,!0)}})},YU=rO(!0),nO=rO(!1);GU(nO,KU,"Iterator Helper");var Ty=function(t,e){var r=function(a,i){i?(i.iterator=a.iterator,i.next=a.next):i=a,i.type=e?tO:eO,i.nextHandler=t,i.counter=0,i.done=!1,JU(this,i)};return r.prototype=e?YU:nO,r},QU=We,XU=ds,Py=function(t,e,r,n){try{return n?e(QU(r)[0],r[1]):e(r)}catch(a){XU(t,"throw",a)}},ZU=Ne,e4=$t,aO=We,t4=Ir,r4=Ty,n4=Py,a4=r4(function(){var t=this.iterator,e=aO(ZU(this.next,t)),r=this.done=!!e.done;if(!r)return n4(t,this.mapper,[e.value,this.counter++],!0)}),i4=function(e){return aO(this),e4(e),new a4(t4(this),{mapper:e})},s4=ge,o4=i4,l4=pa;s4({target:"Iterator",proto:!0,real:!0,forced:l4},{map:o4});var u4=TypeError,c4=9007199254740991,xd=function(t){if(t>c4)throw u4("Maximum allowed index exceeded");return t},f4=Ne,d4=$t,Qh=We,h4=pt,p4=xd,v4=er,m4=Ir,Xh=Ou,Xo=function(t){var e=t===0,r=t===1,n=t===2,a=t===3;return function(i,s,o){Qh(i);var l=s!==void 0;(l||!e)&&d4(s);var u=m4(i),c=v4("Promise"),f=u.iterator,d=u.next,h=0;return new c(function(p,y){var k=function(b){Xh(f,y,b,y)},$=function(){try{if(l)try{p4(h)}catch(b){k(b)}c.resolve(Qh(f4(d,f))).then(function(b){try{if(Qh(b).done)e?(o.length=h,p(o)):p(a?!1:n||void 0);else{var _=b.value;try{if(l){var O=s(_,h),R=function(P){if(r)$();else if(n)P?$():Xh(f,p,!1,y);else if(e)try{o[h++]=P,$()}catch(T){k(T)}else P?Xh(f,p,a||_,y):$()};h4(O)?c.resolve(O).then(R,k):R(O)}else o[h++]=_,$()}catch(P){k(P)}}}catch(P){y(P)}},y)}catch(b){y(b)}};$()})}},Sd={toArray:Xo(0),forEach:Xo(1),every:Xo(2),some:Xo(3),find:Xo(4)},g4=ge,y4=Sd.forEach;g4({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return y4(this,e)}});var b4=yi,w4=TypeError,wi=function(t,e){if(b4(e,t))return t;throw new w4("Incorrect invocation")},k_=EA,_4=Sr,ja=function(t,e,r){return r.get&&k_(r.get,e,{getter:!0}),r.set&&k_(r.set,e,{setter:!0}),_4.f(t,e,r)},$4=wt,x4=Sr,S4=ls,Do=function(t,e,r){$4?x4.f(t,e,S4(0,r)):t[e]=r},I4=ge,E4=st,A4=wi,O4=We,k4=dt,R4=Da,T4=ja,P4=Do,C4=Be,Cy=xt,D4=nt,la=$d.IteratorPrototype,j4=wt,Zh="constructor",iO="Iterator",R_=D4("toStringTag"),sO=TypeError,ep=E4[iO],oO=!k4(ep)||ep.prototype!==la||!C4(function(){ep({})}),Dy=function(){if(A4(this,la),R4(this)===la)throw new sO("Abstract class Iterator not directly constructable")},lO=function(t,e){j4?T4(la,t,{configurable:!0,get:function(){return e},set:function(r){if(O4(this),this===la)throw new sO("You can't redefine this property");Cy(this,t)?this[t]=r:P4(this,t,r)}}):la[t]=e};Cy(la,R_)||lO(R_,iO);(oO||!Cy(la,Zh)||la[Zh]===Object)&&lO(Zh,Dy);Dy.prototype=la;I4({global:!0,constructor:!0,forced:oO},{Iterator:Dy});var L4=ge,M4=Wn,N4=$t,F4=We,U4=Ir;L4({target:"Iterator",proto:!0,real:!0},{forEach:function(e){F4(this),N4(e);var r=U4(this),n=0;M4(r,function(a){e(a,n++)},{IS_RECORD:!0})}});var B4=ge,z4=Ne,G4=$t,tp=We,q4=pt,H4=er,V4=Ir,W4=Ou,rp=H4("Promise"),K4=TypeError;B4({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){tp(this),G4(e);var r=V4(this),n=r.iterator,a=r.next,i=arguments.length<2,s=i?void 0:arguments[1],o=0;return new rp(function(l,u){var c=function(d){W4(n,u,d,u)},f=function(){try{rp.resolve(tp(z4(a,n))).then(function(d){try{if(tp(d).done)i?u(new K4("Reduce of empty iterator with no initial value")):l(s);else{var h=d.value;if(i)i=!1,s=h,f();else try{var p=e(s,h,o),y=function(k){s=k,f()};q4(p)?rp.resolve(p).then(y,c):y(p)}catch(k){c(k)}}o++}catch(k){u(k)}},u)}catch(d){u(d)}};f()})}});var J4=ge,Y4=Wn,Q4=$t,X4=We,Z4=Ir,e5=TypeError;J4({target:"Iterator",proto:!0,real:!0},{reduce:function(e){X4(this),Q4(e);var r=Z4(this),n=arguments.length<2,a=n?void 0:arguments[1],i=0;if(Y4(r,function(s){n?(n=!1,a=s):a=e(a,s,i),i++},{IS_RECORD:!0}),n)throw new e5("Reduce of empty iterator with no initial value");return a}});var t5=ge,r5=Ne,n5=$t,ym=We,a5=pt,i5=Ir,s5=Ry,T_=Jn,o5=Ou,l5=pa,u5=s5(function(t){var e=this,r=e.iterator,n=e.predicate;return new t(function(a,i){var s=function(u){e.done=!0,i(u)},o=function(u){o5(r,s,u,s)},l=function(){try{t.resolve(ym(r5(e.next,r))).then(function(u){try{if(ym(u).done)e.done=!0,a(T_(void 0,!0));else{var c=u.value;try{var f=n(c,e.counter++),d=function(h){h?a(T_(c,!1)):l()};a5(f)?t.resolve(f).then(d,o):d(f)}catch(h){o(h)}}}catch(h){s(h)}},s)}catch(u){s(u)}};l()})});t5({target:"AsyncIterator",proto:!0,real:!0,forced:l5},{filter:function(e){return ym(this),n5(e),new u5(i5(this),{predicate:e})}});var c5=ge,f5=Ne,d5=$t,uO=We,h5=Ir,p5=Ty,v5=Py,m5=pa,g5=p5(function(){for(var t=this.iterator,e=this.predicate,r=this.next,n,a,i;;){if(n=uO(f5(r,t)),a=this.done=!!n.done,a)return;if(i=n.value,v5(t,e,[i,this.counter++],!0))return i}});c5({target:"Iterator",proto:!0,real:!0,forced:m5},{filter:function(e){return uO(this),d5(e),new g5(h5(this),{predicate:e})}});var y5=ge,b5=Sd.some;y5({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return b5(this,e)}});var w5=ge,_5=Wn,$5=$t,x5=We,S5=Ir;w5({target:"Iterator",proto:!0,real:!0},{some:function(e){x5(this),$5(e);var r=S5(this),n=0;return _5(r,function(a,i){if(e(a,n++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var I5=Iy,E5=Po,A5=I5?{}.toString:function(){return"[object "+E5(this)+"]"},O5=Iy,k5=tr,R5=A5;O5||k5(Object.prototype,"toString",R5,{unsafe:!0});var T5=Sr.f,P5=xt,C5=nt,P_=C5("toStringTag"),La=function(t,e,r){t&&!r&&(t=t.prototype),t&&!P5(t,P_)&&T5(t,P_,{configurable:!0,value:e})},D5=ge,j5=st,L5=La;D5({global:!0},{Reflect:{}});L5(j5.Reflect,"Reflect",!0);var M5=yu,cO=Function.prototype,C_=cO.apply,D_=cO.call,Id=typeof Reflect=="object"&&Reflect.apply||(M5?D_.bind(C_):function(){return D_.apply(C_,arguments)}),N5=Ue,ps=N5([].slice),fO=Ue,F5=$t,U5=pt,B5=xt,j_=ps,z5=yu,dO=Function,G5=fO([].concat),q5=fO([].join),np={},H5=function(t,e,r){if(!B5(np,e)){for(var n=[],a=0;a<e;a++)n[a]="a["+a+"]";np[e]=dO("C,a","return new C("+q5(n,",")+")")}return np[e](t,r)},V5=z5?dO.bind:function(e){var r=F5(this),n=r.prototype,a=j_(arguments,1),i=function(){var o=G5(a,j_(arguments));return this instanceof i?H5(r,o.length,o):r.apply(e,o)};return U5(n)&&(i.prototype=n),i},W5=Ue,K5=Be,hO=dt,J5=Po,Y5=er,Q5=wy,pO=function(){},vO=Y5("Reflect","construct"),jy=/^\s*(?:class|function)\b/,X5=W5(jy.exec),Z5=!jy.test(pO),Zo=function(e){if(!hO(e))return!1;try{return vO(pO,[],e),!0}catch{return!1}},mO=function(e){if(!hO(e))return!1;switch(J5(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Z5||!!X5(jy,Q5(e))}catch{return!0}};mO.sham=!0;var Ed=!vO||K5(function(){var t;return Zo(Zo.call)||!Zo(Object)||!Zo(function(){t=!0})||t})?mO:Zo,e6=Ed,t6=ko,r6=TypeError,gO=function(t){if(e6(t))return t;throw new r6(t6(t)+" is not a constructor")},n6=ge,a6=er,ap=Id,i6=V5,L_=gO,s6=We,M_=pt,o6=Kn,yO=Be,Ly=a6("Reflect","construct"),l6=Object.prototype,u6=[].push,bO=yO(function(){function t(){}return!(Ly(function(){},[],t)instanceof t)}),wO=!yO(function(){Ly(function(){})}),N_=bO||wO;n6({target:"Reflect",stat:!0,forced:N_,sham:N_},{construct:function(e,r){L_(e),s6(r);var n=arguments.length<3?e:L_(arguments[2]);if(wO&&!bO)return Ly(e,r,n);if(e===n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var a=[null];return ap(u6,a,r),new(ap(i6,e,a))}var i=n.prototype,s=o6(M_(i)?i:l6),o=ap(e,s,r);return M_(o)?o:s}});function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yl(t,e){return Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Yl(t,e)}function ot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yl(t,e)}function wr(t){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function at(t,e){if(e&&(wr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(t)}var c6=Tn,jo=Array.isArray||function(e){return c6(e)==="Array"},F_=jo,f6=Ed,d6=pt,h6=nt,p6=h6("species"),U_=Array,v6=function(t){var e;return F_(t)&&(e=t.constructor,f6(e)&&(e===U_||F_(e.prototype))?e=void 0:d6(e)&&(e=e[p6],e===null&&(e=void 0))),e===void 0?U_:e},m6=v6,ku=function(t,e){return new(m6(t))(e===0?0:e)},g6=Be,y6=nt,b6=wu,w6=y6("species"),Ru=function(t){return b6>=51||!g6(function(){var e=[],r=e.constructor={};return r[w6]=function(){return{foo:1}},e[t](Boolean).foo!==1})},_6=ge,$6=Be,x6=jo,S6=pt,I6=Yr,E6=Vn,B_=xd,z_=Do,A6=ku,O6=Ru,k6=nt,R6=wu,_O=k6("isConcatSpreadable"),T6=R6>=51||!$6(function(){var t=[];return t[_O]=!1,t.concat()[0]!==t}),P6=function(t){if(!S6(t))return!1;var e=t[_O];return e!==void 0?!!e:x6(t)},C6=!T6||!O6("concat");_6({target:"Array",proto:!0,arity:1,forced:C6},{concat:function(e){var r=I6(this),n=A6(r,0),a=0,i,s,o,l,u;for(i=-1,o=arguments.length;i<o;i++)if(u=i===-1?r:arguments[i],P6(u))for(l=E6(u),B_(a+l),s=0;s<l;s++,a++)s in u&&z_(n,a,u[s]);else B_(a+1),z_(n,a++,u);return n.length=a,n}});var D6=wt,j6=$u.EXISTS,$O=Ue,L6=ja,xO=Function.prototype,M6=$O(xO.toString),SO=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,N6=$O(SO.exec),F6="name";D6&&!j6&&L6(xO,F6,{configurable:!0,get:function(){try{return N6(SO,M6(this))[1]}catch{return""}}});var U6=ge,ip=st;U6({global:!0,forced:ip.globalThis!==ip},{globalThis:ip});function B6(t,e){if(wr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IO(t){var e=B6(t,"string");return wr(e)=="symbol"?e:e+""}function G_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IO(n.key),n)}}function Fe(t,e,r){return e&&G_(t.prototype,e),r&&G_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J(t,e,r){return(e=IO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q_=wt,z6=Ue,G6=Ne,q6=Be,sp=Au,H6=Su,V6=bu,W6=Yr,K6=vd,Os=Object.assign,H_=Object.defineProperty,J6=z6([].concat),EO=!Os||q6(function(){if(q_&&Os({b:1},Os(H_({},"a",{enumerable:!0,get:function(){H_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(a){e[a]=a}),Os({},t)[r]!==7||sp(Os({},e)).join("")!==n})?function(e,r){for(var n=W6(e),a=arguments.length,i=1,s=H6.f,o=V6.f;a>i;)for(var l=K6(arguments[i++]),u=s?J6(sp(l),s(l)):sp(l),c=u.length,f=0,d;c>f;)d=u[f++],(!q_||G6(o,l,d))&&(n[d]=l[d]);return n}:Os,Y6=ge,V_=EO;Y6({target:"Object",stat:!0,arity:2,forced:Object.assign!==V_},{assign:V_});var W_=xt,AO=function(t){return t!==void 0&&(W_(t,"value")||W_(t,"writable"))},Q6=ge,X6=Ne,Z6=pt,eB=We,tB=AO,rB=Rn,nB=Da;function OO(t,e){var r=arguments.length<3?t:arguments[2],n,a;if(eB(t)===r)return t[e];if(n=rB.f(t,e),n)return tB(n)?n.value:n.get===void 0?void 0:X6(n.get,r);if(Z6(a=nB(t)))return OO(a,e,r)}Q6({target:"Reflect",stat:!0},{get:OO});var aB=ge,iB=Ne,sB=We,K_=pt,oB=AO,lB=Be,bm=Sr,J_=Rn,uB=Da,Y_=ls;function kO(t,e,r){var n=arguments.length<4?t:arguments[3],a=J_.f(sB(t),e),i,s,o;if(!a){if(K_(s=uB(t)))return kO(s,e,r,n);a=Y_(0)}if(oB(a)){if(a.writable===!1||!K_(n))return!1;if(i=J_.f(n,e)){if(i.get||i.set||i.writable===!1)return!1;i.value=r,bm.f(n,e,i)}else bm.f(n,e,Y_(0,r))}else{if(o=a.set,o===void 0)return!1;iB(o,n,r)}return!0}var cB=lB(function(){var t=function(){},e=bm.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});aB({target:"Reflect",stat:!0,forced:cB},{set:kO});var fB=ge,dB=We,hB=Rn.f;fB({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=hB(dB(e),r);return n&&!n.configurable?!1:delete e[r]}});var pB=nt,vB=Kn,mB=Sr.f,wm=pB("unscopables"),_m=Array.prototype;_m[wm]===void 0&&mB(_m,wm,{configurable:!0,value:vB(null)});var Lo=function(t){_m[wm][t]=!0},gB=$d.IteratorPrototype,yB=Kn,bB=ls,wB=La,_B=To,$B=function(){return this},My=function(t,e,r,n){var a=e+" Iterator";return t.prototype=yB(gB,{next:bB(+!n,r)}),wB(t,a,!1),_B[a]=$B,t},xB=Ue,SB=$t,RO=function(t,e,r){try{return xB(SB(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},IB=pt,EB=function(t){return IB(t)||t===null},AB=EB,OB=String,kB=TypeError,RB=function(t){if(AB(t))return t;throw new kB("Can't set "+OB(t)+" as a prototype")},TB=RO,PB=pt,CB=Jr,DB=RB,Ny=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=TB(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(a,i){return CB(a),DB(i),PB(a)&&(t?r(a,i):a.__proto__=i),a}}():void 0),jB=ge,LB=Ne,TO=$u,MB=dt,NB=My,Q_=Da,X_=Ny,FB=La,UB=va,op=tr,BB=nt,zB=To,PO=$d,GB=TO.PROPER,qB=TO.CONFIGURABLE,Z_=PO.IteratorPrototype,hc=PO.BUGGY_SAFARI_ITERATORS,el=BB("iterator"),e1="keys",tl="values",t1="entries",HB=function(){return this},Fy=function(t,e,r,n,a,i,s){NB(r,e,n);var o=function($){if($===a&&d)return d;if(!hc&&$&&$ in c)return c[$];switch($){case e1:return function(){return new r(this,$)};case tl:return function(){return new r(this,$)};case t1:return function(){return new r(this,$)}}return function(){return new r(this)}},l=e+" Iterator",u=!1,c=t.prototype,f=c[el]||c["@@iterator"]||a&&c[a],d=!hc&&f||o(a),h=e==="Array"&&c.entries||f,p,y,k;if(h&&(p=Q_(h.call(new t)),p!==Object.prototype&&p.next&&(Q_(p)!==Z_&&(X_?X_(p,Z_):MB(p[el])||op(p,el,HB)),FB(p,l,!0))),GB&&a===tl&&f&&f.name!==tl&&(qB?UB(c,"name",tl):(u=!0,d=function(){return LB(f,this)})),a)if(y={values:o(tl),keys:i?d:o(e1),entries:o(t1)},s)for(k in y)(hc||u||!(k in c))&&op(c,k,y[k]);else jB({target:e,proto:!0,forced:hc||u},y);return c[el]!==d&&op(c,el,d,{name:a}),zB[e]=d,y},VB=Cn,Uy=Lo,r1=To,CO=or,WB=Sr.f,KB=Fy,pc=Jn,JB=wt,DO="Array Iterator",YB=CO.set,QB=CO.getterFor(DO),XB=KB(Array,"Array",function(t,e){YB(this,{type:DO,target:VB(t),index:0,kind:e})},function(){var t=QB(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,pc(void 0,!0);switch(t.kind){case"keys":return pc(r,!1);case"values":return pc(e[r],!1)}return pc([r,e[r]],!1)},"values"),n1=r1.Arguments=r1.Array;Uy("keys");Uy("values");Uy("entries");if(JB&&n1.name!=="values")try{WB(n1,"name",{value:"values"})}catch{}var jO={exports:{}},Ad={},ZB=Tn,e8=Cn,LO=cs.f,t8=ps,MO=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r8=function(t){try{return LO(t)}catch{return t8(MO)}};Ad.f=function(e){return MO&&ZB(e)==="Window"?r8(e):LO(e8(e))};var n8=Be,a8=n8(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),i8=Be,s8=pt,o8=Tn,a1=a8,ff=Object.isExtensible,l8=i8(function(){ff(1)}),u8=l8||a1?function(e){return!s8(e)||a1&&o8(e)==="ArrayBuffer"?!1:ff?ff(e):!0}:ff,c8=Be,NO=!c8(function(){return Object.isExtensible(Object.preventExtensions({}))}),f8=ge,d8=Ue,h8=xu,p8=pt,By=xt,v8=Sr.f,i1=cs,m8=Ad,zy=u8,g8=gd,y8=NO,FO=!1,Oa=g8("meta"),b8=0,Gy=function(t){v8(t,Oa,{value:{objectID:"O"+b8++,weakData:{}}})},w8=function(t,e){if(!p8(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!By(t,Oa)){if(!zy(t))return"F";if(!e)return"E";Gy(t)}return t[Oa].objectID},_8=function(t,e){if(!By(t,Oa)){if(!zy(t))return!0;if(!e)return!1;Gy(t)}return t[Oa].weakData},$8=function(t){return y8&&FO&&zy(t)&&!By(t,Oa)&&Gy(t),t},x8=function(){S8.enable=function(){},FO=!0;var t=i1.f,e=d8([].splice),r={};r[Oa]=1,t(r).length&&(i1.f=function(n){for(var a=t(n),i=0,s=a.length;i<s;i++)if(a[i]===Oa){e(a,i,1);break}return a},f8({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:m8.f}))},S8=jO.exports={enable:x8,fastKey:w8,getWeakData:_8,onFreeze:$8};h8[Oa]=!0;var Od=jO.exports,I8=nt,UO=I8("iterator"),BO=!1;try{var E8=0,s1={next:function(){return{done:!!E8++}},return:function(){BO=!0}};s1[UO]=function(){return this},Array.from(s1,function(){throw 2})}catch{}var qy=function(t,e){try{if(!e&&!BO)return!1}catch{return!1}var r=!1;try{var n={};n[UO]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},A8=dt,O8=pt,o1=Ny,Hy=function(t,e,r){var n,a;return o1&&A8(n=e.constructor)&&n!==r&&O8(a=n.prototype)&&a!==r.prototype&&o1(t,a),t},k8=ge,R8=st,T8=Ue,l1=Eu,P8=tr,C8=Od,D8=Wn,j8=wi,L8=dt,M8=Pn,lp=pt,up=Be,N8=qy,F8=La,U8=Hy,kd=function(t,e,r){var n=t.indexOf("Map")!==-1,a=t.indexOf("Weak")!==-1,i=n?"set":"add",s=R8[t],o=s&&s.prototype,l=s,u={},c=function($){var b=T8(o[$]);P8(o,$,$==="add"?function(O){return b(this,O===0?0:O),this}:$==="delete"?function(_){return a&&!lp(_)?!1:b(this,_===0?0:_)}:$==="get"?function(O){return a&&!lp(O)?void 0:b(this,O===0?0:O)}:$==="has"?function(O){return a&&!lp(O)?!1:b(this,O===0?0:O)}:function(O,R){return b(this,O===0?0:O,R),this})},f=l1(t,!L8(s)||!(a||o.forEach&&!up(function(){new s().entries().next()})));if(f)l=r.getConstructor(e,t,n,i),C8.enable();else if(l1(t,!0)){var d=new l,h=d[i](a?{}:-0,1)!==d,p=up(function(){d.has(1)}),y=N8(function($){new s($)}),k=!a&&up(function(){for(var $=new s,b=5;b--;)$[i](b,b);return!$.has(-0)});y||(l=e(function($,b){j8($,o);var _=U8(new s,$,l);return M8(b)||D8(b,_[i],{that:_,AS_ENTRIES:n}),_}),l.prototype=o,o.constructor=l),(p||k)&&(c("delete"),c("has"),n&&c("get")),(k||h)&&c(i),a&&o.clear&&delete o.clear}return u[t]=l,k8({global:!0,constructor:!0,forced:l!==s},u),F8(l,t),a||r.setStrong(l,t,n),l},B8=er,z8=ja,G8=nt,q8=wt,u1=G8("species"),Vy=function(t){var e=B8(t);q8&&e&&!e[u1]&&z8(e,u1,{configurable:!0,get:function(){return this}})},c1=Kn,H8=ja,f1=hs,V8=Ut,W8=wi,K8=Pn,J8=Wn,Y8=Fy,vc=Jn,Q8=Vy,rl=wt,d1=Od.fastKey,zO=or,h1=zO.set,cp=zO.getterFor,GO={getConstructor:function(t,e,r,n){var a=t(function(u,c){W8(u,i),h1(u,{type:e,index:c1(null),first:void 0,last:void 0,size:0}),rl||(u.size=0),K8(c)||J8(c,u[n],{that:u,AS_ENTRIES:r})}),i=a.prototype,s=cp(e),o=function(u,c,f){var d=s(u),h=l(u,c),p,y;return h?h.value=f:(d.last=h={index:y=d1(c,!0),key:c,value:f,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=h),p&&(p.next=h),rl?d.size++:u.size++,y!=="F"&&(d.index[y]=h)),u},l=function(u,c){var f=s(u),d=d1(c),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===c)return h};return f1(i,{clear:function(){for(var c=this,f=s(c),d=f.first;d;)d.removed=!0,d.previous&&(d.previous=d.previous.next=void 0),d=d.next;f.first=f.last=void 0,f.index=c1(null),rl?f.size=0:c.size=0},delete:function(u){var c=this,f=s(c),d=l(c,u);if(d){var h=d.next,p=d.previous;delete f.index[d.index],d.removed=!0,p&&(p.next=h),h&&(h.previous=p),f.first===d&&(f.first=h),f.last===d&&(f.last=p),rl?f.size--:c.size--}return!!d},forEach:function(c){for(var f=s(this),d=V8(c,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(c){return!!l(this,c)}}),f1(i,r?{get:function(c){var f=l(this,c);return f&&f.value},set:function(c,f){return o(this,c===0?0:c,f)}}:{add:function(c){return o(this,c=c===0?0:c,c)}}),rl&&H8(i,"size",{configurable:!0,get:function(){return s(this).size}}),a},setStrong:function(t,e,r){var n=e+" Iterator",a=cp(e),i=cp(n);Y8(t,e,function(s,o){h1(this,{type:n,target:s,state:a(s),kind:o,last:void 0})},function(){for(var s=i(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,vc(void 0,!0)):vc(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),Q8(e)}},X8=kd,Z8=GO;X8("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Z8);var e7=Po,t7=String,Ct=function(t){if(e7(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t7(t)},Wy=Ue,r7=Pa,n7=Ct,a7=Jr,i7=Wy("".charAt),p1=Wy("".charCodeAt),s7=Wy("".slice),v1=function(t){return function(e,r){var n=n7(a7(e)),a=r7(r),i=n.length,s,o;return a<0||a>=i?t?"":void 0:(s=p1(n,a),s<55296||s>56319||a+1===i||(o=p1(n,a+1))<56320||o>57343?t?i7(n,a):s:t?s7(n,a,a+2):(s-55296<<10)+(o-56320)+65536)}},Rd={codeAt:v1(!1),charAt:v1(!0)},o7=Rd.charAt,l7=Ct,qO=or,u7=Fy,m1=Jn,HO="String Iterator",c7=qO.set,f7=qO.getterFor(HO);u7(String,"String",function(t){c7(this,{type:HO,string:l7(t),index:0})},function(){var e=f7(this),r=e.string,n=e.index,a;return n>=r.length?m1(void 0,!0):(a=o7(r,n),e.index+=a.length,m1(a,!1))});var fp=Ue,mc=Set.prototype,Xr={Set,add:fp(mc.add),has:fp(mc.has),remove:fp(mc.delete),proto:mc},d7=Xr.has,Er=function(t){return d7(t),t},h7=ge,p7=Er,v7=Xr.add;h7({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=p7(this),r=0,n=arguments.length;r<n;r++)v7(e,arguments[r]);return e}});var m7=ge,g7=Er,y7=Xr.remove;m7({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=g7(this),r=!0,n,a=0,i=arguments.length;a<i;a++)n=y7(e,arguments[a]),r=r&&n;return!!r}});var b7=Po,w7=xt,_7=Pn,$7=nt,x7=To,S7=$7("iterator"),I7=Object,E7=function(t){if(_7(t))return!1;var e=I7(t);return e[S7]!==void 0||"@@iterator"in e||w7(x7,b7(e))},A7=er,g1=dt,O7=E7,k7=pt,R7=A7("Set"),T7=function(t){return k7(t)&&typeof t.size=="number"&&g1(t.has)&&g1(t.keys)},vs=function(t){return T7(t)?t:O7(t)?new R7(t):t},VO=Ue,P7=bi,WO=Xr,C7=WO.Set,KO=WO.proto,D7=VO(KO.forEach),JO=VO(KO.keys),j7=JO(new C7).next,jn=function(t,e,r){return r?P7({iterator:JO(t),next:j7},e):D7(t,e)},YO=Xr,L7=jn,M7=YO.Set,N7=YO.add,Ky=function(t){var e=new M7;return L7(t,function(r){N7(e,r)}),e},F7=RO,U7=Xr,Tu=F7(U7.proto,"size","get")||function(t){return t.size},y1=$t,QO=We,b1=Ne,B7=Pa,z7=Ir,w1="Invalid size",G7=RangeError,q7=TypeError,H7=Math.max,XO=function(t,e){this.set=t,this.size=H7(e,0),this.has=y1(t.has),this.keys=y1(t.keys)};XO.prototype={getIterator:function(){return z7(QO(b1(this.keys,this.set)))},includes:function(t){return b1(this.has,this.set,t)}};var ms=function(t){QO(t);var e=+t.size;if(e!==e)throw new q7(w1);var r=B7(e);if(r<0)throw new G7(w1);return new XO(t,r)},V7=Er,ZO=Xr,W7=Ky,K7=Tu,J7=ms,Y7=jn,Q7=bi,X7=ZO.has,_1=ZO.remove,Z7=function(e){var r=V7(this),n=J7(e),a=W7(r);return K7(r)<=n.size?Y7(r,function(i){n.includes(i)&&_1(a,i)}):Q7(n.getIterator(),function(i){X7(r,i)&&_1(a,i)}),a},ez=ge,tz=Ne,rz=vs,nz=Z7;ez({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return tz(nz,this,rz(e))}});var az=ge,iz=Ut,sz=Er,oz=jn;az({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var r=sz(this),n=iz(e,arguments.length>1?arguments[1]:void 0);return oz(r,function(a){if(!n(a,a,r))return!1},!0)!==!1}});var lz=ge,uz=Ut,cz=Er,ek=Xr,fz=jn,dz=ek.Set,hz=ek.add;lz({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var r=cz(this),n=uz(e,arguments.length>1?arguments[1]:void 0),a=new dz;return fz(r,function(i){n(i,i,r)&&hz(a,i)}),a}});var pz=ge,vz=Ut,mz=Er,gz=jn;pz({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var r=mz(this),n=vz(e,arguments.length>1?arguments[1]:void 0),a=gz(r,function(i){if(n(i,i,r))return{value:i}},!0);return a&&a.value}});var yz=Er,Jy=Xr,bz=Tu,wz=ms,_z=jn,$z=bi,xz=Jy.Set,$1=Jy.add,Sz=Jy.has,Iz=function(e){var r=yz(this),n=wz(e),a=new xz;return bz(r)>n.size?$z(n.getIterator(),function(i){Sz(r,i)&&$1(a,i)}):_z(r,function(i){n.includes(i)&&$1(a,i)}),a},Ez=ge,Az=Ne,Oz=vs,kz=Iz;Ez({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return Az(kz,this,Oz(e))}});var Rz=Er,Tz=Xr.has,Pz=Tu,Cz=ms,Dz=jn,jz=bi,Lz=ds,Mz=function(e){var r=Rz(this),n=Cz(e);if(Pz(r)<=n.size)return Dz(r,function(i){if(n.includes(i))return!1},!0)!==!1;var a=n.getIterator();return jz(a,function(i){if(Tz(r,i))return Lz(a,"normal",!1)})!==!1},Nz=ge,Fz=Ne,Uz=vs,Bz=Mz;Nz({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return Fz(Bz,this,Uz(e))}});var zz=Er,Gz=Tu,qz=jn,Hz=ms,Vz=function(e){var r=zz(this),n=Hz(e);return Gz(r)>n.size?!1:qz(r,function(a){if(!n.includes(a))return!1},!0)!==!1},Wz=ge,Kz=Ne,Jz=vs,Yz=Vz;Wz({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return Kz(Yz,this,Jz(e))}});var Qz=Er,Xz=Xr.has,Zz=Tu,eG=ms,tG=bi,rG=ds,nG=function(e){var r=Qz(this),n=eG(e);if(Zz(r)<n.size)return!1;var a=n.getIterator();return tG(a,function(i){if(!Xz(r,i))return rG(a,"normal",!1)})!==!1},aG=ge,iG=Ne,sG=vs,oG=nG;aG({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return iG(oG,this,sG(e))}});var lG=ge,tk=Ue,uG=Er,cG=jn,fG=Ct,dG=tk([].join),hG=tk([].push);lG({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var r=uG(this),n=e===void 0?",":fG(e),a=[];return cG(r,function(i){hG(a,i)}),dG(a,n)}});var pG=ge,vG=Ut,mG=Er,rk=Xr,gG=jn,yG=rk.Set,bG=rk.add;pG({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var r=mG(this),n=vG(e,arguments.length>1?arguments[1]:void 0),a=new yG;return gG(r,function(i){bG(a,n(i,i,r))}),a}});var wG=ge,_G=$t,$G=Er,xG=jn,SG=TypeError;wG({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var r=$G(this),n=arguments.length<2,a=n?void 0:arguments[1];if(_G(e),xG(r,function(i){n?(n=!1,a=i):a=e(a,i,i,r)}),n)throw new SG("Reduce of empty set with no initial value");return a}});var IG=ge,EG=Ut,AG=Er,OG=jn;IG({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var r=AG(this),n=EG(e,arguments.length>1?arguments[1]:void 0);return OG(r,function(a){if(n(a,a,r))return!0},!0)===!0}});var kG=Er,Yy=Xr,RG=Ky,TG=ms,PG=bi,CG=Yy.add,DG=Yy.has,jG=Yy.remove,LG=function(e){var r=kG(this),n=TG(e).getIterator(),a=RG(r);return PG(n,function(i){DG(r,i)?jG(a,i):CG(a,i)}),a},MG=ge,NG=Ne,FG=vs,UG=LG;MG({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return NG(UG,this,FG(e))}});var BG=Er,zG=Xr.add,GG=Ky,qG=ms,HG=bi,VG=function(e){var r=BG(this),n=qG(e).getIterator(),a=GG(r);return HG(n,function(i){zG(a,i)}),a},WG=ge,KG=Ne,JG=vs,YG=VG;WG({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return KG(YG,this,JG(e))}});var nk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},QG=yd,dp=QG("span").classList,x1=dp&&dp.constructor&&dp.constructor.prototype,ak=x1===Object.prototype?void 0:x1,S1=st,ik=nk,XG=ak,gl=XB,I1=va,ZG=La,eq=nt,hp=eq("iterator"),pp=gl.values,sk=function(t,e){if(t){if(t[hp]!==pp)try{I1(t,hp,pp)}catch{t[hp]=pp}if(ZG(t,e,!0),ik[e]){for(var r in gl)if(t[r]!==gl[r])try{I1(t,r,gl[r])}catch{t[r]=gl[r]}}}};for(var vp in ik)sk(S1[vp]&&S1[vp].prototype,vp);sk(XG,"DOMTokenList");var tq=ge,rq=Be,nq=Ad.f,aq=rq(function(){return!Object.getOwnPropertyNames(1)});tq({target:"Object",stat:!0,forced:aq},{getOwnPropertyNames:nq});var iq=Ut,sq=Ue,oq=vd,lq=Yr,uq=Vn,cq=ku,E1=sq([].push),za=function(t){var e=t===1,r=t===2,n=t===3,a=t===4,i=t===6,s=t===7,o=t===5||i;return function(l,u,c,f){for(var d=lq(l),h=oq(d),p=uq(h),y=iq(u,c),k=0,$=f||cq,b=e?$(l,p):r||s?$(l,0):void 0,_,O;p>k;k++)if((o||k in h)&&(_=h[k],O=y(_,k,d),t))if(e)b[k]=O;else if(O)switch(t){case 3:return!0;case 5:return _;case 6:return k;case 2:E1(b,_)}else switch(t){case 4:return!1;case 7:E1(b,_)}return i?-1:n||a?a:b}},gs={forEach:za(0),map:za(1),filter:za(2),some:za(3),every:za(4),find:za(5),findIndex:za(6),filterReject:za(7)},fq=Ue,A1=hs,gc=Od.getWeakData,dq=wi,hq=We,pq=Pn,mp=pt,vq=Wn,ok=gs,O1=xt,lk=or,mq=lk.set,gq=lk.getterFor,yq=ok.find,bq=ok.findIndex,wq=fq([].splice),_q=0,yc=function(t){return t.frozen||(t.frozen=new uk)},uk=function(){this.entries=[]},gp=function(t,e){return yq(t.entries,function(r){return r[0]===e})};uk.prototype={get:function(t){var e=gp(this,t);if(e)return e[1]},has:function(t){return!!gp(this,t)},set:function(t,e){var r=gp(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=bq(this.entries,function(r){return r[0]===t});return~e&&wq(this.entries,e,1),!!~e}};var ck={getConstructor:function(t,e,r,n){var a=t(function(l,u){dq(l,i),mq(l,{type:e,id:_q++,frozen:void 0}),pq(u)||vq(u,l[n],{that:l,AS_ENTRIES:r})}),i=a.prototype,s=gq(e),o=function(l,u,c){var f=s(l),d=gc(hq(u),!0);return d===!0?yc(f).set(u,c):d[f.id]=c,l};return A1(i,{delete:function(l){var u=s(this);if(!mp(l))return!1;var c=gc(l);return c===!0?yc(u).delete(l):c&&O1(c,u.id)&&delete c[u.id]},has:function(u){var c=s(this);if(!mp(u))return!1;var f=gc(u);return f===!0?yc(c).has(u):f&&O1(f,c.id)}}),A1(i,r?{get:function(u){var c=s(this);if(mp(u)){var f=gc(u);return f===!0?yc(c).get(u):f?f[c.id]:void 0}},set:function(u,c){return o(this,u,c)}}:{add:function(u){return o(this,u,!0)}}),a}},$q=NO,k1=st,df=Ue,R1=hs,xq=Od,Sq=kd,fk=ck,bc=pt,wc=or.enforce,Iq=Be,Eq=xA,Pu=Object,Aq=Array.isArray,_c=Pu.isExtensible,dk=Pu.isFrozen,Oq=Pu.isSealed,hk=Pu.freeze,kq=Pu.seal,Rq=!k1.ActiveXObject&&"ActiveXObject"in k1,nl,pk=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},vk=Sq("WeakMap",pk,fk),Ms=vk.prototype,hf=df(Ms.set),Tq=function(){return $q&&Iq(function(){var t=hk([]);return hf(new vk,t,1),!dk(t)})};if(Eq)if(Rq){nl=fk.getConstructor(pk,"WeakMap",!0),xq.enable();var T1=df(Ms.delete),$c=df(Ms.has),P1=df(Ms.get);R1(Ms,{delete:function(t){if(bc(t)&&!_c(t)){var e=wc(this);return e.frozen||(e.frozen=new nl),T1(this,t)||e.frozen.delete(t)}return T1(this,t)},has:function(e){if(bc(e)&&!_c(e)){var r=wc(this);return r.frozen||(r.frozen=new nl),$c(this,e)||r.frozen.has(e)}return $c(this,e)},get:function(e){if(bc(e)&&!_c(e)){var r=wc(this);return r.frozen||(r.frozen=new nl),$c(this,e)?P1(this,e):r.frozen.get(e)}return P1(this,e)},set:function(e,r){if(bc(e)&&!_c(e)){var n=wc(this);n.frozen||(n.frozen=new nl),$c(this,e)?hf(this,e,r):n.frozen.set(e,r)}else hf(this,e,r);return this}})}else Tq()&&R1(Ms,{set:function(e,r){var n;return Aq(e)&&(dk(e)?n=hk:Oq(e)&&(n=kq)),hf(this,e,r),n&&n(e),this}});var xc=Ue,Sc=WeakMap.prototype,Qy={WeakMap,set:xc(Sc.set),get:xc(Sc.get),has:xc(Sc.has),remove:xc(Sc.delete)},Pq=Qy.has,mk=function(t){return Pq(t),t},Cq=ge,Dq=mk,jq=Qy.remove;Cq({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=Dq(this),r=!0,n,a=0,i=arguments.length;a<i;a++)n=jq(e,arguments[a]),r=r&&n;return!!r}});var Lq=ge,Mq=mk,Xy=Qy,Nq=Xy.get,Fq=Xy.has,C1=Xy.set;Lq({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(e,r){var n=Mq(this),a,i;return Fq(n,e)?(a=Nq(n,e),"update"in r&&(a=r.update(a,e,n),C1(n,e,a)),a):(i=r.insert(e,n),C1(n,e,i),i)}});var Uq=ge,D1=jo,Bq=Ed,zq=pt,j1=$y,Gq=Vn,qq=Cn,Hq=Do,Vq=nt,Wq=Ru,Kq=ps,Jq=Wq("slice"),Yq=Vq("species"),yp=Array,Qq=Math.max;Uq({target:"Array",proto:!0,forced:!Jq},{slice:function(e,r){var n=qq(this),a=Gq(n),i=j1(e,a),s=j1(r===void 0?a:r,a),o,l,u;if(D1(n)&&(o=n.constructor,Bq(o)&&(o===yp||D1(o.prototype))?o=void 0:zq(o)&&(o=o[Yq],o===null&&(o=void 0)),o===yp||o===void 0))return Kq(n,i,s);for(l=new(o===void 0?yp:o)(Qq(s-i,0)),u=0;i<s;i++,u++)i in n&&Hq(l,u,n[i]);return l.length=u,l}});var Xq=Ut,Zq=Ne,e9=Yr,t9=Py,r9=NA,n9=Ed,a9=Vn,L1=Do,i9=Ey,s9=Co,M1=Array,gk=function(e){var r=e9(e),n=n9(this),a=arguments.length,i=a>1?arguments[1]:void 0,s=i!==void 0;s&&(i=Xq(i,a>2?arguments[2]:void 0));var o=s9(r),l=0,u,c,f,d,h,p;if(o&&!(this===M1&&r9(o)))for(c=n?new this:[],d=i9(r,o),h=d.next;!(f=Zq(h,d)).done;l++)p=s?t9(d,i,[f.value,l],!0):f.value,L1(c,l,p);else for(u=a9(r),c=n?new this(u):M1(u);u>l;l++)p=s?i(r[l],l):r[l],L1(c,l,p);return c.length=l,c},o9=ge,l9=gk,u9=qy,c9=!u9(function(t){Array.from(t)});o9({target:"Array",stat:!0,forced:c9},{from:l9});var f9=We,yk=function(){var t=f9(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Zy=Be,d9=st,eb=d9.RegExp,tb=Zy(function(){var t=eb("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),h9=tb||Zy(function(){return!eb("a","y").sticky}),p9=tb||Zy(function(){var t=eb("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),Td={BROKEN_CARET:p9,MISSED_STICKY:h9,UNSUPPORTED_Y:tb},v9=Be,m9=st,g9=m9.RegExp,bk=v9(function(){var t=g9(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),y9=Be,b9=st,w9=b9.RegExp,wk=y9(function(){var t=w9("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),qs=Ne,Pd=Ue,_9=Ct,$9=yk,x9=Td,S9=Ro,I9=Kn,E9=or.get,A9=bk,O9=wk,k9=S9("native-string-replace",String.prototype.replace),Nf=RegExp.prototype.exec,$m=Nf,R9=Pd("".charAt),T9=Pd("".indexOf),P9=Pd("".replace),bp=Pd("".slice),xm=function(){var t=/a/,e=/b*/g;return qs(Nf,t,"a"),qs(Nf,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),_k=x9.BROKEN_CARET,Sm=/()??/.exec("")[1]!==void 0,C9=xm||Sm||_k||A9||O9;C9&&($m=function(e){var r=this,n=E9(r),a=_9(e),i=n.raw,s,o,l,u,c,f,d;if(i)return i.lastIndex=r.lastIndex,s=qs($m,i,a),r.lastIndex=i.lastIndex,s;var h=n.groups,p=_k&&r.sticky,y=qs($9,r),k=r.source,$=0,b=a;if(p&&(y=P9(y,"y",""),T9(y,"g")===-1&&(y+="g"),b=bp(a,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&R9(a,r.lastIndex-1)!==`
`)&&(k="(?: "+k+")",b=" "+b,$++),o=new RegExp("^(?:"+k+")",y)),Sm&&(o=new RegExp("^"+k+"$(?!\\s)",y)),xm&&(l=r.lastIndex),u=qs(Nf,p?o:r,b),p?u?(u.input=bp(u.input,$),u[0]=bp(u[0],$),u.index=r.lastIndex,r.lastIndex+=u[0].length):r.lastIndex=0:xm&&u&&(r.lastIndex=r.global?u.index+u[0].length:l),Sm&&u&&u.length>1&&qs(k9,u[0],o,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(u[c]=void 0)}),u&&h)for(u.groups=f=I9(null),c=0;c<h.length;c++)d=h[c],f[d[0]]=u[d[1]];return u});var rb=$m,D9=ge,N1=rb;D9({target:"RegExp",proto:!0,forced:/./.exec!==N1},{exec:N1});var j9=ge,F1=Ne,L9=dt,U1=We,M9=Ct,N9=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),F9=/./.test;j9({target:"RegExp",proto:!0,forced:!N9},{test:function(t){var e=U1(this),r=M9(t),n=e.exec;if(!L9(n))return F1(F9,e,r);var a=F1(n,e,r);return a===null?!1:(U1(a),!0)}});function $k(t){if(Array.isArray(t))return t}function U9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nb(t,e){if(t){if(typeof t=="string")return Im(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Im(t,e):void 0}}function xk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(t,e){return $k(t)||U9(t,e)||nb(t,e)||xk()}function B9(t){if(Array.isArray(t))return Im(t)}function Sk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt(t){return B9(t)||Sk(t)||nb(t)||z9()}var Ik={exports:{}},Ek={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Ek);var G9=Ek.exports;(function(t){var e=G9.default;function r(){t.exports=r=function(){return a},t.exports.__esModule=!0,t.exports.default=t.exports;var n,a={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(z,H,q){z[H]=q.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(z,H,q){return Object.defineProperty(z,H,{value:q,enumerable:!0,configurable:!0,writable:!0}),z[H]}try{d({},"")}catch{d=function(q,g,A){return q[g]=A}}function h(z,H,q,g){var A=H&&H.prototype instanceof O?H:O,M=Object.create(A.prototype),W=new F(g||[]);return o(M,"_invoke",{value:C(z,q,W)}),M}function p(z,H,q){try{return{type:"normal",arg:z.call(H,q)}}catch(g){return{type:"throw",arg:g}}}a.wrap=h;var y="suspendedStart",k="suspendedYield",$="executing",b="completed",_={};function O(){}function R(){}function P(){}var T={};d(T,u,function(){return this});var G=Object.getPrototypeOf,v=G&&G(G(U([])));v&&v!==i&&s.call(v,u)&&(T=v);var w=P.prototype=O.prototype=Object.create(T);function x(z){["next","throw","return"].forEach(function(H){d(z,H,function(q){return this._invoke(H,q)})})}function j(z,H){function q(A,M,W,Z){var N=p(z[A],z,M);if(N.type!=="throw"){var ee=N.arg,ne=ee.value;return ne&&e(ne)=="object"&&s.call(ne,"__await")?H.resolve(ne.__await).then(function(m){q("next",m,W,Z)},function(m){q("throw",m,W,Z)}):H.resolve(ne).then(function(m){ee.value=m,W(ee)},function(m){return q("throw",m,W,Z)})}Z(N.arg)}var g;o(this,"_invoke",{value:function(M,W){function Z(){return new H(function(N,ee){q(M,W,N,ee)})}return g=g?g.then(Z,Z):Z()}})}function C(z,H,q){var g=y;return function(A,M){if(g===$)throw Error("Generator is already running");if(g===b){if(A==="throw")throw M;return{value:n,done:!0}}for(q.method=A,q.arg=M;;){var W=q.delegate;if(W){var Z=B(W,q);if(Z){if(Z===_)continue;return Z}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(g===y)throw g=b,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);g=$;var N=p(z,H,q);if(N.type==="normal"){if(g=q.done?b:k,N.arg===_)continue;return{value:N.arg,done:q.done}}N.type==="throw"&&(g=b,q.method="throw",q.arg=N.arg)}}}function B(z,H){var q=H.method,g=z.iterator[q];if(g===n)return H.delegate=null,q==="throw"&&z.iterator.return&&(H.method="return",H.arg=n,B(z,H),H.method==="throw")||q!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+q+"' method")),_;var A=p(g,z.iterator,H.arg);if(A.type==="throw")return H.method="throw",H.arg=A.arg,H.delegate=null,_;var M=A.arg;return M?M.done?(H[z.resultName]=M.value,H.next=z.nextLoc,H.method!=="return"&&(H.method="next",H.arg=n),H.delegate=null,_):M:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,_)}function X(z){var H={tryLoc:z[0]};1 in z&&(H.catchLoc=z[1]),2 in z&&(H.finallyLoc=z[2],H.afterLoc=z[3]),this.tryEntries.push(H)}function K(z){var H=z.completion||{};H.type="normal",delete H.arg,z.completion=H}function F(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(X,this),this.reset(!0)}function U(z){if(z||z===""){var H=z[u];if(H)return H.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var q=-1,g=function A(){for(;++q<z.length;)if(s.call(z,q))return A.value=z[q],A.done=!1,A;return A.value=n,A.done=!0,A};return g.next=g}}throw new TypeError(e(z)+" is not iterable")}return R.prototype=P,o(w,"constructor",{value:P,configurable:!0}),o(P,"constructor",{value:R,configurable:!0}),R.displayName=d(P,f,"GeneratorFunction"),a.isGeneratorFunction=function(z){var H=typeof z=="function"&&z.constructor;return!!H&&(H===R||(H.displayName||H.name)==="GeneratorFunction")},a.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,P):(z.__proto__=P,d(z,f,"GeneratorFunction")),z.prototype=Object.create(w),z},a.awrap=function(z){return{__await:z}},x(j.prototype),d(j.prototype,c,function(){return this}),a.AsyncIterator=j,a.async=function(z,H,q,g,A){A===void 0&&(A=Promise);var M=new j(h(z,H,q,g),A);return a.isGeneratorFunction(H)?M:M.next().then(function(W){return W.done?W.value:M.next()})},x(w),d(w,f,"Generator"),d(w,u,function(){return this}),d(w,"toString",function(){return"[object Generator]"}),a.keys=function(z){var H=Object(z),q=[];for(var g in H)q.push(g);return q.reverse(),function A(){for(;q.length;){var M=q.pop();if(M in H)return A.value=M,A.done=!1,A}return A.done=!0,A}},a.values=U,F.prototype={constructor:F,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(K),!H)for(var q in this)q.charAt(0)==="t"&&s.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=n)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var q=this;function g(ee,ne){return W.type="throw",W.arg=H,q.next=ee,ne&&(q.method="next",q.arg=n),!!ne}for(var A=this.tryEntries.length-1;A>=0;--A){var M=this.tryEntries[A],W=M.completion;if(M.tryLoc==="root")return g("end");if(M.tryLoc<=this.prev){var Z=s.call(M,"catchLoc"),N=s.call(M,"finallyLoc");if(Z&&N){if(this.prev<M.catchLoc)return g(M.catchLoc,!0);if(this.prev<M.finallyLoc)return g(M.finallyLoc)}else if(Z){if(this.prev<M.catchLoc)return g(M.catchLoc,!0)}else{if(!N)throw Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return g(M.finallyLoc)}}}},abrupt:function(H,q){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.tryLoc<=this.prev&&s.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var M=A;break}}M&&(H==="break"||H==="continue")&&M.tryLoc<=q&&q<=M.finallyLoc&&(M=null);var W=M?M.completion:{};return W.type=H,W.arg=q,M?(this.method="next",this.next=M.finallyLoc,_):this.complete(W)},complete:function(H,q){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&q&&(this.next=q),_},finish:function(H){for(var q=this.tryEntries.length-1;q>=0;--q){var g=this.tryEntries[q];if(g.finallyLoc===H)return this.complete(g.completion,g.afterLoc),K(g),_}},catch:function(H){for(var q=this.tryEntries.length-1;q>=0;--q){var g=this.tryEntries[q];if(g.tryLoc===H){var A=g.completion;if(A.type==="throw"){var M=A.arg;K(g)}return M}}throw Error("illegal catch attempt")},delegateYield:function(H,q,g){return this.delegate={iterator:U(H),resultName:q,nextLoc:g},this.method==="next"&&(this.arg=n),_}},a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Ik);var q9=Ik.exports,pf=q9(),H9=pf;try{regeneratorRuntime=pf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=pf:Function("r","regeneratorRuntime = r")(pf)}const V=Pj(H9);var V9=kd,W9=GO;V9("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},W9);var K9=st,Ak=K9,ab={},J9=nt;ab.f=J9;var B1=Ak,Y9=xt,Q9=ab,X9=Sr.f,Ok=function(t){var e=B1.Symbol||(B1.Symbol={});Y9(e,t)||X9(e,t,{value:Q9.f(t)})},Z9=Ok;Z9("iterator");var eH=Ne,tH=er,rH=nt,nH=tr,aH=function(){var t=tH("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=rH("toPrimitive");e&&!e[n]&&nH(e,n,function(a){return eH(r,this)},{arity:1})},Cd=ge,Cu=st,ib=Ne,iH=Ue,co=wt,fo=Oo,sH=Be,Xt=xt,oH=yi,Em=We,Dd=Cn,sb=yy,lH=Ct,Am=ls,ho=Kn,kk=Au,uH=cs,Rk=Ad,cH=Su,Tk=Rn,Pk=Sr,fH=Oy,Ck=bu,wp=tr,dH=ja,ob=Ro,hH=bd,Dk=xu,z1=gd,pH=nt,vH=ab,mH=Ok,gH=aH,yH=La,jk=or,jd=gs.forEach,qr=hH("hidden"),Ld="Symbol",Ql="prototype",bH=jk.set,G1=jk.getterFor(Ld),Sn=Object[Ql],Wi=Cu.Symbol,yl=Wi&&Wi[Ql],wH=Cu.RangeError,_H=Cu.TypeError,_p=Cu.QObject,Lk=Tk.f,Ki=Pk.f,Mk=Rk.f,$H=Ck.f,Nk=iH([].push),ka=ob("symbols"),Du=ob("op-symbols"),xH=ob("wks"),Om=!_p||!_p[Ql]||!_p[Ql].findChild,Fk=function(t,e,r){var n=Lk(Sn,e);n&&delete Sn[e],Ki(t,e,r),n&&t!==Sn&&Ki(Sn,e,n)},km=co&&sH(function(){return ho(Ki({},"a",{get:function(){return Ki(this,"a",{value:7}).a}})).a!==7})?Fk:Ki,$p=function(t,e){var r=ka[t]=ho(yl);return bH(r,{type:Ld,tag:t,description:e}),co||(r.description=e),r},Md=function(e,r,n){e===Sn&&Md(Du,r,n),Em(e);var a=sb(r);return Em(n),Xt(ka,a)?(n.enumerable?(Xt(e,qr)&&e[qr][a]&&(e[qr][a]=!1),n=ho(n,{enumerable:Am(0,!1)})):(Xt(e,qr)||Ki(e,qr,Am(1,ho(null))),e[qr][a]=!0),km(e,a,n)):Ki(e,a,n)},lb=function(e,r){Em(e);var n=Dd(r),a=kk(n).concat(zk(n));return jd(a,function(i){(!co||ib(Rm,n,i))&&Md(e,i,n[i])}),e},SH=function(e,r){return r===void 0?ho(e):lb(ho(e),r)},Rm=function(e){var r=sb(e),n=ib($H,this,r);return this===Sn&&Xt(ka,r)&&!Xt(Du,r)?!1:n||!Xt(this,r)||!Xt(ka,r)||Xt(this,qr)&&this[qr][r]?n:!0},Uk=function(e,r){var n=Dd(e),a=sb(r);if(!(n===Sn&&Xt(ka,a)&&!Xt(Du,a))){var i=Lk(n,a);return i&&Xt(ka,a)&&!(Xt(n,qr)&&n[qr][a])&&(i.enumerable=!0),i}},Bk=function(e){var r=Mk(Dd(e)),n=[];return jd(r,function(a){!Xt(ka,a)&&!Xt(Dk,a)&&Nk(n,a)}),n},zk=function(t){var e=t===Sn,r=Mk(e?Du:Dd(t)),n=[];return jd(r,function(a){Xt(ka,a)&&(!e||Xt(Sn,a))&&Nk(n,ka[a])}),n};fo||(Wi=function(){if(oH(yl,this))throw new _H("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:lH(arguments[0]),r=z1(e),n=function(a){var i=this===void 0?Cu:this;i===Sn&&ib(n,Du,a),Xt(i,qr)&&Xt(i[qr],r)&&(i[qr][r]=!1);var s=Am(1,a);try{km(i,r,s)}catch(o){if(!(o instanceof wH))throw o;Fk(i,r,s)}};return co&&Om&&km(Sn,r,{configurable:!0,set:n}),$p(r,e)},yl=Wi[Ql],wp(yl,"toString",function(){return G1(this).tag}),wp(Wi,"withoutSetter",function(t){return $p(z1(t),t)}),Ck.f=Rm,Pk.f=Md,fH.f=lb,Tk.f=Uk,uH.f=Rk.f=Bk,cH.f=zk,vH.f=function(t){return $p(pH(t),t)},co&&(dH(yl,"description",{configurable:!0,get:function(){return G1(this).description}}),wp(Sn,"propertyIsEnumerable",Rm,{unsafe:!0})));Cd({global:!0,constructor:!0,wrap:!0,forced:!fo,sham:!fo},{Symbol:Wi});jd(kk(xH),function(t){mH(t)});Cd({target:Ld,stat:!0,forced:!fo},{useSetter:function(){Om=!0},useSimple:function(){Om=!1}});Cd({target:"Object",stat:!0,forced:!fo,sham:!co},{create:SH,defineProperty:Md,defineProperties:lb,getOwnPropertyDescriptor:Uk});Cd({target:"Object",stat:!0,forced:!fo},{getOwnPropertyNames:Bk});gH();yH(Wi,Ld);Dk[qr]=!0;var IH=Oo,Gk=IH&&!!Symbol.for&&!!Symbol.keyFor,EH=ge,AH=er,OH=xt,kH=Ct,qk=Ro,RH=Gk,xp=qk("string-to-symbol-registry"),TH=qk("symbol-to-string-registry");EH({target:"Symbol",stat:!0,forced:!RH},{for:function(t){var e=kH(t);if(OH(xp,e))return xp[e];var r=AH("Symbol")(e);return xp[e]=r,TH[r]=e,r}});var PH=ge,CH=xt,DH=_u,jH=ko,LH=Ro,MH=Gk,q1=LH("symbol-to-string-registry");PH({target:"Symbol",stat:!0,forced:!MH},{keyFor:function(e){if(!DH(e))throw new TypeError(jH(e)+" is not a symbol");if(CH(q1,e))return q1[e]}});var NH=Ue,H1=jo,FH=dt,V1=Tn,UH=Ct,W1=NH([].push),BH=function(t){if(FH(t))return t;if(H1(t)){for(var e=t.length,r=[],n=0;n<e;n++){var a=t[n];typeof a=="string"?W1(r,a):(typeof a=="number"||V1(a)==="Number"||V1(a)==="String")&&W1(r,UH(a))}var i=r.length,s=!0;return function(o,l){if(s)return s=!1,l;if(H1(this))return l;for(var u=0;u<i;u++)if(r[u]===o)return l}}},zH=ge,Hk=er,Vk=Id,GH=Ne,ju=Ue,Wk=Be,K1=dt,J1=_u,Kk=ps,qH=BH,HH=Oo,VH=String,si=Hk("JSON","stringify"),Ic=ju(/./.exec),Y1=ju("".charAt),WH=ju("".charCodeAt),KH=ju("".replace),JH=ju(1 .toString),YH=/[\uD800-\uDFFF]/g,Q1=/^[\uD800-\uDBFF]$/,X1=/^[\uDC00-\uDFFF]$/,Z1=!HH||Wk(function(){var t=Hk("Symbol")("stringify detection");return si([t])!=="[null]"||si({a:t})!=="{}"||si(Object(t))!=="{}"}),e$=Wk(function(){return si("\uDF06\uD834")!=='"\\udf06\\ud834"'||si("\uDEAD")!=='"\\udead"'}),QH=function(t,e){var r=Kk(arguments),n=qH(e);if(!(!K1(n)&&(t===void 0||J1(t))))return r[1]=function(a,i){if(K1(n)&&(i=GH(n,this,VH(a),i)),!J1(i))return i},Vk(si,null,r)},XH=function(t,e,r){var n=Y1(r,e-1),a=Y1(r,e+1);return Ic(Q1,t)&&!Ic(X1,a)||Ic(X1,t)&&!Ic(Q1,n)?"\\u"+JH(WH(t,0),16):t};si&&zH({target:"JSON",stat:!0,arity:3,forced:Z1||e$},{stringify:function(e,r,n){var a=Kk(arguments),i=Vk(Z1?QH:si,null,a);return e$&&typeof i=="string"?KH(i,YH,XH):i}});var ZH=ge,eV=Oo,tV=Be,Jk=Su,rV=Yr,nV=!eV||tV(function(){Jk.f(1)});ZH({target:"Object",stat:!0,forced:nV},{getOwnPropertySymbols:function(e){var r=Jk.f;return r?r(rV(e)):[]}});var aV=ge,iV=wt,sV=st,Ec=Ue,oV=xt,lV=dt,uV=yi,cV=Ct,fV=ja,dV=RA,$a=sV.Symbol,Oi=$a&&$a.prototype;if(iV&&lV($a)&&(!("description"in Oi)||$a().description!==void 0)){var t$={},Ac=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:cV(arguments[0]),r=uV(Oi,this)?new $a(e):e===void 0?$a():$a(e);return e===""&&(t$[r]=!0),r};dV(Ac,$a),Ac.prototype=Oi,Oi.constructor=Ac;var hV=String($a("description detection"))==="Symbol(description detection)",pV=Ec(Oi.valueOf),vV=Ec(Oi.toString),mV=/^Symbol\((.*)\)[^)]+$/,gV=Ec("".replace),yV=Ec("".slice);fV(Oi,"description",{configurable:!0,get:function(){var e=pV(this);if(oV(t$,e))return"";var r=vV(e),n=hV?yV(r,7,-1):gV(r,mV,"$1");return n===""?void 0:n}}),aV({global:!0,constructor:!0,forced:!0},{Symbol:Ac})}function Yk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!t})()}function Nd(t,e,r){if(Yk())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var a=new(t.bind.apply(t,n));return r&&Yl(a,r.prototype),a}var bV=ge,wV=Yr,Qk=Au,_V=Be,$V=_V(function(){Qk(1)});bV({target:"Object",stat:!0,forced:$V},{keys:function(e){return Qk(wV(e))}});var xV=Be,ub=function(t,e){var r=[][t];return!!r&&xV(function(){r.call(null,e||function(){return 1},1)})},SV=gs.forEach,IV=ub,EV=IV("forEach"),AV=EV?[].forEach:function(e){return SV(this,e,arguments.length>1?arguments[1]:void 0)},r$=st,n$=nk,OV=ak,Sp=AV,kV=va,Xk=function(t){if(t&&t.forEach!==Sp)try{kV(t,"forEach",Sp)}catch{t.forEach=Sp}};for(var Ip in n$)n$[Ip]&&Xk(r$[Ip]&&r$[Ip].prototype);Xk(OV);var RV=ge,TV=Be,PV=Yr,Zk=Da,CV=GA,DV=TV(function(){Zk(1)});RV({target:"Object",stat:!0,forced:DV,sham:!CV},{getPrototypeOf:function(e){return Zk(PV(e))}});var eR=wt,jV=Be,tR=Ue,LV=Da,MV=Au,NV=Cn,FV=bu.f,rR=tR(FV),UV=tR([].push),BV=eR&&jV(function(){var t=Object.create(null);return t[2]=2,!rR(t,2)}),a$=function(t){return function(e){for(var r=NV(e),n=MV(r),a=BV&&LV(r)===null,i=n.length,s=0,o=[],l;i>s;)l=n[s++],(!eR||(a?l in r:rR(r,l)))&&UV(o,t?[l,r[l]]:r[l]);return o}},nR={entries:a$(!0),values:a$(!1)},zV=ge,GV=nR.entries;zV({target:"Object",stat:!0},{entries:function(e){return GV(e)}});var qV=ge,HV=gs.filter,VV=Ru,WV=VV("filter");qV({target:"Array",proto:!0,forced:!WV},{filter:function(e){return HV(this,e,arguments.length>1?arguments[1]:void 0)}});var KV=ge,JV=Be,YV=Cn,aR=Rn.f,iR=wt,QV=!iR||JV(function(){aR(1)});KV({target:"Object",stat:!0,forced:QV,sham:!iR},{getOwnPropertyDescriptor:function(e,r){return aR(YV(e),r)}});var XV=ge,ZV=wt,eW=kA,tW=Cn,rW=Rn,nW=Do;XV({target:"Object",stat:!0,sham:!ZV},{getOwnPropertyDescriptors:function(e){for(var r=tW(e),n=rW.f,a=eW(r),i={},s=0,o,l;a.length>s;)l=n(r,o=a[s++]),l!==void 0&&nW(i,o,l);return i}});function i$(t,e,r,n,a,i,s){try{var o=t[i](s),l=o.value}catch(u){return void r(u)}o.done?e(l):Promise.resolve(l).then(n,a)}function fe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(l){i$(i,n,a,s,o,"next",l)}function o(l){i$(i,n,a,s,o,"throw",l)}s(void 0)})}}var aW=st,iW=Tn,Fd=iW(aW.process)==="process",s$=We,sW=gO,oW=Pn,lW=nt,uW=lW("species"),Ud=function(t,e){var r=s$(t).constructor,n;return r===void 0||oW(n=s$(r)[uW])?e:sW(n)},cW=TypeError,cb=function(t,e){if(t<e)throw new cW("Not enough arguments");return t},fW=us,sR=/(?:ipad|iphone|ipod).*applewebkit/i.test(fW),on=st,dW=Id,hW=Ut,o$=dt,pW=xt,oR=Be,l$=UA,vW=ps,u$=yd,mW=cb,gW=sR,yW=Fd,Tm=on.setImmediate,Pm=on.clearImmediate,bW=on.process,Ep=on.Dispatch,wW=on.Function,c$=on.MessageChannel,_W=on.String,Ap=0,El={},f$="onreadystatechange",Xl,ki,Op,kp;oR(function(){Xl=on.location});var fb=function(t){if(pW(El,t)){var e=El[t];delete El[t],e()}},Rp=function(t){return function(){fb(t)}},d$=function(t){fb(t.data)},h$=function(t){on.postMessage(_W(t),Xl.protocol+"//"+Xl.host)};(!Tm||!Pm)&&(Tm=function(e){mW(arguments.length,1);var r=o$(e)?e:wW(e),n=vW(arguments,1);return El[++Ap]=function(){dW(r,void 0,n)},ki(Ap),Ap},Pm=function(e){delete El[e]},yW?ki=function(t){bW.nextTick(Rp(t))}:Ep&&Ep.now?ki=function(t){Ep.now(Rp(t))}:c$&&!gW?(Op=new c$,kp=Op.port2,Op.port1.onmessage=d$,ki=hW(kp.postMessage,kp)):on.addEventListener&&o$(on.postMessage)&&!on.importScripts&&Xl&&Xl.protocol!=="file:"&&!oR(h$)?(ki=h$,on.addEventListener("message",d$,!1)):f$ in u$("script")?ki=function(t){l$.appendChild(u$("script"))[f$]=function(){l$.removeChild(this),fb(t)}}:ki=function(t){setTimeout(Rp(t),0)});var lR={set:Tm,clear:Pm},p$=st,$W=wt,xW=Object.getOwnPropertyDescriptor,uR=function(t){if(!$W)return p$[t];var e=xW(p$,t);return e&&e.value},cR=function(){this.head=null,this.tail=null};cR.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var fR=cR,SW=us,IW=/ipad|iphone|ipod/i.test(SW)&&typeof Pebble<"u",EW=us,AW=/web0s(?!.*chrome)/i.test(EW),po=st,OW=uR,v$=Ut,Tp=lR.set,kW=fR,RW=sR,TW=IW,PW=AW,Pp=Fd,m$=po.MutationObserver||po.WebKitMutationObserver,g$=po.document,y$=po.process,Oc=po.Promise,Cm=OW("queueMicrotask"),ks,Cp,Dp,kc,b$;if(!Cm){var Rc=new kW,Tc=function(){var t,e;for(Pp&&(t=y$.domain)&&t.exit();e=Rc.get();)try{e()}catch(r){throw Rc.head&&ks(),r}t&&t.enter()};!RW&&!Pp&&!PW&&m$&&g$?(Cp=!0,Dp=g$.createTextNode(""),new m$(Tc).observe(Dp,{characterData:!0}),ks=function(){Dp.data=Cp=!Cp}):!TW&&Oc&&Oc.resolve?(kc=Oc.resolve(void 0),kc.constructor=Oc,b$=v$(kc.then,kc),ks=function(){b$(Tc)}):Pp?ks=function(){y$.nextTick(Tc)}:(Tp=v$(Tp,po),ks=function(){Tp(Tc)}),Cm=function(t){Rc.head||ks(),Rc.add(t)}}var CW=Cm,DW=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},jW=st,Lu=jW.Promise,dR=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",LW=dR,MW=Fd,NW=!LW&&!MW&&typeof window=="object"&&typeof document=="object",FW=st,Al=Lu,UW=dt,BW=Eu,zW=wy,GW=nt,qW=NW,HW=dR,jp=wu;Al&&Al.prototype;var VW=GW("species"),Dm=!1,hR=UW(FW.PromiseRejectionEvent),WW=BW("Promise",function(){var t=zW(Al),e=t!==String(Al);if(!e&&jp===66)return!0;if(!jp||jp<51||!/native code/.test(t)){var r=new Al(function(i){i(1)}),n=function(i){i(function(){},function(){})},a=r.constructor={};if(a[VW]=n,Dm=r.then(function(){})instanceof n,!Dm)return!0}return!e&&(qW||HW)&&!hR}),Mu={CONSTRUCTOR:WW,REJECTION_EVENT:hR,SUBCLASSING:Dm},Mo={},w$=$t,KW=TypeError,JW=function(t){var e,r;this.promise=new t(function(n,a){if(e!==void 0||r!==void 0)throw new KW("Bad Promise constructor");e=n,r=a}),this.resolve=w$(e),this.reject=w$(r)};Mo.f=function(t){return new JW(t)};var YW=ge,Ff=Fd,pi=st,vo=Ne,_$=tr,$$=Ny,QW=La,XW=Vy,ZW=$t,vf=dt,eK=pt,tK=wi,rK=Ud,pR=lR.set,db=CW,nK=DW,aK=_d,iK=fR,vR=or,Uf=Lu,hb=Mu,mR=Mo,Bd="Promise",gR=hb.CONSTRUCTOR,sK=hb.REJECTION_EVENT,oK=hb.SUBCLASSING,Lp=vR.getterFor(Bd),lK=vR.set,Ns=Uf&&Uf.prototype,Mi=Uf,Pc=Ns,yR=pi.TypeError,jm=pi.document,pb=pi.process,Lm=mR.f,uK=Lm,cK=!!(jm&&jm.createEvent&&pi.dispatchEvent),bR="unhandledrejection",fK="rejectionhandled",x$=0,wR=1,dK=2,vb=1,_R=2,Cc,S$,hK,I$,$R=function(t){var e;return eK(t)&&vf(e=t.then)?e:!1},xR=function(t,e){var r=e.value,n=e.state===wR,a=n?t.ok:t.fail,i=t.resolve,s=t.reject,o=t.domain,l,u,c;try{a?(n||(e.rejection===_R&&vK(e),e.rejection=vb),a===!0?l=r:(o&&o.enter(),l=a(r),o&&(o.exit(),c=!0)),l===t.promise?s(new yR("Promise-chain cycle")):(u=$R(l))?vo(u,l,i,s):i(l)):s(r)}catch(f){o&&!c&&o.exit(),s(f)}},SR=function(t,e){t.notified||(t.notified=!0,db(function(){for(var r=t.reactions,n;n=r.get();)xR(n,t);t.notified=!1,e&&!t.rejection&&pK(t)}))},IR=function(t,e,r){var n,a;cK?(n=jm.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),pi.dispatchEvent(n)):n={promise:e,reason:r},!sK&&(a=pi["on"+t])?a(n):t===bR&&nK("Unhandled promise rejection",r)},pK=function(t){vo(pR,pi,function(){var e=t.facade,r=t.value,n=E$(t),a;if(n&&(a=aK(function(){Ff?pb.emit("unhandledRejection",r,e):IR(bR,e,r)}),t.rejection=Ff||E$(t)?_R:vb,a.error))throw a.value})},E$=function(t){return t.rejection!==vb&&!t.parent},vK=function(t){vo(pR,pi,function(){var e=t.facade;Ff?pb.emit("rejectionHandled",e):IR(fK,e,t.value)})},Hs=function(t,e,r){return function(n){t(e,n,r)}},Qs=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=dK,SR(t,!0))},Mm=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new yR("Promise can't be resolved itself");var n=$R(e);n?db(function(){var a={done:!1};try{vo(n,e,Hs(Mm,a,t),Hs(Qs,a,t))}catch(i){Qs(a,i,t)}}):(t.value=e,t.state=wR,SR(t,!1))}catch(a){Qs({done:!1},a,t)}}};if(gR&&(Mi=function(e){tK(this,Pc),ZW(e),vo(Cc,this);var r=Lp(this);try{e(Hs(Mm,r),Hs(Qs,r))}catch(n){Qs(r,n)}},Pc=Mi.prototype,Cc=function(e){lK(this,{type:Bd,done:!1,notified:!1,parent:!1,reactions:new iK,rejection:!1,state:x$,value:void 0})},Cc.prototype=_$(Pc,"then",function(e,r){var n=Lp(this),a=Lm(rK(this,Mi));return n.parent=!0,a.ok=vf(e)?e:!0,a.fail=vf(r)&&r,a.domain=Ff?pb.domain:void 0,n.state===x$?n.reactions.add(a):db(function(){xR(a,n)}),a.promise}),S$=function(){var t=new Cc,e=Lp(t);this.promise=t,this.resolve=Hs(Mm,e),this.reject=Hs(Qs,e)},mR.f=Lm=function(t){return t===Mi||t===hK?new S$(t):uK(t)},vf(Uf)&&Ns!==Object.prototype)){I$=Ns.then,oK||_$(Ns,"then",function(e,r){var n=this;return new Mi(function(a,i){vo(I$,n,a,i)}).then(e,r)},{unsafe:!0});try{delete Ns.constructor}catch{}$$&&$$(Ns,Pc)}YW({global:!0,constructor:!0,wrap:!0,forced:gR},{Promise:Mi});QW(Mi,Bd,!1);XW(Bd);var mK=Lu,gK=qy,yK=Mu.CONSTRUCTOR,ER=yK||!gK(function(t){mK.all(t).then(void 0,function(){})}),bK=ge,wK=Ne,_K=$t,$K=Mo,xK=_d,SK=Wn,IK=ER;bK({target:"Promise",stat:!0,forced:IK},{all:function(e){var r=this,n=$K.f(r),a=n.resolve,i=n.reject,s=xK(function(){var o=_K(r.resolve),l=[],u=0,c=1;SK(e,function(f){var d=u++,h=!1;c++,wK(o,r,f).then(function(p){h||(h=!0,l[d]=p,--c||a(l))},i)}),--c||a(l)});return s.error&&i(s.value),n.promise}});var EK=ge,AK=Mu.CONSTRUCTOR,Nm=Lu,OK=er,kK=dt,RK=tr,A$=Nm&&Nm.prototype;EK({target:"Promise",proto:!0,forced:AK,real:!0},{catch:function(t){return this.then(void 0,t)}});if(kK(Nm)){var O$=OK("Promise").prototype.catch;A$.catch!==O$&&RK(A$,"catch",O$,{unsafe:!0})}var TK=ge,PK=Ne,CK=$t,DK=Mo,jK=_d,LK=Wn,MK=ER;TK({target:"Promise",stat:!0,forced:MK},{race:function(e){var r=this,n=DK.f(r),a=n.reject,i=jK(function(){var s=CK(r.resolve);LK(e,function(o){PK(s,r,o).then(n.resolve,a)})});return i.error&&a(i.value),n.promise}});var NK=ge,FK=Mo,UK=Mu.CONSTRUCTOR;NK({target:"Promise",stat:!0,forced:UK},{reject:function(e){var r=FK.f(this),n=r.reject;return n(e),r.promise}});var BK=We,zK=pt,GK=Mo,AR=function(t,e){if(BK(t),zK(e)&&e.constructor===t)return e;var r=GK.f(t),n=r.resolve;return n(e),r.promise},qK=ge,HK=er,VK=Mu.CONSTRUCTOR,WK=AR;HK("Promise");qK({target:"Promise",stat:!0,forced:VK},{resolve:function(e){return WK(this,e)}});var KK=ge,Bf=Lu,JK=Be,OR=er,kR=dt,YK=Ud,k$=AR,QK=tr,Fm=Bf&&Bf.prototype,XK=!!Bf&&JK(function(){Fm.finally.call({then:function(){}},function(){})});KK({target:"Promise",proto:!0,real:!0,forced:XK},{finally:function(t){var e=YK(this,OR("Promise")),r=kR(t);return this.then(r?function(n){return k$(e,t()).then(function(){return n})}:t,r?function(n){return k$(e,t()).then(function(){throw n})}:t)}});if(kR(Bf)){var R$=OR("Promise").prototype.finally;Fm.finally!==R$&&QK(Fm,"finally",R$,{unsafe:!0})}var ZK=wt,eJ=jo,tJ=TypeError,rJ=Object.getOwnPropertyDescriptor,nJ=ZK&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),aJ=nJ?function(t,e){if(eJ(t)&&!rJ(t,"length").writable)throw new tJ("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},T$=ko,iJ=TypeError,RR=function(t,e){if(!delete t[e])throw new iJ("Cannot delete property "+T$(e)+" of "+T$(t))},sJ=ge,oJ=Yr,lJ=$y,uJ=Pa,cJ=Vn,fJ=aJ,dJ=xd,hJ=ku,pJ=Do,Mp=RR,vJ=Ru,mJ=vJ("splice"),gJ=Math.max,yJ=Math.min;sJ({target:"Array",proto:!0,forced:!mJ},{splice:function(e,r){var n=oJ(this),a=cJ(n),i=lJ(e,a),s=arguments.length,o,l,u,c,f,d;for(s===0?o=l=0:s===1?(o=0,l=a-i):(o=s-2,l=yJ(gJ(uJ(r),0),a-i)),dJ(a+o-l),u=hJ(n,l),c=0;c<l;c++)f=i+c,f in n&&pJ(u,c,n[f]);if(u.length=l,o<l){for(c=i;c<a-l;c++)f=c+l,d=c+o,f in n?n[d]=n[f]:Mp(n,d);for(c=a;c>a-l+o;c--)Mp(n,c-1)}else if(o>l)for(c=a-l;c>i;c--)f=c+l-1,d=c+o-1,f in n?n[d]=n[f]:Mp(n,d);for(c=0;c<o;c++)n[c+i]=arguments[c+2];return fJ(n,a-l+o),u}});var bJ=ge,wJ=gs.findIndex,_J=Lo,Um="findIndex",TR=!0;Um in[]&&Array(1)[Um](function(){TR=!1});bJ({target:"Array",proto:!0,forced:TR},{findIndex:function(e){return wJ(this,e,arguments.length>1?arguments[1]:void 0)}});_J(Um);var $J=jo,xJ=Vn,SJ=xd,IJ=Ut,PR=function(t,e,r,n,a,i,s,o){for(var l=a,u=0,c=s?IJ(s,o):!1,f,d;u<n;)u in r&&(f=c?c(r[u],u,e):r[u],i>0&&$J(f)?(d=xJ(f),l=PR(t,e,f,d,l,i-1)-1):(SJ(l+1),t[l]=f),l++),u++;return l},CR=PR,EJ=ge,AJ=CR,OJ=$t,kJ=Yr,RJ=Vn,TJ=ku;EJ({target:"Array",proto:!0},{flatMap:function(e){var r=kJ(this),n=RJ(r),a;return OJ(e),a=TJ(r,0),a.length=AJ(a,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),a}});var PJ=Lo;PJ("flatMap");var P$=Ne,C$=We,CJ=Kn,DJ=Dn,jJ=hs,DR=or,LJ=er,MJ=ky,jR=Jn,Bm=LJ("Promise"),LR="AsyncFromSyncIterator",NJ=DR.set,D$=DR.getterFor(LR),j$=function(t,e,r){var n=t.done;Bm.resolve(t.value).then(function(a){e(jR(a,n))},r)},MR=function(e){e.type=LR,NJ(this,e)};MR.prototype=jJ(CJ(MJ),{next:function(){var e=D$(this);return new Bm(function(r,n){var a=C$(P$(e.next,e.iterator));j$(a,r,n)})},return:function(){var t=D$(this).iterator;return new Bm(function(e,r){var n=DJ(t,"return");if(n===void 0)return e(jR(void 0,!0));var a=C$(P$(n,t));j$(a,e,r)})}});var FJ=MR,UJ=Ne,BJ=dt,L$=We,M$=Ir,zJ=Co,GJ=Dn,qJ=nt,HJ=FJ,VJ=qJ("asyncIterator"),WJ=function(t){var e=L$(t),r=!0,n=GJ(e,VJ),a;return BJ(n)||(n=zJ(e),r=!1),n!==void 0?a=UJ(n,e):(a=e,r=!0),L$(a),M$(r?a:new HJ(M$(a)))},KJ=ge,N$=Ne,JJ=$t,bl=We,YJ=pt,QJ=Ir,XJ=Ry,F$=Jn,ZJ=WJ,eY=Ou,tY=pa,rY=XJ(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(a,i){var s=function(c){e.done=!0,i(c)},o=function(c){eY(r,s,c,s)},l=function(){try{t.resolve(bl(N$(e.next,r))).then(function(c){try{if(bl(c).done)e.done=!0,a(F$(void 0,!0));else{var f=c.value;try{var d=n(f,e.counter++),h=function(p){try{e.inner=ZJ(p),u()}catch(y){o(y)}};YJ(d)?t.resolve(d).then(h,o):h(d)}catch(p){o(p)}}}catch(p){s(p)}},s)}catch(c){s(c)}},u=function(){var c=e.inner;if(c)try{t.resolve(bl(N$(c.next,c.iterator))).then(function(f){try{bl(f).done?(e.inner=null,l()):a(F$(f.value,!1))}catch(d){o(d)}},o)}catch(f){o(f)}else l()};u()})});KJ({target:"AsyncIterator",proto:!0,real:!0,forced:tY},{flatMap:function(e){return bl(this),JJ(e),new rY(QJ(this),{mapper:e,inner:null})}});var nY=Ne,U$=We,aY=Ir,iY=Co,sY=function(t,e){(!e||typeof t!="string")&&U$(t);var r=iY(t);return aY(U$(r!==void 0?nY(r,t):t))},oY=ge,B$=Ne,lY=$t,zm=We,uY=Ir,cY=sY,fY=Ty,z$=ds,dY=pa,hY=fY(function(){for(var t=this.iterator,e=this.mapper,r,n;;){if(n=this.inner)try{if(r=zm(B$(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(a){z$(t,"throw",a)}if(r=zm(B$(this.next,t)),this.done=!!r.done)return;try{this.inner=cY(e(r.value,this.counter++),!1)}catch(a){z$(t,"throw",a)}}});oY({target:"Iterator",proto:!0,real:!0,forced:dY},{flatMap:function(e){return zm(this),lY(e),new hY(uY(this),{mapper:e,inner:null})}});var pY=ge,vY=gs.map,mY=Ru,gY=mY("map");pY({target:"Array",proto:!0,forced:!gY},{map:function(e){return vY(this,e,arguments.length>1?arguments[1]:void 0)}});var yY=Ue,bY=yY(1 .valueOf),NR=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,wY=Ue,_Y=Jr,$Y=Ct,Gm=NR,G$=wY("".replace),xY=RegExp("^["+Gm+"]+"),SY=RegExp("(^|[^"+Gm+"])["+Gm+"]+$"),Np=function(t){return function(e){var r=$Y(_Y(e));return t&1&&(r=G$(r,xY,"")),t&2&&(r=G$(r,SY,"$1")),r}},mb={start:Np(1),end:Np(2),trim:Np(3)},IY=ge,FR=pa,EY=wt,UR=st,BR=Ak,zR=Ue,AY=Eu,q$=xt,OY=Hy,kY=yi,RY=_u,GR=yA,TY=Be,PY=cs.f,CY=Rn.f,DY=Sr.f,jY=bY,LY=mb.trim,zd="Number",Xs=UR[zd];BR[zd];var gb=Xs.prototype,MY=UR.TypeError,NY=zR("".slice),Dc=zR("".charCodeAt),FY=function(t){var e=GR(t,"number");return typeof e=="bigint"?e:UY(e)},UY=function(t){var e=GR(t,"number"),r,n,a,i,s,o,l,u;if(RY(e))throw new MY("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=LY(e),r=Dc(e,0),r===43||r===45){if(n=Dc(e,2),n===88||n===120)return NaN}else if(r===48){switch(Dc(e,1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(s=NY(e,2),o=s.length,l=0;l<o;l++)if(u=Dc(s,l),u<48||u>i)return NaN;return parseInt(s,a)}}return+e},yb=AY(zd,!Xs(" 0o1")||!Xs("0b1")||Xs("+0x1")),BY=function(t){return kY(gb,t)&&TY(function(){jY(t)})},Gd=function(e){var r=arguments.length<1?0:Xs(FY(e));return BY(this)?OY(Object(r),this,Gd):r};Gd.prototype=gb;yb&&!FR&&(gb.constructor=Gd);IY({global:!0,constructor:!0,wrap:!0,forced:yb},{Number:Gd});var zY=function(t,e){for(var r=EY?PY(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,a;r.length>n;n++)q$(e,a=r[n])&&!q$(t,a)&&DY(t,a,CY(e,a))};(yb||FR)&&zY(BR[zd],Xs);var GY=ge;GY({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var qY=ge,HY=gs.find,VY=Lo,qm="find",qR=!0;qm in[]&&Array(1)[qm](function(){qR=!1});qY({target:"Array",proto:!0,forced:qR},{find:function(e){return HY(this,e,arguments.length>1?arguments[1]:void 0)}});VY(qm);var WY=ge,KY=Sd.find;WY({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return KY(this,e)}});var JY=ge,YY=Wn,QY=$t,XY=We,ZY=Ir;JY({target:"Iterator",proto:!0,real:!0},{find:function(e){XY(this),QY(e);var r=ZY(this),n=0;return YY(r,function(a,i){if(e(a,n++))return i(a)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var H$=ps,eQ=Math.floor,Hm=function(t,e){var r=t.length;if(r<8)for(var n=1,a,i;n<r;){for(i=n,a=t[n];i&&e(t[i-1],a)>0;)t[i]=t[--i];i!==n++&&(t[i]=a)}else for(var s=eQ(r/2),o=Hm(H$(t,0,s),e),l=Hm(H$(t,s),e),u=o.length,c=l.length,f=0,d=0;f<u||d<c;)t[f+d]=f<u&&d<c?e(o[f],l[d])<=0?o[f++]:l[d++]:f<u?o[f++]:l[d++];return t},HR=Hm,tQ=us,V$=tQ.match(/firefox\/(\d+)/i),rQ=!!V$&&+V$[1],nQ=us,aQ=/MSIE|Trident/.test(nQ),iQ=us,W$=iQ.match(/AppleWebKit\/(\d+)\./),sQ=!!W$&&+W$[1],oQ=ge,VR=Ue,lQ=$t,uQ=Yr,K$=Vn,cQ=RR,J$=Ct,bb=Be,fQ=HR,dQ=ub,Y$=rQ,hQ=aQ,Q$=wu,X$=sQ,ei=[],Z$=VR(ei.sort),pQ=VR(ei.push),vQ=bb(function(){ei.sort(void 0)}),mQ=bb(function(){ei.sort(null)}),gQ=dQ("sort"),WR=!bb(function(){if(Q$)return Q$<70;if(!(Y$&&Y$>3)){if(hQ)return!0;if(X$)return X$<603;var t="",e,r,n,a;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)ei.push({k:r+a,v:n})}for(ei.sort(function(i,s){return s.v-i.v}),a=0;a<ei.length;a++)r=ei[a].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),yQ=vQ||!mQ||!gQ||!WR,bQ=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:J$(e)>J$(r)?1:-1}};oQ({target:"Array",proto:!0,forced:yQ},{sort:function(e){e!==void 0&&lQ(e);var r=uQ(this);if(WR)return e===void 0?Z$(r):Z$(r,e);var n=[],a=K$(r),i,s;for(s=0;s<a;s++)s in r&&pQ(n,r[s]);for(fQ(n,bQ(e)),i=K$(n),s=0;s<i;)r[s]=n[s++];for(;s<a;)cQ(r,s++);return r}});var wQ=ge,_Q=nR.values;wQ({target:"Object",stat:!0},{values:function(e){return _Q(e)}});var $Q=ge,xQ=AA.includes,SQ=Be,IQ=Lo,EQ=SQ(function(){return!Array(1).includes()});$Q({target:"Array",proto:!0,forced:EQ},{includes:function(e){return xQ(this,e,arguments.length>1?arguments[1]:void 0)}});IQ("includes");var AQ=pt,OQ=Tn,kQ=nt,RQ=kQ("match"),wb=function(t){var e;return AQ(t)&&((e=t[RQ])!==void 0?!!e:OQ(t)==="RegExp")},TQ=wb,PQ=TypeError,_b=function(t){if(TQ(t))throw new PQ("The method doesn't accept regular expressions");return t},CQ=nt,DQ=CQ("match"),$b=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[DQ]=!1,"/./"[t](e)}catch{}}return!1},jQ=ge,LQ=Ue,MQ=_b,NQ=Jr,ex=Ct,FQ=$b,UQ=LQ("".indexOf);jQ({target:"String",proto:!0,forced:!FQ("includes")},{includes:function(e){return!!~UQ(ex(NQ(this)),ex(MQ(e)),arguments.length>1?arguments[1]:void 0)}});var BQ=ge;BQ({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var tx=Ne,rx=tr,zQ=rb,nx=Be,KR=nt,GQ=va,qQ=KR("species"),Fp=RegExp.prototype,xb=function(t,e,r,n){var a=KR(t),i=!nx(function(){var u={};return u[a]=function(){return 7},""[t](u)!==7}),s=i&&!nx(function(){var u=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[qQ]=function(){return c},c.flags="",c[a]=/./[a]),c.exec=function(){return u=!0,null},c[a](""),!u});if(!i||!s||r){var o=/./[a],l=e(a,""[t],function(u,c,f,d,h){var p=c.exec;return p===zQ||p===Fp.exec?i&&!h?{done:!0,value:tx(o,c,f,d)}:{done:!0,value:tx(u,f,c,d)}:{done:!1}});rx(String.prototype,t,l[0]),rx(Fp,a,l[1])}n&&GQ(Fp[a],"sham",!0)},HQ=Rd.charAt,qd=function(t,e,r){return e+(r?HQ(t,e).length:1)},Sb=Ue,VQ=Yr,WQ=Math.floor,Up=Sb("".charAt),KQ=Sb("".replace),Bp=Sb("".slice),JQ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,YQ=/\$([$&'`]|\d{1,2})/g,QQ=function(t,e,r,n,a,i){var s=r+t.length,o=n.length,l=YQ;return a!==void 0&&(a=VQ(a),l=JQ),KQ(i,l,function(u,c){var f;switch(Up(c,0)){case"$":return"$";case"&":return t;case"`":return Bp(e,0,r);case"'":return Bp(e,s);case"<":f=a[Bp(c,1,-1)];break;default:var d=+c;if(d===0)return u;if(d>o){var h=WQ(d/10);return h===0?u:h<=o?n[h-1]===void 0?Up(c,1):n[h-1]+Up(c,1):u}f=n[d-1]}return f===void 0?"":f})},ax=Ne,XQ=We,ZQ=dt,eX=Tn,tX=rb,rX=TypeError,Hd=function(t,e){var r=t.exec;if(ZQ(r)){var n=ax(r,t,e);return n!==null&&XQ(n),n}if(eX(t)==="RegExp")return ax(tX,t,e);throw new rX("RegExp#exec called on incompatible receiver")},nX=Id,ix=Ne,Vd=Ue,aX=xb,iX=Be,sX=We,oX=dt,lX=Pn,uX=Pa,cX=fs,Rs=Ct,fX=Jr,dX=qd,hX=Dn,pX=QQ,vX=Hd,mX=nt,Vm=mX("replace"),gX=Math.max,yX=Math.min,bX=Vd([].concat),zp=Vd([].push),sx=Vd("".indexOf),ox=Vd("".slice),wX=function(t){return t===void 0?t:String(t)},_X=function(){return"a".replace(/./,"$0")==="$0"}(),lx=function(){return/./[Vm]?/./[Vm]("a","$0")==="":!1}(),$X=!iX(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});aX("replace",function(t,e,r){var n=lx?"$":"$0";return[function(i,s){var o=fX(this),l=lX(i)?void 0:hX(i,Vm);return l?ix(l,i,o,s):ix(e,Rs(o),i,s)},function(a,i){var s=sX(this),o=Rs(a);if(typeof i=="string"&&sx(i,n)===-1&&sx(i,"$<")===-1){var l=r(e,s,o,i);if(l.done)return l.value}var u=oX(i);u||(i=Rs(i));var c=s.global,f;c&&(f=s.unicode,s.lastIndex=0);for(var d=[],h;h=vX(s,o),!(h===null||(zp(d,h),!c));){var p=Rs(h[0]);p===""&&(s.lastIndex=dX(o,cX(s.lastIndex),f))}for(var y="",k=0,$=0;$<d.length;$++){h=d[$];for(var b=Rs(h[0]),_=gX(yX(uX(h.index),o.length),0),O=[],R,P=1;P<h.length;P++)zp(O,wX(h[P]));var T=h.groups;if(u){var G=bX([b],O,_,o);T!==void 0&&zp(G,T),R=Rs(nX(i,void 0,G))}else R=pX(b,o,_,O,T,i);_>=k&&(y+=ox(o,k,_)+R,k=_+b.length)}return y+ox(o,k)}]},!$X||!_X||lx);var xX=Be,SX=nt,IX=wt,ux=pa,EX=SX("iterator"),JR=!xX(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(a,i){e.delete("b"),n+=i+a}),r.delete("a",2),r.delete("b",void 0),ux&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(ux||!IX)||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[EX]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://ÑÐµÑÑ").host!=="xn--e1aybc"||new URL("http://a#Ð±").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),ys=Ue,Gp=2147483647,Ol=36,YR=1,Wm=26,AX=38,OX=700,kX=72,RX=128,TX="-",PX=/[^\0-\u007E]/,QR=/[.\u3002\uFF0E\uFF61]/g,cx="Overflow: input needs wider integers to process",qp=Ol-YR,fx=RangeError,CX=ys(QR.exec),Vs=Math.floor,Hp=String.fromCharCode,dx=ys("".charCodeAt),XR=ys([].join),ti=ys([].push),DX=ys("".replace),jX=ys("".split),LX=ys("".toLowerCase),MX=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=dx(t,r++);if(a>=55296&&a<=56319&&r<n){var i=dx(t,r++);(i&64512)===56320?ti(e,((a&1023)<<10)+(i&1023)+65536):(ti(e,a),r--)}else ti(e,a)}return e},hx=function(t){return t+22+75*(t<26)},NX=function(t,e,r){var n=0;for(t=r?Vs(t/OX):t>>1,t+=Vs(t/e);t>qp*Wm>>1;)t=Vs(t/qp),n+=Ol;return Vs(n+(qp+1)*t/(t+AX))},FX=function(t){var e=[];t=MX(t);var r=t.length,n=RX,a=0,i=kX,s,o;for(s=0;s<t.length;s++)o=t[s],o<128&&ti(e,Hp(o));var l=e.length,u=l;for(l&&ti(e,TX);u<r;){var c=Gp;for(s=0;s<t.length;s++)o=t[s],o>=n&&o<c&&(c=o);var f=u+1;if(c-n>Vs((Gp-a)/f))throw new fx(cx);for(a+=(c-n)*f,n=c,s=0;s<t.length;s++){if(o=t[s],o<n&&++a>Gp)throw new fx(cx);if(o===n){for(var d=a,h=Ol;;){var p=h<=i?YR:h>=i+Wm?Wm:h-i;if(d<p)break;var y=d-p,k=Ol-p;ti(e,Hp(hx(p+y%k))),d=Vs(y/k),h+=Ol}ti(e,Hp(hx(d))),i=NX(a,f,u===l),a=0,u++}}a++,n++}return XR(e,"")},UX=function(t){var e=[],r=jX(DX(LX(t),QR,"."),"."),n,a;for(n=0;n<r.length;n++)a=r[n],ti(e,CX(PX,a)?"xn--"+FX(a):a);return XR(e,".")},Km=ge,Wd=st,Ib=uR,jc=Ne,fa=Ue,kl=wt,ZR=JR,eT=tr,BX=ja,zX=hs,GX=La,qX=My,Eb=or,tT=wi,Vp=dt,HX=xt,VX=Ut,WX=Po,KX=We,rT=pt,Rr=Ct,JX=Kn,px=ls,vx=Ey,YX=Co,Lc=Jn,Ts=cb,QX=nt,XX=HR,ZX=QX("iterator"),No="URLSearchParams",nT=No+"Iterator",aT=Eb.set,_n=Eb.getterFor(No),eZ=Eb.getterFor(nT),mx=Ib("fetch"),zf=Ib("Request"),Rl=Ib("Headers"),Wp=zf&&zf.prototype,gx=Rl&&Rl.prototype,tZ=Wd.RegExp,rZ=Wd.TypeError,iT=Wd.decodeURIComponent,nZ=Wd.encodeURIComponent,aZ=fa("".charAt),yx=fa([].join),zi=fa([].push),Jm=fa("".replace),iZ=fa([].shift),bx=fa([].splice),wx=fa("".split),sZ=fa("".slice),oZ=/\+/g,_x=Array(4),lZ=function(t){return _x[t-1]||(_x[t-1]=tZ("((?:%[\\da-f]{2}){"+t+"})","gi"))},uZ=function(t){try{return iT(t)}catch{return t}},$x=function(t){var e=Jm(t,oZ," "),r=4;try{return iT(e)}catch{for(;r;)e=Jm(e,lZ(r--),uZ);return e}},cZ=/[!'()~]|%20/g,fZ={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},dZ=function(t){return fZ[t]},xx=function(t){return Jm(nZ(t),cZ,dZ)},Kp=qX(function(e,r){aT(this,{type:nT,target:_n(e).entries,index:0,kind:r})},No,function(){var e=eZ(this),r=e.target,n=e.index++;if(!r||n>=r.length)return e.target=void 0,Lc(void 0,!0);var a=r[n];switch(e.kind){case"keys":return Lc(a.key,!1);case"values":return Lc(a.value,!1)}return Lc([a.key,a.value],!1)},!0),sT=function(t){this.entries=[],this.url=null,t!==void 0&&(rT(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?aZ(t,0)==="?"?sZ(t,1):t:Rr(t)))};sT.prototype={type:No,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=this.entries,r=YX(t),n,a,i,s,o,l,u;if(r)for(n=vx(t,r),a=n.next;!(i=jc(a,n)).done;){if(s=vx(KX(i.value)),o=s.next,(l=jc(o,s)).done||(u=jc(o,s)).done||!jc(o,s).done)throw new rZ("Expected sequence with length 2");zi(e,{key:Rr(l.value),value:Rr(u.value)})}else for(var c in t)HX(t,c)&&zi(e,{key:c,value:Rr(t[c])})},parseQuery:function(t){if(t)for(var e=this.entries,r=wx(t,"&"),n=0,a,i;n<r.length;)a=r[n++],a.length&&(i=wx(a,"="),zi(e,{key:$x(iZ(i)),value:$x(yx(i,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],zi(e,xx(n.key)+"="+xx(n.value));return yx(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Kd=function(){tT(this,mo);var e=arguments.length>0?arguments[0]:void 0,r=aT(this,new sT(e));kl||(this.size=r.entries.length)},mo=Kd.prototype;zX(mo,{append:function(e,r){var n=_n(this);Ts(arguments.length,2),zi(n.entries,{key:Rr(e),value:Rr(r)}),kl||this.length++,n.updateURL()},delete:function(t){for(var e=_n(this),r=Ts(arguments.length,1),n=e.entries,a=Rr(t),i=r<2?void 0:arguments[1],s=i===void 0?i:Rr(i),o=0;o<n.length;){var l=n[o];if(l.key===a&&(s===void 0||l.value===s)){if(bx(n,o,1),s!==void 0)break}else o++}kl||(this.size=n.length),e.updateURL()},get:function(e){var r=_n(this).entries;Ts(arguments.length,1);for(var n=Rr(e),a=0;a<r.length;a++)if(r[a].key===n)return r[a].value;return null},getAll:function(e){var r=_n(this).entries;Ts(arguments.length,1);for(var n=Rr(e),a=[],i=0;i<r.length;i++)r[i].key===n&&zi(a,r[i].value);return a},has:function(e){for(var r=_n(this).entries,n=Ts(arguments.length,1),a=Rr(e),i=n<2?void 0:arguments[1],s=i===void 0?i:Rr(i),o=0;o<r.length;){var l=r[o++];if(l.key===a&&(s===void 0||l.value===s))return!0}return!1},set:function(e,r){var n=_n(this);Ts(arguments.length,1);for(var a=n.entries,i=!1,s=Rr(e),o=Rr(r),l=0,u;l<a.length;l++)u=a[l],u.key===s&&(i?bx(a,l--,1):(i=!0,u.value=o));i||zi(a,{key:s,value:o}),kl||(this.size=a.length),n.updateURL()},sort:function(){var e=_n(this);XX(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=_n(this).entries,n=VX(e,arguments.length>1?arguments[1]:void 0),a=0,i;a<r.length;)i=r[a++],n(i.value,i.key,this)},keys:function(){return new Kp(this,"keys")},values:function(){return new Kp(this,"values")},entries:function(){return new Kp(this,"entries")}},{enumerable:!0});eT(mo,ZX,mo.entries,{name:"entries"});eT(mo,"toString",function(){return _n(this).serialize()},{enumerable:!0});kl&&BX(mo,"size",{get:function(){return _n(this).entries.length},configurable:!0,enumerable:!0});GX(Kd,No);Km({global:!0,constructor:!0,forced:!ZR},{URLSearchParams:Kd});if(!ZR&&Vp(Rl)){var hZ=fa(gx.has),pZ=fa(gx.set),Sx=function(t){if(rT(t)){var e=t.body,r;if(WX(e)===No)return r=t.headers?new Rl(t.headers):new Rl,hZ(r,"content-type")||pZ(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),JX(t,{body:px(0,Rr(e)),headers:px(0,r)})}return t};if(Vp(mx)&&Km({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return mx(e,arguments.length>1?Sx(arguments[1]):{})}}),Vp(zf)){var Jp=function(e){return tT(this,Wp),new zf(e,arguments.length>1?Sx(arguments[1]):{})};Wp.constructor=Jp,Jp.prototype=Wp,Km({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Jp})}}var vZ={URLSearchParams:Kd,getState:_n},mZ=ge,Ab=wt,gZ=JR,Ob=st,Ix=Ut,Ln=Ue,Gf=tr,yn=ja,yZ=wi,Ym=xt,kb=EO,Ps=gk,Mn=ps,bZ=Rd.codeAt,wZ=UX,_a=Ct,_Z=La,$Z=cb,oT=vZ,lT=or,xZ=lT.set,qf=lT.getterFor("URL"),SZ=oT.URLSearchParams,IZ=oT.getState,al=Ob.URL,Qm=Ob.TypeError,Hf=Ob.parseInt,EZ=Math.floor,Ex=Math.pow,$n=Ln("".charAt),Bn=Ln(/./.exec),wl=Ln([].join),AZ=Ln(1 .toString),OZ=Ln([].pop),Fs=Ln([].push),Yp=Ln("".replace),kZ=Ln([].shift),RZ=Ln("".split),Tl=Ln("".slice),Vf=Ln("".toLowerCase),TZ=Ln([].unshift),PZ="Invalid authority",Qp="Invalid scheme",Ri="Invalid host",Ax="Invalid port",uT=/[a-z]/i,CZ=/[\d+-.a-z]/i,Xm=/\d/,DZ=/^0x/i,jZ=/^[0-7]+$/,LZ=/^\d+$/,cT=/^[\da-f]+$/i,MZ=/[\0\t\n\r #%/:<>?@[\\\]^|]/,NZ=/[\0\t\n\r #/:<>?@[\\\]^|]/,FZ=/^[\u0000-\u0020]+/,UZ=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,BZ=/[\t\n\r]/g,bn,zZ=function(t){var e=RZ(t,"."),r,n,a,i,s,o,l;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],a=0;a<r;a++){if(i=e[a],i==="")return t;if(s=10,i.length>1&&$n(i,0)==="0"&&(s=Bn(DZ,i)?16:8,i=Tl(i,s===8?1:2)),i==="")o=0;else{if(!Bn(s===10?LZ:s===8?jZ:cT,i))return t;o=Hf(i,s)}Fs(n,o)}for(a=0;a<r;a++)if(o=n[a],a===r-1){if(o>=Ex(256,5-r))return null}else if(o>255)return null;for(l=OZ(n),a=0;a<n.length;a++)l+=n[a]*Ex(256,3-a);return l},GZ=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,a=0,i,s,o,l,u,c,f,d=function(){return $n(t,a)};if(d()===":"){if($n(t,1)!==":")return;a+=2,r++,n=r}for(;d();){if(r===8)return;if(d()===":"){if(n!==null)return;a++,r++,n=r;continue}for(i=s=0;s<4&&Bn(cT,d());)i=i*16+Hf(d(),16),a++,s++;if(d()==="."){if(s===0||(a-=s,r>6))return;for(o=0;d();){if(l=null,o>0)if(d()==="."&&o<4)a++;else return;if(!Bn(Xm,d()))return;for(;Bn(Xm,d());){if(u=Hf(d(),10),l===null)l=u;else{if(l===0)return;l=l*10+u}if(l>255)return;a++}e[r]=e[r]*256+l,o++,(o===2||o===4)&&r++}if(o!==4)return;break}else if(d()===":"){if(a++,!d())return}else if(d())return;e[r++]=i}if(n!==null)for(c=r-n,r=7;r!==0&&c>0;)f=e[r],e[r--]=e[n+c-1],e[n+--c]=f;else if(r!==8)return;return e},qZ=function(t){for(var e=null,r=1,n=null,a=0,i=0;i<8;i++)t[i]!==0?(a>r&&(e=n,r=a),n=null,a=0):(n===null&&(n=i),++a);return a>r&&(e=n,r=a),e},il=function(t){var e,r,n,a;if(typeof t=="number"){for(e=[],r=0;r<4;r++)TZ(e,t%256),t=EZ(t/256);return wl(e,".")}else if(typeof t=="object"){for(e="",n=qZ(t),r=0;r<8;r++)a&&t[r]===0||(a&&(a=!1),n===r?(e+=r?":":"::",a=!0):(e+=AZ(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},mf={},fT=kb({},mf,{" ":1,'"':1,"<":1,">":1,"`":1}),dT=kb({},fT,{"#":1,"?":1,"{":1,"}":1}),Xp=kb({},dT,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ga=function(t,e){var r=bZ(t,0);return r>32&&r<127&&!Ym(e,t)?t:encodeURIComponent(t)},Mc={ftp:21,file:null,http:80,https:443,ws:80,wss:443},_l=function(t,e){var r;return t.length===2&&Bn(uT,$n(t,0))&&((r=$n(t,1))===":"||!e&&r==="|")},Ox=function(t){var e;return t.length>1&&_l(Tl(t,0,2))&&(t.length===2||(e=$n(t,2))==="/"||e==="\\"||e==="?"||e==="#")},HZ=function(t){return t==="."||Vf(t)==="%2e"},VZ=function(t){return t=Vf(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},Zp={},kx={},ev={},Rx={},Tx={},tv={},Px={},Cx={},Nc={},Fc={},rv={},nv={},av={},iv={},Dx={},sv={},Cs={},Zn={},jx={},Ti={},ba={},Rb=function(t,e,r){var n=_a(t),a,i,s;if(e){if(i=this.parse(n),i)throw new Qm(i);this.searchParams=null}else{if(r!==void 0&&(a=new Rb(r,!0)),i=this.parse(n,null,a),i)throw new Qm(i);s=IZ(new SZ),s.bindURL(this),this.searchParams=s}};Rb.prototype={type:"URL",parse:function(t,e,r){var n=this,a=e||Zp,i=0,s="",o=!1,l=!1,u=!1,c,f,d,h;for(t=_a(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=Yp(t,FZ,""),t=Yp(t,UZ,"$1")),t=Yp(t,BZ,""),c=Ps(t);i<=c.length;){switch(f=c[i],a){case Zp:if(f&&Bn(uT,f))s+=Vf(f),a=kx;else{if(e)return Qp;a=ev;continue}break;case kx:if(f&&(Bn(CZ,f)||f==="+"||f==="-"||f==="."))s+=Vf(f);else if(f===":"){if(e&&(n.isSpecial()!==Ym(Mc,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,e){n.isSpecial()&&Mc[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?a=iv:n.isSpecial()&&r&&r.scheme===n.scheme?a=Rx:n.isSpecial()?a=Cx:c[i+1]==="/"?(a=Tx,i++):(n.cannotBeABaseURL=!0,Fs(n.path,""),a=jx)}else{if(e)return Qp;s="",a=ev,i=0;continue}break;case ev:if(!r||r.cannotBeABaseURL&&f!=="#")return Qp;if(r.cannotBeABaseURL&&f==="#"){n.scheme=r.scheme,n.path=Mn(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,a=ba;break}a=r.scheme==="file"?iv:tv;continue;case Rx:if(f==="/"&&c[i+1]==="/")a=Nc,i++;else{a=tv;continue}break;case Tx:if(f==="/"){a=Fc;break}else{a=Zn;continue}case tv:if(n.scheme=r.scheme,f===bn)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Mn(r.path),n.query=r.query;else if(f==="/"||f==="\\"&&n.isSpecial())a=Px;else if(f==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Mn(r.path),n.query="",a=Ti;else if(f==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Mn(r.path),n.query=r.query,n.fragment="",a=ba;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=Mn(r.path),n.path.length--,a=Zn;continue}break;case Px:if(n.isSpecial()&&(f==="/"||f==="\\"))a=Nc;else if(f==="/")a=Fc;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,a=Zn;continue}break;case Cx:if(a=Nc,f!=="/"||$n(s,i+1)!=="/")continue;i++;break;case Nc:if(f!=="/"&&f!=="\\"){a=Fc;continue}break;case Fc:if(f==="@"){o&&(s="%40"+s),o=!0,d=Ps(s);for(var p=0;p<d.length;p++){var y=d[p];if(y===":"&&!u){u=!0;continue}var k=Ga(y,Xp);u?n.password+=k:n.username+=k}s=""}else if(f===bn||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(o&&s==="")return PZ;i-=Ps(s).length+1,s="",a=rv}else s+=f;break;case rv:case nv:if(e&&n.scheme==="file"){a=sv;continue}else if(f===":"&&!l){if(s==="")return Ri;if(h=n.parseHost(s),h)return h;if(s="",a=av,e===nv)return}else if(f===bn||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return Ri;if(e&&s===""&&(n.includesCredentials()||n.port!==null))return;if(h=n.parseHost(s),h)return h;if(s="",a=Cs,e)return;continue}else f==="["?l=!0:f==="]"&&(l=!1),s+=f;break;case av:if(Bn(Xm,f))s+=f;else if(f===bn||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()||e){if(s!==""){var $=Hf(s,10);if($>65535)return Ax;n.port=n.isSpecial()&&$===Mc[n.scheme]?null:$,s=""}if(e)return;a=Cs;continue}else return Ax;break;case iv:if(n.scheme="file",f==="/"||f==="\\")a=Dx;else if(r&&r.scheme==="file")switch(f){case bn:n.host=r.host,n.path=Mn(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=Mn(r.path),n.query="",a=Ti;break;case"#":n.host=r.host,n.path=Mn(r.path),n.query=r.query,n.fragment="",a=ba;break;default:Ox(wl(Mn(c,i),""))||(n.host=r.host,n.path=Mn(r.path),n.shortenPath()),a=Zn;continue}else{a=Zn;continue}break;case Dx:if(f==="/"||f==="\\"){a=sv;break}r&&r.scheme==="file"&&!Ox(wl(Mn(c,i),""))&&(_l(r.path[0],!0)?Fs(n.path,r.path[0]):n.host=r.host),a=Zn;continue;case sv:if(f===bn||f==="/"||f==="\\"||f==="?"||f==="#"){if(!e&&_l(s))a=Zn;else if(s===""){if(n.host="",e)return;a=Cs}else{if(h=n.parseHost(s),h)return h;if(n.host==="localhost"&&(n.host=""),e)return;s="",a=Cs}continue}else s+=f;break;case Cs:if(n.isSpecial()){if(a=Zn,f!=="/"&&f!=="\\")continue}else if(!e&&f==="?")n.query="",a=Ti;else if(!e&&f==="#")n.fragment="",a=ba;else if(f!==bn&&(a=Zn,f!=="/"))continue;break;case Zn:if(f===bn||f==="/"||f==="\\"&&n.isSpecial()||!e&&(f==="?"||f==="#")){if(VZ(s)?(n.shortenPath(),f!=="/"&&!(f==="\\"&&n.isSpecial())&&Fs(n.path,"")):HZ(s)?f!=="/"&&!(f==="\\"&&n.isSpecial())&&Fs(n.path,""):(n.scheme==="file"&&!n.path.length&&_l(s)&&(n.host&&(n.host=""),s=$n(s,0)+":"),Fs(n.path,s)),s="",n.scheme==="file"&&(f===bn||f==="?"||f==="#"))for(;n.path.length>1&&n.path[0]==="";)kZ(n.path);f==="?"?(n.query="",a=Ti):f==="#"&&(n.fragment="",a=ba)}else s+=Ga(f,dT);break;case jx:f==="?"?(n.query="",a=Ti):f==="#"?(n.fragment="",a=ba):f!==bn&&(n.path[0]+=Ga(f,mf));break;case Ti:!e&&f==="#"?(n.fragment="",a=ba):f!==bn&&(f==="'"&&n.isSpecial()?n.query+="%27":f==="#"?n.query+="%23":n.query+=Ga(f,mf));break;case ba:f!==bn&&(n.fragment+=Ga(f,fT));break}i++}},parseHost:function(t){var e,r,n;if($n(t,0)==="["){if($n(t,t.length-1)!=="]"||(e=GZ(Tl(t,1,-1)),!e))return Ri;this.host=e}else if(this.isSpecial()){if(t=wZ(t),Bn(MZ,t)||(e=zZ(t),e===null))return Ri;this.host=e}else{if(Bn(NZ,t))return Ri;for(e="",r=Ps(t),n=0;n<r.length;n++)e+=Ga(r[n],mf);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Ym(Mc,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!_l(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,a=t.host,i=t.port,s=t.path,o=t.query,l=t.fragment,u=e+":";return a!==null?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=il(a),i!==null&&(u+=":"+i)):e==="file"&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+wl(s,"/"):"",o!==null&&(u+="?"+o),l!==null&&(u+="#"+l),u},setHref:function(t){var e=this.parse(t);if(e)throw new Qm(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new go(t.path[0]).origin}catch{return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+il(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_a(t)+":",Zp)},getUsername:function(){return this.username},setUsername:function(t){var e=Ps(_a(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Ga(e[r],Xp)}},getPassword:function(){return this.password},setPassword:function(t){var e=Ps(_a(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Ga(e[r],Xp)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?il(t):il(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,rv)},getHostname:function(){var t=this.host;return t===null?"":il(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,nv)},getPort:function(){var t=this.port;return t===null?"":_a(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=_a(t),t===""?this.port=null:this.parse(t,av))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+wl(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Cs))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=_a(t),t===""?this.query=null:($n(t,0)==="?"&&(t=Tl(t,1)),this.query="",this.parse(t,Ti)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=_a(t),t===""){this.fragment=null;return}$n(t,0)==="#"&&(t=Tl(t,1)),this.fragment="",this.parse(t,ba)},update:function(){this.query=this.searchParams.serialize()||null}};var go=function(e){var r=yZ(this,kr),n=$Z(arguments.length,1)>1?arguments[1]:void 0,a=xZ(r,new Rb(e,!1,n));Ab||(r.href=a.serialize(),r.origin=a.getOrigin(),r.protocol=a.getProtocol(),r.username=a.getUsername(),r.password=a.getPassword(),r.host=a.getHost(),r.hostname=a.getHostname(),r.port=a.getPort(),r.pathname=a.getPathname(),r.search=a.getSearch(),r.searchParams=a.getSearchParams(),r.hash=a.getHash())},kr=go.prototype,wn=function(t,e){return{get:function(){return qf(this)[t]()},set:e&&function(r){return qf(this)[e](r)},configurable:!0,enumerable:!0}};Ab&&(yn(kr,"href",wn("serialize","setHref")),yn(kr,"origin",wn("getOrigin")),yn(kr,"protocol",wn("getProtocol","setProtocol")),yn(kr,"username",wn("getUsername","setUsername")),yn(kr,"password",wn("getPassword","setPassword")),yn(kr,"host",wn("getHost","setHost")),yn(kr,"hostname",wn("getHostname","setHostname")),yn(kr,"port",wn("getPort","setPort")),yn(kr,"pathname",wn("getPathname","setPathname")),yn(kr,"search",wn("getSearch","setSearch")),yn(kr,"searchParams",wn("getSearchParams")),yn(kr,"hash",wn("getHash","setHash")));Gf(kr,"toJSON",function(){return qf(this).serialize()},{enumerable:!0});Gf(kr,"toString",function(){return qf(this).serialize()},{enumerable:!0});if(al){var Lx=al.createObjectURL,Mx=al.revokeObjectURL;Lx&&Gf(go,"createObjectURL",Ix(Lx,al)),Mx&&Gf(go,"revokeObjectURL",Ix(Mx,al))}_Z(go,"URL");mZ({global:!0,constructor:!0,forced:!gZ,sham:!Ab},{URL:go});var ov=Ne,hT=Ue,WZ=xb,KZ=We,JZ=Pn,YZ=Jr,QZ=Ud,XZ=qd,ZZ=fs,Nx=Ct,eee=Dn,Fx=Hd,tee=Td,ree=Be,Ds=tee.UNSUPPORTED_Y,nee=4294967295,aee=Math.min,lv=hT([].push),uv=hT("".slice),iee=!ree(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),Ux="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;WZ("split",function(t,e,r){var n="0".split(void 0,0).length?function(a,i){return a===void 0&&i===0?[]:ov(e,this,a,i)}:e;return[function(i,s){var o=YZ(this),l=JZ(i)?void 0:eee(i,t);return l?ov(l,i,o,s):ov(n,Nx(o),i,s)},function(a,i){var s=KZ(this),o=Nx(a);if(!Ux){var l=r(n,s,o,i,n!==e);if(l.done)return l.value}var u=QZ(s,RegExp),c=s.unicode,f=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Ds?"g":"y"),d=new u(Ds?"^(?:"+s.source+")":s,f),h=i===void 0?nee:i>>>0;if(h===0)return[];if(o.length===0)return Fx(d,o)===null?[o]:[];for(var p=0,y=0,k=[];y<o.length;){d.lastIndex=Ds?0:y;var $=Fx(d,Ds?uv(o,y):o),b;if($===null||(b=aee(ZZ(d.lastIndex+(Ds?y:0)),o.length))===p)y=XZ(o,y,c);else{if(lv(k,uv(o,p,y)),k.length===h)return k;for(var _=1;_<=$.length-1;_++)if(lv(k,$[_]),k.length===h)return k;y=p=b}}return lv(k,uv(o,p)),k}]},Ux||!iee,Ds);var see=$u.PROPER,oee=Be,Bx=NR,zx="âÂá ",pT=function(t){return oee(function(){return!!Bx[t]()||zx[t]()!==zx||see&&Bx[t].name!==t})},lee=mb.end,uee=pT,vT=uee("trimEnd")?function(){return lee(this)}:"".trimEnd,cee=ge,Gx=vT;cee({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==Gx},{trimRight:Gx});var fee=ge,qx=vT;fee({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==qx},{trimEnd:qx});var dee=ge,hee=mb.trim,pee=pT;dee({target:"String",proto:!0,forced:pee("trim")},{trim:function(){return hee(this)}});var vee=Pa,mee=Ct,gee=Jr,yee=RangeError,bee=function(e){var r=mee(gee(this)),n="",a=vee(e);if(a<0||a===1/0)throw new yee("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))a&1&&(n+=r);return n},wee=ge,_ee=bee;wee({target:"String",proto:!0},{repeat:_ee});var $ee=ge,xee=Ue,See=vd,Iee=Cn,Eee=ub,Aee=xee([].join),Oee=See!==Object,kee=Oee||!Eee("join",",");$ee({target:"Array",proto:!0,forced:kee},{join:function(e){return Aee(Iee(this),e===void 0?",":e)}});var Ree=Ne,Tee=xt,Pee=yi,Cee=yk,Hx=RegExp.prototype,Tb=function(t){var e=t.flags;return e===void 0&&!("flags"in Hx)&&!Tee(t,"flags")&&Pee(Hx,t)?Ree(Cee,t):e},Dee=$u.PROPER,jee=tr,Lee=We,Vx=Ct,Mee=Be,Nee=Tb,Pb="toString",mT=RegExp.prototype,gT=mT[Pb],Fee=Mee(function(){return gT.call({source:"a",flags:"b"})!=="/a/b"}),Uee=Dee&&gT.name!==Pb;(Fee||Uee)&&jee(mT,Pb,function(){var e=Lee(this),r=Vx(e.source),n=Vx(Nee(e));return"/"+r+"/"+n},{unsafe:!0});function Cb(t){return $k(t)||Sk(t)||nb(t)||xk()}var Bee=Ne,zee=xb,Gee=We,qee=Pn,Hee=fs,cv=Ct,Vee=Jr,Wee=Dn,Kee=qd,Wx=Hd;zee("match",function(t,e,r){return[function(a){var i=Vee(this),s=qee(a)?void 0:Wee(a,t);return s?Bee(s,a,i):new RegExp(a)[t](cv(i))},function(n){var a=Gee(this),i=cv(n),s=r(e,a,i);if(s.done)return s.value;if(!a.global)return Wx(a,i);var o=a.unicode;a.lastIndex=0;for(var l=[],u=0,c;(c=Wx(a,i))!==null;){var f=cv(c[0]);l[u]=f,f===""&&(a.lastIndex=Kee(i,Hee(a.lastIndex),o)),u++}return u===0?null:l}]});var Jee=ge,Yee=Ne,yT=wd,Qee=My,Uc=Jn,Kx=Jr,bT=fs,Zl=Ct,Xee=We,Zee=Pn,ete=Tn,tte=wb,wT=Tb,rte=Dn,nte=tr,ate=Be,ite=nt,ste=Ud,ote=qd,lte=Hd,_T=or,ute=pa,Wf=ite("matchAll"),$T="RegExp String",xT=$T+" Iterator",cte=_T.set,fte=_T.getterFor(xT),Jx=RegExp.prototype,dte=TypeError,Zm=yT("".indexOf),Kf=yT("".matchAll),fv=!!Kf&&!ate(function(){Kf("a",/./)}),hte=Qee(function(e,r,n,a){cte(this,{type:xT,regexp:e,string:r,global:n,unicode:a,done:!1})},$T,function(){var e=fte(this);if(e.done)return Uc(void 0,!0);var r=e.regexp,n=e.string,a=lte(r,n);return a===null?(e.done=!0,Uc(void 0,!0)):e.global?(Zl(a[0])===""&&(r.lastIndex=ote(n,bT(r.lastIndex),e.unicode)),Uc(a,!1)):(e.done=!0,Uc(a,!1))}),ST=function(t){var e=Xee(this),r=Zl(t),n=ste(e,RegExp),a=Zl(wT(e)),i,s,o;return i=new n(n===RegExp?e.source:e,a),s=!!~Zm(a,"g"),o=!!~Zm(a,"u"),i.lastIndex=bT(e.lastIndex),new hte(i,r,s,o)};Jee({target:"String",proto:!0,forced:fv},{matchAll:function(e){var r=Kx(this),n,a,i,s;if(Zee(e)){if(fv)return Kf(r,e)}else{if(tte(e)&&(n=Zl(Kx(wT(e))),!~Zm(n,"g")))throw new dte("`.matchAll` does not allow non-global regexes");if(fv)return Kf(r,e);if(i=rte(e,Wf),i===void 0&&ute&&ete(e)==="RegExp"&&(i=ST),i)return Yee(i,e,r)}return a=Zl(r),s=new RegExp(e,"g"),s[Wf](a)}});Wf in Jx||nte(Jx,Wf,ST);var pte=Sr.f,vte=function(t,e,r){r in t||pte(t,r,{configurable:!0,get:function(){return e[r]},set:function(n){e[r]=n}})},mte=wt,Db=st,Nu=Ue,gte=Eu,yte=Hy,bte=va,wte=Kn,_te=cs.f,Yx=yi,$te=wb,Qx=Ct,xte=Tb,IT=Td,Ste=vte,Ite=tr,Ete=Be,Ate=xt,Ote=or.enforce,kte=Vy,Rte=nt,ET=bk,AT=wk,Tte=Rte("match"),oi=Db.RegExp,Us=oi.prototype,Pte=Db.SyntaxError,Cte=Nu(Us.exec),Jf=Nu("".charAt),Xx=Nu("".replace),Zx=Nu("".indexOf),Dte=Nu("".slice),jte=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ji=/a/g,dv=/a/g,Lte=new oi(Ji)!==Ji,OT=IT.MISSED_STICKY,Mte=IT.UNSUPPORTED_Y,Nte=mte&&(!Lte||OT||ET||AT||Ete(function(){return dv[Tte]=!1,oi(Ji)!==Ji||oi(dv)===dv||String(oi(Ji,"i"))!=="/a/i"})),Fte=function(t){for(var e=t.length,r=0,n="",a=!1,i;r<=e;r++){if(i=Jf(t,r),i==="\\"){n+=i+Jf(t,++r);continue}!a&&i==="."?n+="[\\s\\S]":(i==="["?a=!0:i==="]"&&(a=!1),n+=i)}return n},Ute=function(t){for(var e=t.length,r=0,n="",a=[],i=wte(null),s=!1,o=!1,l=0,u="",c;r<=e;r++){if(c=Jf(t,r),c==="\\")c+=Jf(t,++r);else if(c==="]")s=!1;else if(!s)switch(!0){case c==="[":s=!0;break;case c==="(":Cte(jte,Dte(t,r+1))&&(r+=2,o=!0),n+=c,l++;continue;case(c===">"&&o):if(u===""||Ate(i,u))throw new Pte("Invalid capture group name");i[u]=!0,a[a.length]=[u,l],o=!1,u="";continue}o?u+=c:n+=c}return[n,a]};if(gte("RegExp",Nte)){for(var Pi=function(e,r){var n=Yx(Us,this),a=$te(e),i=r===void 0,s=[],o=e,l,u,c,f,d,h;if(!n&&a&&i&&e.constructor===Pi)return e;if((a||Yx(Us,e))&&(e=e.source,i&&(r=xte(o))),e=e===void 0?"":Qx(e),r=r===void 0?"":Qx(r),o=e,ET&&"dotAll"in Ji&&(u=!!r&&Zx(r,"s")>-1,u&&(r=Xx(r,/s/g,""))),l=r,OT&&"sticky"in Ji&&(c=!!r&&Zx(r,"y")>-1,c&&Mte&&(r=Xx(r,/y/g,""))),AT&&(f=Ute(e),e=f[0],s=f[1]),d=yte(oi(e,r),n?this:Us,Pi),(u||c||s.length)&&(h=Ote(d),u&&(h.dotAll=!0,h.raw=Pi(Fte(e),l)),c&&(h.sticky=!0),s.length&&(h.groups=s)),e!==o)try{bte(d,"source",o===""?"(?:)":o)}catch{}return d},eS=_te(oi),tS=0;eS.length>tS;)Ste(Pi,oi,eS[tS++]);Us.constructor=Pi,Pi.prototype=Us,Ite(Db,"RegExp",Pi,{constructor:!0})}kte("RegExp");var Bte=wt,zte=Td.MISSED_STICKY,Gte=Tn,qte=ja,Hte=or.get,rS=RegExp.prototype,Vte=TypeError;Bte&&zte&&qte(rS,"sticky",{configurable:!0,get:function(){if(this!==rS){if(Gte(this)==="RegExp")return!!Hte(this).sticky;throw new Vte("Incompatible receiver, RegExp required")}}});var Wte=ge,Kte=wd,Jte=Rn.f,Yte=fs,nS=Ct,Qte=_b,Xte=Jr,Zte=$b,ere=Kte("".slice),tre=Math.min,kT=Zte("startsWith"),rre=!kT&&!!function(){var t=Jte(String.prototype,"startsWith");return t&&!t.writable}();Wte({target:"String",proto:!0,forced:!rre&&!kT},{startsWith:function(e){var r=nS(Xte(this));Qte(e);var n=Yte(tre(arguments.length>1?arguments[1]:void 0,r.length)),a=nS(e);return ere(r,n,n+a.length)===a}});var nre=ge,are=wd,ire=Rn.f,sre=fs,aS=Ct,ore=_b,lre=Jr,ure=$b,cre=are("".slice),fre=Math.min,RT=ure("endsWith"),dre=!RT&&!!function(){var t=ire(String.prototype,"endsWith");return t&&!t.writable}();nre({target:"String",proto:!0,forced:!dre&&!RT},{endsWith:function(e){var r=aS(lre(this));ore(e);var n=arguments.length>1?arguments[1]:void 0,a=r.length,i=n===void 0?a:fre(sre(n),a),s=aS(e);return cre(r,i-s.length,i)===s}});function hre(){return typeof global<"u"?global:typeof globalThis<"u"?globalThis:window}function pre(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var vre=hre().Error,pn=function(t){ot(r,vre);var e=pre(r);function r(n,a){var i;return Te(this,r),(i=e.call.apply(e,[this].concat([n,a]))).name=(this instanceof r?this.constructor:void 0).name==="JSError"?"Error":(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(rt(i),(this instanceof r?this.constructor:void 0).prototype),i}return r}(),Yf=function(){function t(){if(Te(this,t),!this.static().isConjuring())return this.static().isMagicReady()||this.static().prepareMagic(),this._proxy=this.createProxy(),this.initialize.apply(this,arguments),this._proxy.instance}return Fe(t,[{key:"reserveProperty",value:function(e){Object.assign(this,J({},e,null))}},{key:"initialize",value:function(){}},{key:"static",value:function(){return this.constructor}},{key:"__get",value:function(e){return Reflect.get(this._proxy.target,e)}},{key:"__set",value:function(e,r){Reflect.set(this._proxy.target,e,r)}},{key:"__delete",value:function(e){Reflect.deleteProperty(this._proxy.target,e)}},{key:"createProxy",value:function(){var e=this.static();return{target:this,instance:new Proxy(this,{get:function(r,n,a){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.get(r,n,a):r.__get(n)},set:function(r,n,a,i){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.set(r,n,a,i):(r.__set(n,a),!0)},deleteProperty:function(r,n){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.deleteProperty(r,n):(r.__delete(n),!0)}})}}}],[{key:"isConjuring",value:function(){return this.__conjuring}},{key:"isMagicReady",value:function(){return this.__reservedProperties.has(this)}},{key:"prepareMagic",value:function(){this.__conjuring=!0,this.__reservedProperties.set(this,new Set(Object.getOwnPropertyNames(new this))),this.__conjuring=!1}},{key:"isReservedProperty",value:function(e){var r;return!((r=this.__reservedProperties.get(this))===null||r===void 0||!r.has(e))}}]),t}();function mre(t){return typeof t=="function"?t():t}function gre(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];mre(t)||tt.apply(void 0,[e].concat(n))}function tt(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Something went wrong",e=typeof t=="string"?Error:t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];throw Nd(e,Pt(typeof t=="string"?[t]:n))}function TT(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return iS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jb(t,e){return t===e||!(!yt(t)||!yt(e))&&(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():Object.keys(t).length===Object.keys(e).length&&!Object.keys(t).some(function(r){return!jb(t[r],e[r])}))}function CT(t){for(var e=new Set,r=(t.constructor===Object.constructor?t:t.constructor).prototype;r.constructor!==Object;)Object.getOwnPropertyNames(r).forEach(function(n){return e.add(n)}),r=Object.getPrototypeOf(r);return e.delete("constructor"),Array.from(e)}function yre(t){return Object.entries(t).reduce(function(e,r){var n=Me(r,2),a=n[0];return e[n[1]]=a,e},{})}J(Yf,"__conjuring",void 0),J(Yf,"__reservedProperties",new WeakMap);var DT=Array.isArray.bind(Array);function Qf(t){return t==null||(Array.isArray(t)||typeof t=="string"?t.length===0:wr(t)==="object"&&Object.keys(t).length===0)}function $l(t,e){return t instanceof e}function bre(t){return typeof(t==null?void 0:t[Symbol.iterator])=="function"}function yt(t){return wr(t)==="object"&&t!==null}function wre(t){return Object.getPrototypeOf(t)===Object.prototype}function _re(t){return typeof t=="string"||t instanceof String}function eg(t){return t==null}function Nn(t){for(var e in t=PT({},t))xre(t,e)&&(t[e]=Nn(t[e]));return t}var jT;Object.entries.bind(Object);function Xf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $re(t,e){return t.reduce(function(r,n){return r[n[e]]=n,r},{})}function Zf(t,e){var r,n={},a=TT(Array.isArray(e)?e:[e]);try{for(a.s();!(r=a.n()).done;){var i=r.value;i in t&&(n[i]=t[i])}}catch(s){a.e(s)}finally{a.f()}return n}function xre(t,e){var r;return Xf(t,e)&&yt(r=t[e])&&r.constructor===Object}function Ra(t,e){if(typeof e=="function"){for(var r=e,n={},a=0,i=Object.entries(t);a<i.length;a++){var s=Me(i[a],2),o=s[0],l=s[1];r(l)||(n[o]=l)}return n}var u,c=PT({},t),f=TT(Array.isArray(e)?e:[e]);try{for(f.s();!(u=f.n()).done;)delete c[u.value]}catch(d){f.e(d)}finally{f.f()}return c}function In(t){return Ra(t,function(e){return e==null})}function At(t){return String(t)}function hv(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return oS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return oS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}jT=Symbol.iterator;var Sre=function(t){function e(r){Te(this,e),J(this,"keysToItems",void 0),J(this,"itemsToKeys",void 0),J(this,"getKey",void 0),this.keysToItems=new Map,this.itemsToKeys=new WeakMap,this.getKey=r??function(n){return At(n)}}return Fe(e,[{key:jT,value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this.keysToItems,"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"size",get:function(){return this.keysToItems.size}},{key:"items",value:function(){return this.keysToItems.values()}},{key:"keys",value:function(){return this.keysToItems.keys()}},{key:"entries",value:function(){return this.keysToItems.entries()}},{key:"add",value:function(r){var n=this.getKey(r);this.keysToItems.set(n,r),this.itemsToKeys.set(r,n)}},{key:"require",value:function(r){var n;return(n=this.keysToItems.get(r))!==null&&n!==void 0?n:tt("Couldn't find item with '".concat(r,"' key"))}},{key:"get",value:function(r){return this.keysToItems.get(r)}},{key:"getKeys",value:function(){return Pt(this.keysToItems.keys())}},{key:"getItems",value:function(){return Pt(this.keysToItems.values())}},{key:"hasKey",value:function(r){return this.keysToItems.has(r)}},{key:"hasItem",value:function(r){return this.itemsToKeys.has(r)}},{key:"delete",value:function(r){var n=this.itemsToKeys.get(r);n&&(this.itemsToKeys.delete(r),this.keysToItems.delete(n))}},{key:"filter",value:function(r){var n,a=this.constructor.createFromArray([],this.getKey),i=hv(this.entries());try{for(i.s();!(n=i.n()).done;){var s=Me(n.value,2),o=s[0],l=s[1];r(l,o)&&a.add(l)}}catch(u){i.e(u)}finally{i.f()}return a}},{key:"clear",value:function(){this.itemsToKeys=new WeakMap,this.keysToItems.clear()}},{key:"clone",value:function(){var r=new this.constructor(this.getKey);r.keysToItems=new Map(this.keysToItems),r.itemsToKeys=new WeakMap;var n,a=hv(r.keysToItems.entries());try{for(a.s();!(n=a.n()).done;){var i=Me(n.value,2),s=i[0],o=i[1];r.itemsToKeys.set(o,s)}}catch(l){a.e(l)}finally{a.f()}return r}}],[{key:"createFromArray",value:function(r,n){var a,i=typeof n=="string"?function(u){return u[n]}:n,s=new e(i),o=hv(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;s.add(l)}}catch(u){o.e(u)}finally{o.f()}return s}}]),e}(),Lb=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Te(this,t),J(this,"count",void 0),J(this,"listeners",void 0),this.count=n,this.listeners=new Set}var e,r;return Fe(t,[{key:"acquire",value:function(){var n=this;return this.count===0?this.waitAvailable().then(function(){return n.acquire()}):(this.count=Math.max(this.count-1,0),Promise.resolve())}},{key:"release",value:function(){this.count++,this.notifyAvailable()}},{key:"isAvailable",value:function(){return this.count!==0}},{key:"run",value:(r=fe(V.mark(function n(a){var i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.acquire();case 2:return s.prev=2,s.next=5,a();case 5:return i=s.sent,s.abrupt("return",i);case 7:return s.prev=7,this.release(),s.finish(7);case 10:case"end":return s.stop()}},n,this,[[2,,7,10]])})),function(n){return r.apply(this,arguments)})},{key:"waitAvailable",value:(e=fe(V.mark(function n(){var a=this;return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.isAvailable()){i.next=5;break}return i.next=3,new Promise(function(s){a.listeners.add(function o(){a.listeners.delete(o),s(null)})});case 3:i.next=0;break;case 5:case"end":return i.stop()}},n,this)})),function(){return e.apply(this,arguments)})},{key:"notifyAvailable",value:function(){this.listeners.forEach(function(n){return n()})}}]),t}(),lS={},LT=function(){function t(){Te(this,t)}return Fe(t,[{key:"set",value:function(e,r){r===void 0&&(r="__undefined__"),localStorage.setItem(e,JSON.stringify(r))}},{key:"get",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=localStorage.getItem(e);return n===null?r:n!=="__undefined__"?JSON.parse(n):void 0}},{key:"require",value:function(e){var r=this.get(e,lS);if(r===lS)throw new Error("Failed getting required key from local storage: '".concat(e,"'"));return r}},{key:"has",value:function(e){return localStorage.getItem(e)!==null}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"pull",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!this.has(e))return r;var n=this.get(e);return this.remove(e),n}}],[{key:"instance",get:function(){var e;return this._instance=(e=this._instance)!==null&&e!==void 0?e:new t}}]),t}();J(LT,"_instance",void 0);var ta=LT.instance;function pv(t,e){var r=function(s,o){return s==null&&o==null?[s===null?1:0,o===null?1:0]:[s??null,o??null]}(t,e),n=Me(r,2),a=n[0],i=n[1];return a>i?1:i>a?-1:0}function Mb(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return uS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return uS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ire(t){t.splice(0,t.length)}function Nb(t,e,r){var n,a=t.slice(0),i=[],s=r?function(c,f){return f.findIndex(function(d){return r(c,d)})}:function(c,f){return f.indexOf(c)},o=Mb(e);try{for(o.s();!(n=o.n()).done;){var l=n.value,u=s(l,a);u!==-1?a.splice(u,1):i.push(l)}}catch(c){o.e(c)}finally{o.f()}return{added:i,removed:a}}function MT(t,e){return t.length===e.length&&!t.some(function(r,n){return e[n]!==r})}function yr(t,e){return e?t.filter(e):t.filter(function(r){return!!r})}function Ere(t,e){var r,n=Mb(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e(a))return a}}catch(i){n.e(i)}finally{n.f()}return null}function Are(t,e){return Pt(t.entries()).flatMap(function(r){var n=Me(r,2),a=n[0],i=n[1];return e(i,a)})}function Ore(t,e){var r=typeof e=="string"?function(n){return At(n[e])}:e;return t.reduce(function(n,a){var i,s;return((s=n[i=r(a)])!==null&&s!==void 0?s:n[i]=[]).push(a),n},{})}function kre(t){return t.length===0}function Rre(t,e){return t.map(function(r){return r[e]})}function Tre(t){return t.length===0?null:t[Math.floor(Math.random()*t.length)]}function Pre(t,e){for(var r=t.slice(0),n=[];r.length>0&&n.length<e;){var a=Math.floor(Math.random()*r.length);n.push(r[a]),r.splice(a,1)}return n}function Dr(t,e){var r=t.indexOf(e);return r!==-1&&(t.splice(r,1),!0)}function Cre(t,e){return t.splice(Number(e),1).length>0}function NT(t,e,r){var n=t.indexOf(e);return n!==-1&&(t[n]=r,!0)}function gf(t,e,r){r=e==="asc"||e==="desc"?e:r;var n={},a=function(i,s){var o;if(!(s in n)){var l,u=(l=t.find(function(c){return c[s]!==void 0&&c[s]!==null}))===null||l===void 0?void 0:l[s];n[s]=function(c){switch(wr(c)){case"string":return"";case"number":return Number.MIN_SAFE_INTEGER;case"boolean":return!1;default:return null}}(u)}return(o=i[s])!==null&&o!==void 0?o:n[s]};return t.slice(0).sort(function(){var i=r==="desc"?function(o){return function(l,u){return pv(a(u,o),a(l,o))}}:function(o){return function(l,u){return pv(a(l,o),a(u,o))}};switch(wr(e)){case"function":return e;case"string":return e==="asc"?void 0:e==="desc"?function(o,l){return pv(l,o)}:i(e);case"object":var s=e.map(function(o){return i(o)});return function(o,l){var u,c=Mb(s);try{for(c.s();!(u=c.n()).done;){var f=(0,u.value)(o,l);if(f!==0)return f}}catch(d){c.e(d)}finally{c.f()}return 0}}}())}function cn(t,e){return e?Object.values(t.reduce(function(r,n){var a,i=e(n);return r[i]=(a=r[i])!==null&&a!==void 0?a:n,r},{})):Pt(new Set(t))}function Dre(t,e,r){return t.filter(function(n){var a=n[e],i=typeof a=="function"?a.call(n):a;return r?i===r:!!i})}function Fu(t,e){return Array.isArray(e)?yr(t,function(r){return e.indexOf(r)===-1}):jre(t,t.indexOf(e))}function jre(t,e){return Fb(t,[e])}function Fb(t,e){return t.map(function(r,n){return[r,n]}).filter(function(r){var n=Me(r,2);n[0];var a=n[1];return!e.includes(a)}).map(function(r){return Me(r,1)[0]})}function Cr(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=Array.isArray(t)||bre(t)&&!_re(t)?Array.from(t):e&&t==null?[]:[t];return r}var vi=function(){function t(){Te(this,t),J(this,"resolveListeners",[]),J(this,"rejectListeners",[]),J(this,"resetListeners",[]),this.setPromiseValues()}return Fe(t,[{key:"value",get:function(){return this._value||null}},{key:"isResolved",value:function(){return"_value"in this}},{key:"then",value:function(e,r){return this.promise.then(e,r)}},{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"resolve",value:function(e){this.isResolved()&&this.reset(),this._value=e,this._resolve(e),this.resolveListeners.forEach(function(r){return r(e)})}},{key:"reject",value:function(e){this.isResolved()&&this.reset(),delete this._value,this._reject(e),this.rejectListeners.forEach(function(r){return r(e)})}},{key:"onResolve",value:function(e){var r=this;return this.resolveListeners.push(e),function(){return Dr(r.resolveListeners,e)}}},{key:"onReject",value:function(e){var r=this;return this.rejectListeners.push(e),function(){return Dr(r.rejectListeners,e)}}},{key:"onReset",value:function(e){var r=this;return this.resetListeners.push(e),function(){return Dr(r.resetListeners,e)}}},{key:"reset",value:function(){this.setPromiseValues(),this.rejectListeners.forEach(function(e){return e()})}},{key:"setPromiseValues",value:function(){var e=this;this.promise=new Promise(function(r,n){e._resolve=r,e._reject=n})}}],[{key:"from",value:function(e){var r=new t;return e.then(r.resolve.bind(r)).catch(r.reject.bind(r)),r}}]),t}();function cS(t){return!!t&&!["0","false"].includes(t)}var vv={},Zs={};function fS(t,e){var r;return Zs[t]=(r=Zs[t])!==null&&r!==void 0?r:vi.from(e()),Zs[t]}function Lre(t,e){var r;return vv[t]=(r=vv[t])!==null&&r!==void 0?r:e(),vv[t]}function Mre(t){var e={};return function(){return"result"in e?e.result:e.result=t.apply(void 0,arguments)}}function dS(t,e){var r,n;Zs[t]=(r=Zs[t])!==null&&r!==void 0?r:new vi,(n=Zs[t])===null||n===void 0||n.resolve(e)}function mv(t){if(!t)return null;try{var e=new Date(t),r=e.getTime();return isNaN(r)||r===0?null:e}catch{return null}}function Nre(t){return function(e){for(var r=0;r<e.length;r++)e[r]=Ure(e[r]);return e.join("")}(function(e){var r,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)gv(a,Fre(e.substring(r-64,r)));e=e.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(gv(a,i),r=0;r<16;r++)i[r]=0;return i[14]=8*n,gv(a,i),a}(t))}function gv(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=cr(r,n,a,i,e[0],7,-680876936),i=cr(i,r,n,a,e[1],12,-389564586),a=cr(a,i,r,n,e[2],17,606105819),n=cr(n,a,i,r,e[3],22,-1044525330),r=cr(r,n,a,i,e[4],7,-176418897),i=cr(i,r,n,a,e[5],12,1200080426),a=cr(a,i,r,n,e[6],17,-1473231341),n=cr(n,a,i,r,e[7],22,-45705983),r=cr(r,n,a,i,e[8],7,1770035416),i=cr(i,r,n,a,e[9],12,-1958414417),a=cr(a,i,r,n,e[10],17,-42063),n=cr(n,a,i,r,e[11],22,-1990404162),r=cr(r,n,a,i,e[12],7,1804603682),i=cr(i,r,n,a,e[13],12,-40341101),a=cr(a,i,r,n,e[14],17,-1502002290),r=fr(r,n=cr(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=fr(i,r,n,a,e[6],9,-1069501632),a=fr(a,i,r,n,e[11],14,643717713),n=fr(n,a,i,r,e[0],20,-373897302),r=fr(r,n,a,i,e[5],5,-701558691),i=fr(i,r,n,a,e[10],9,38016083),a=fr(a,i,r,n,e[15],14,-660478335),n=fr(n,a,i,r,e[4],20,-405537848),r=fr(r,n,a,i,e[9],5,568446438),i=fr(i,r,n,a,e[14],9,-1019803690),a=fr(a,i,r,n,e[3],14,-187363961),n=fr(n,a,i,r,e[8],20,1163531501),r=fr(r,n,a,i,e[13],5,-1444681467),i=fr(i,r,n,a,e[2],9,-51403784),a=fr(a,i,r,n,e[7],14,1735328473),r=dr(r,n=fr(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=dr(i,r,n,a,e[8],11,-2022574463),a=dr(a,i,r,n,e[11],16,1839030562),n=dr(n,a,i,r,e[14],23,-35309556),r=dr(r,n,a,i,e[1],4,-1530992060),i=dr(i,r,n,a,e[4],11,1272893353),a=dr(a,i,r,n,e[7],16,-155497632),n=dr(n,a,i,r,e[10],23,-1094730640),r=dr(r,n,a,i,e[13],4,681279174),i=dr(i,r,n,a,e[0],11,-358537222),a=dr(a,i,r,n,e[3],16,-722521979),n=dr(n,a,i,r,e[6],23,76029189),r=dr(r,n,a,i,e[9],4,-640364487),i=dr(i,r,n,a,e[12],11,-421815835),a=dr(a,i,r,n,e[15],16,530742520),r=hr(r,n=dr(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=hr(i,r,n,a,e[7],10,1126891415),a=hr(a,i,r,n,e[14],15,-1416354905),n=hr(n,a,i,r,e[5],21,-57434055),r=hr(r,n,a,i,e[12],6,1700485571),i=hr(i,r,n,a,e[3],10,-1894986606),a=hr(a,i,r,n,e[10],15,-1051523),n=hr(n,a,i,r,e[1],21,-2054922799),r=hr(r,n,a,i,e[8],6,1873313359),i=hr(i,r,n,a,e[15],10,-30611744),a=hr(a,i,r,n,e[6],15,-1560198380),n=hr(n,a,i,r,e[13],21,1309151649),r=hr(r,n,a,i,e[4],6,-145523070),i=hr(i,r,n,a,e[11],10,-1120210379),a=hr(a,i,r,n,e[2],15,718787259),n=hr(n,a,i,r,e[9],21,-343485551),t[0]=ri(r,t[0]),t[1]=ri(n,t[1]),t[2]=ri(a,t[2]),t[3]=ri(i,t[3])}function Jd(t,e,r,n,a,i){return e=ri(ri(e,t),ri(n,i)),ri(e<<a|e>>>32-a,r)}function cr(t,e,r,n,a,i,s){return Jd(e&r|~e&n,t,e,a,i,s)}function fr(t,e,r,n,a,i,s){return Jd(e&n|r&~n,t,e,a,i,s)}function dr(t,e,r,n,a,i,s){return Jd(e^r^n,t,e,a,i,s)}function hr(t,e,r,n,a,i,s){return Jd(r^(e|~n),t,e,a,i,s)}function Fre(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var hS="0123456789abcdef".split("");function Ure(t){for(var e="",r=0;r<4;r++)e+=hS[t>>8*r+4&15]+hS[t>>8*r&15];return e}function ri(t,e){return t+e&4294967295}function FT(t){var e=t;return(e^16*Math.random()>>e/4).toString(16)}function UT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:9;return Math.pow(10,t-1).toString().replace(/[01]/g,FT)}function dn(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,FT)}function da(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=function(){return(t.milliseconds||t.ms||0)+1e3*(t.seconds||0)};return new Promise(function(r){return setTimeout(r,e())})}function Bre(){return BT.apply(this,arguments)}function BT(){return(BT=fe(V.mark(function t(){return V.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){});case 2:case"end":return e.stop()}},t)}))).apply(this,arguments)}function zre(t){return zT.apply(this,arguments)}function zT(){return(zT=fe(V.mark(function t(e){return V.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(location.href===e){r.next=5;break}return r.next=3,da({ms:1});case 3:r.next=0;break;case 5:case"end":return r.stop()}},t)}))).apply(this,arguments)}function yv(t){return Gre()[t]}function Gre(){var t=new URL(location.href),e={};return t.searchParams.forEach(function(r,n){return e[n]=r}),e}function xl(t){return new URL(location.href).searchParams.has(t)}function qre(t){return tg.apply(this,arguments)}function tg(){return tg=fe(V.mark(function t(e){var r;return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object.entries(e).reduce(function(a,i){var s=Me(i,2),o=s[0],l=s[1];return l?a.searchParams.set(o,l):a.searchParams.delete(o),a},new URL(location.href)),history.pushState(null,document.title,r.href),n.next=4,zre(r.href);case 4:case"end":return n.stop()}},t)})),tg.apply(this,arguments)}function GT(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return pS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return pS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hre(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Vre=Object.getPrototypeOf(Object);function Wre(t,e){var r=function(n){ot(i,n);var a=Hre(i);function i(){var s;Te(this,i);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s=a.call.apply(a,[this].concat(l));var c,f=GT(e);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Nd(d,l);Object.assign(rt(s),h)}}catch(p){f.e(p)}finally{f.f()}return at(s,rt(s))}return i}(t);return J(r,"__mixins",e),Jre(r,e),r}function Kre(t,e){if(e!==Object){var r=e;do{for(var n=Ra(Object.getOwnPropertyDescriptors(r.prototype),["constructor"]),a=0,i=Object.entries(n);a<i.length;a++){var s=Me(i[a],2),o=s[0],l=s[1];Object.defineProperty(t.prototype,o,l)}r=Object.getPrototypeOf(r)}while(r!==Vre)}}function Jre(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=GT(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;Kre(t,a)}}catch(i){n.e(i)}finally{n.f()}}function qT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Array.isArray(t)?Object:t,n=Array.isArray(t)?t:e;return Wre(r,n)}function Yd(){return qT.apply(void 0,arguments)}function Qd(t,e){var r,n,a,i;return((r=(n=t==null?void 0:t.__mixins)!==null&&n!==void 0?n:t==null||(a=t.__proto__)===null||a===void 0||(i=a.constructor)===null||i===void 0?void 0:i.__mixins)!==null&&r!==void 0?r:[]).includes(e)}function Yre(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return vS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return vS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qre(t,e){return rg.apply(this,arguments)}function rg(){return rg=fe(V.mark(function t(e,r){var n,a,i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=Yre(e),o.prev=1,n.s();case 3:if((a=n.n()).done){o.next=13;break}return i=a.value,o.next=7,r(i);case 7:if(s=o.sent){o.next=10;break}return o.abrupt("continue",11);case 10:return o.abrupt("return",s);case 11:o.next=3;break;case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),n.e(o.t0);case 18:return o.prev=18,n.f(),o.finish(18);case 21:return o.abrupt("return",null);case 22:case"end":return o.stop()}},t,null,[[1,15,18,21]])})),rg.apply(this,arguments)}function Xre(t){return"then"in t}function Zre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...";return t.length<e?t:t.substring(0,e-r.length)+r}function HT(t,e){return t.match(e)}function ene(t){return t.split("").reverse().join("")}function Ub(t){return t.split(/_|-|\s|(?=[A-Z])/)}function Gi(t){var e=Ub(t),r=Cb(e),n=r[0],a=r.slice(1);return(n??"").toLowerCase()+a.map(function(i){return i.slice(0,1).toUpperCase()+i.slice(1).toLowerCase()}).join("")}function Xd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t=t.normalize("NFD").replace(/[ÖÖ¾áâââââââ¸â¸â¸ºâ¸»~ãã°ã ï¸±ï¸²ï¹ï¹£ï¼(){}><[\]]/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[\u3000-\u303f]/g,"").replace(/['".,#!$%/\\^&*;:=`@+?]/g,"").toLowerCase().trim().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}function tne(t){return Ub(t).map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join("")}function rne(t){return Ub(t).map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}function Wr(t){var e;return(e=ia(t))!==null&&e!==void 0?e:tt("Failed getting parent directory from '".concat(t,"'"))}function nne(t){var e;return(e=VT(t))!==null&&e!==void 0?e:tt("Failed getting directory name from '".concat(t,"'"))}function ane(t){var e;return(e=Uu(t))!==null&&e!==void 0?e:tt("Failed parsing url from '".concat(t,"'"))}function yo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift();e.length>0;){var a=e.shift();a.startsWith("/")?n=Ma(n)+a:a.match(/^[\w-]+:\/\//)?n=a:n.endsWith("/")?n+=a:n+="/"+a}return n}function eu(){var t=yo.apply(void 0,arguments);return t.endsWith("/")?t:t+"/"}function Ma(t){var e=t.indexOf("://")+3,r=t.substr(e).indexOf("/");return r!==-1?t.substring(0,e+r):t}function ia(t){if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),Ma(t)===t)return null;var e=t.lastIndexOf("/");return e!==-1?t.substr(0,e+1):null}function VT(t){var e;t.endsWith("/")||(t=(e=ia(t))!==null&&e!==void 0?e:t+"/");var r=t.slice(0,-1);return Ma(t)===r?null:WT(r)}function WT(t){var e=t.lastIndexOf("/");return e!==-1?t.substr(e+1):""}function Uu(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=r.indexOf(":")===-1?[r]:r.split(":"),a=Me(n,2),i=a[0],s=a[1];return{protocol:e[2]||void 0,domain:i||void 0,port:s||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function Bb(t,e){var r,n,a=Uu(t);if(!a)return t;for(var i=0,s=Object.entries(a);i<s.length;i++){var o=Me(s[i],2),l=o[0],u=o[1];a[l]=e[l]!==!1&&u||""}return[a.protocol?"".concat(a.protocol,"://"):"",(r=a.domain)!==null&&r!==void 0?r:"",a.port?":".concat(a.port):"",(n=a.path)!==null&&n!==void 0?n:"",a.query?"?".concat(a.query):"",a.fragment?"#".concat(a.fragment):""].join("")}function xa(t){return Bb(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})}function KT(t,e){for(var r=t.prototype,n=function(){var s=Me(i[a],2),o=s[0],l=s[1];r[o]=function(){for(var u,c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var h=l.apply(void 0,[this.value].concat(f));return(u=this.chain)===null||u===void 0?void 0:u.call(this,h)}},a=0,i=Object.entries(e);a<i.length;a++)n()}function JT(t,e){for(var r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype),a=function(){var o=Me(s[i],2),l=o[0],u=o[1];return l in r?"continue":typeof u.value!="function"?(Object.defineProperty(r,l,{get:function(){return this.chain(this.value[l])}}),"continue"):void(r[l]=function(){for(var c,f,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];var y=(c=u.value).call.apply(c,[this.value].concat(h));return(f=this.chain)===null||f===void 0?void 0:f.call(this,y)})},i=0,s=Object.entries(n);i<s.length;i++)a()}var YT=function(){function t(e){Te(this,t),J(this,"value",void 0),this.value=e}return Fe(t,[{key:"create",value:function(e){return new this.constructor(e)}},{key:"chain",value:function(e){return this.isPrimitive(e)?this.create(e):e}}],[{key:"isPrimitive",value:function(e){return this.prototype.isPrimitive(e)}}]),t}();function ine(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var sne={clear:Ire,diff:Nb,filter:yr,first:Ere,flatMap:Are,groupBy:Ore,isEmpty:kre,project:Rre,randomItem:Tre,randomItems:Pre,remove:Dr,removeIndex:Cre,replace:NT,sorted:gf,unique:cn,where:Dre,without:Fu,withoutIndexes:Fb},ng=function(t,e){ot(n,t);var r=ine(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:e,value:V.mark(function a(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this.value,"t0",1);case 1:case"end":return i.stop()}},a,this)})},{key:"get",value:function(a){return this.value[a]}},{key:"toArray",value:function(){return this.value.slice(0)}},{key:"isPrimitive",value:function(a){return Array.isArray(a)}}],[{key:"create",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.prototype;return i.create(a)}}]),n}(YT,Symbol.iterator);function one(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}KT(ng,sne),JT(ng,Array);var lne,une={reverse:ene,toCamelCase:Gi,toSlug:Xd,toStudlyCase:tne,toTitleCase:rne},mS=function(t){ot(r,YT);var e=one(r);function r(){return Te(this,r),e.apply(this,arguments)}return Fe(r,[{key:"toString",value:function(){return this.value}},{key:"isPrimitive",value:function(n){return typeof n=="string"}}],[{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=this.prototype;return a.create(n)}}]),r}();function gS(){var t;return(t=lne)!==null&&t!==void 0?t:jest}function yS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return bS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bc(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Array.isArray(e)?r:e,a=Array.isArray(e)?e:[],i=wre(n)?Object.getOwnPropertyNames(n):CT(n),s=yS(i);try{var o=function(){var f=t.value,d=n[f];if(typeof d!="function")return"continue";n[f]=gS().fn(function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return d.call.apply(d,[n].concat(p))})};for(s.s();!(t=s.n()).done;)o()}catch(f){s.e(f)}finally{s.f()}var l,u=yS(a);try{for(u.s();!(l=u.n()).done;){var c=l.value;n[c]=gS().fn()}}catch(f){u.e(f)}finally{u.f()}return n}function Zr(t){var e=null,r=null,n=null,a=null;function i(){try{return t()}catch{return new t}}function s(u){return u?Bc(u):a?Bc(a.reset()):r?Bc(new r):n?n():Bc(CT(l.requireInstance()))}function o(u){return e=u,u}var l={setInstance:o,setMockClass:function(u){return r=u},setMockFactory:function(u){return n=u},setMockFacade:function(u){return a=u},requireInstance:function(){var u;return(u=e)!==null&&u!==void 0?u:o(i())},mock:function(u){return o(s(u))},reset:function(){return o(i())}};return new Proxy(l,{get:function(u,c,f){var d=c!=="constructor"&&c in l?l:l.requireInstance();return Reflect.get(d,c,f)},set:function(u,c,f){return Reflect.set(l.requireInstance(),c,f)}})}function Ve(t,e){if(!e)return function(n){var a=new Proxy(n,{get:function(i,s,o){var l=Reflect.get(i,s,o);return typeof l!="function"?l:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l.call.apply(l,[i].concat(c)),a}}});return a}(t);var r=e(t);return r instanceof Promise?r.then(function(){return t}):t}function cne(){}KT(mS,une),JT(mS,String);var fne=function(){function t(e,r){Te(this,t),J(this,"errorMessage",void 0),J(this,"getValue",void 0),this.errorMessage=e,this.getValue=r}return Fe(t,[{key:"get",value:function(e,r,n){var a,i=(a=this.getValue())!==null&&a!==void 0?a:tt(this.errorMessage),s=Reflect.get(i,r,n);return typeof s=="function"?s.bind(i):s}},{key:"set",value:function(e,r,n,a){var i,s=(i=this.getValue())!==null&&i!==void 0?i:tt(this.errorMessage);return Reflect.set(s,r,n,a)}},{key:"getPrototypeOf",value:function(){var e,r=(e=this.getValue())!==null&&e!==void 0?e:tt(this.errorMessage);return Object.getPrototypeOf(r)}}]),t}();function Bu(t,e){var r;return(r=e)!==null&&r!==void 0||(e="Required value is missing"),typeof t=="function"?new Proxy({},new fne(e,t)):t??tt(e)}function bv(t,e){var r=typeof e=="function"?e(t):!!e;return new Proxy(t,{get:function(n,a,i){return r?Reflect.get(n,a,i):function(){}}})}function QT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ng.create(Cr(t))}function ar(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(t)||typeof t[0]!="string")return Sre.createFromArray(t,e);var r=e;return t.reduce(function(n,a){return n[a]=r(a),n},{})}function wS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}var dne=function(){function t(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200;Te(this,t),J(this,"body",void 0),J(this,"bodyUsed",void 0),J(this,"headers",void 0),J(this,"ok",void 0),J(this,"redirected",void 0),J(this,"status",void 0),J(this,"statusText",void 0),J(this,"trailer",void 0),J(this,"type",void 0),J(this,"url",void 0),J(this,"rawBody",void 0),this.rawBody=o,this.headers=new Headers(l),this.status=u}var e,r,n,a,i,s;return Fe(t,[{key:"arrayBuffer",value:(s=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:throw new Error("FakeResponse.arrayBuffer() is not implemented");case 1:case"end":return l.stop()}},o)})),function(){return s.apply(this,arguments)})},{key:"blob",value:(i=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:throw new Error("FakeResponse.blob() is not implemented");case 1:case"end":return l.stop()}},o)})),function(){return i.apply(this,arguments)})},{key:"bytes",value:(a=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:throw new Error("FakeResponse.bytes() is not implemented");case 1:case"end":return l.stop()}},o)})),function(){return a.apply(this,arguments)})},{key:"formData",value:(n=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:throw new Error("FakeResponse.formData() is not implemented");case 1:case"end":return l.stop()}},o)})),function(){return n.apply(this,arguments)})},{key:"json",value:(r=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",JSON.parse(this.rawBody));case 1:case"end":return l.stop()}},o,this)})),function(){return r.apply(this,arguments)})},{key:"text",value:(e=fe(V.mark(function o(){return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.rawBody);case 1:case"end":return l.stop()}},o,this)})),function(){return e.apply(this,arguments)})},{key:"clone",value:function(){return function(o){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?wS(Object(u),!0).forEach(function(c){J(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):wS(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}({},this)}}],[{key:"created",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new t(o,l,201)}},{key:"success",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new t(o,l)}},{key:"notFound",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new t(o,l,404)}}]),t}();(function(){function t(){var r=this;Te(this,t),J(this,"fetch",void 0),J(this,"fetchSpy",null),J(this,"requests",[]),J(this,"responses",{});var n=function(){for(var a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var l,u,c,f,d,h,p=s[0],y=s[1];return typeof p=="string"?{url:p,method:(l=y==null?void 0:y.method)!==null&&l!==void 0?l:"GET",headers:(u=y==null?void 0:y.headers)!==null&&u!==void 0?u:{},body:At((c=y==null?void 0:y.body)!==null&&c!==void 0?c:"")}:"href"in p?{url:At(p),method:(f=y==null?void 0:y.method)!==null&&f!==void 0?f:"GET",headers:(d=y==null?void 0:y.headers)!==null&&d!==void 0?d:{},body:At((h=y==null?void 0:y.body)!==null&&h!==void 0?h:"")}:{url:p.url,method:p.method,headers:(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{},body:At(p.body)}};this.fetch=function(){var a=fe(V.mark(function i(s,o){var l,u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u=n(s,o),f.next=3,r.matchResponse(u);case 3:return c=f.sent,u.response=c,r.requests.push(u),(l=r.fetchSpy)===null||l===void 0||l.call(r,u),f.abrupt("return",c);case 8:case"end":return f.stop()}},i)}));return function(i,s){return a.apply(this,arguments)}}()}var e;return Fe(t,[{key:"spy",value:function(r){this.fetchSpy=r}},{key:"getRequest",value:function(r,n){var a,i,s=typeof n=="string"&&r;return n=(a=n)!==null&&a!==void 0?a:r,(i=this.requests.find(function(o){return o.url===n&&(!s||o.method===s)}))!==null&&i!==void 0?i:null}},{key:"getRequests",value:function(r,n){var a;if(!r)return this.requests;var i=typeof n=="string"&&r;return n=(a=n)!==null&&a!==void 0?a:r,this.requests.filter(function(s){return s.url===n&&(!i||s.method===i)})}},{key:"respond",value:function(r,n){var a,i,s;(i=(a=this.responses)[r])!==null&&i!==void 0||(a[r]=[]),(s=this.responses[r])===null||s===void 0||s.push("response"in n?n:{response:n})}},{key:"respondWith",value:function(r,n){var a,i,s;(i=(a=this.responses)[r])!==null&&i!==void 0||(a[r]=[]),(s=this.responses[r])===null||s===void 0||s.push({response:n})}},{key:"respondOnce",value:function(r,n){this.respond(r,{response:n,times:1})}},{key:"respondOnceWith",value:function(r,n){this.respond(r,{response:n,times:1})}},{key:"reset",value:function(){this.requests=[],this.responses={}}},{key:"matchResponse",value:(e=fe(V.mark(function r(n){var a,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=this.responses[n.url],i=a==null?void 0:a.find(function(o){return!o.method||o.method===n.method}),a&&i){s.next=4;break}return s.abrupt("return",dne.notFound());case 4:if(i.times&&(i.times--,i.times===0&&Dr(a,i)),typeof i.response!="function"){s.next=7;break}return s.abrupt("return",i.response(n));case 7:return s.abrupt("return",i.response);case 8:case"end":return s.stop()}},r,this)})),function(r){return e.apply(this,arguments)})}]),t})();var hne=ge,pne=CR,vne=Yr,mne=Vn,gne=Pa,yne=ku;hne({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,r=vne(this),n=mne(r),a=yne(r,0);return a.length=pne(a,r,r,n,0,e===void 0?1:gne(e)),a}});var bne=Lo;bne("flat");var ag={utf8:{stringToBytes:function(t){return ag.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(ag.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r)&255);return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},_S=ag;(function(){_S.utf8,_S.bin})();var XT={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(1&s&&(i=a(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)a.d(o,l,(function(u){return i[u]}).bind(null,l));return o},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=49)}([function(r,n,a){const i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";n.a={xsd:{decimal:s+"decimal",boolean:s+"boolean",double:s+"double",integer:s+"integer",string:s+"string"},rdf:{type:i+"type",nil:i+"nil",first:i+"first",rest:i+"rest",langString:i+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}},function(r,n,a){const i={};r.exports=i,i.isArray=Array.isArray,i.isBoolean=s=>typeof s=="boolean"||Object.prototype.toString.call(s)==="[object Boolean]",i.isDouble=s=>i.isNumber(s)&&(String(s).indexOf(".")!==-1||Math.abs(s)>=1e21),i.isEmptyObject=s=>i.isObject(s)&&Object.keys(s).length===0,i.isNumber=s=>typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]",i.isNumeric=s=>!isNaN(parseFloat(s))&&isFinite(s),i.isObject=s=>Object.prototype.toString.call(s)==="[object Object]",i.isString=s=>typeof s=="string"||Object.prototype.toString.call(s)==="[object String]",i.isUndefined=s=>s===void 0},function(r,n,a){const i=a(4),s=a(1),o=a(11).IdentifierIssuer,l=a(3),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,f=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d={accept:"application/ld+json, application/json"},h={};r.exports=h,h.IdentifierIssuer=o,h.clone=function(p){if(p&&typeof p=="object"){let y;if(s.isArray(p)){y=[];for(let k=0;k<p.length;++k)y[k]=h.clone(p[k])}else if(p instanceof Map){y=new Map;for(const[k,$]of p)y.set(k,h.clone($))}else if(p instanceof Set){y=new Set;for(const k of p)y.add(h.clone(k))}else if(s.isObject(p)){y={};for(const k in p)y[k]=h.clone(p[k])}else y=p.toString();return y}return p},h.asArray=function(p){return Array.isArray(p)?p:[p]},h.buildHeaders=(p={})=>{if(Object.keys(p).some(y=>y.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+d.accept+'" is supported.');return Object.assign({Accept:d.accept},p)},h.parseLinkHeader=p=>{const y={},k=p.match(u);for(let $=0;$<k.length;++$){let b=k[$].match(c);if(!b)continue;const _={target:b[1]},O=b[2];for(;b=f.exec(O);)_[b[1]]=b[2]===void 0?b[3]:b[2];const R=_.rel||"";Array.isArray(y[R])?y[R].push(_):y.hasOwnProperty(R)?y[R]=[y[R],_]:y[R]=_}return y},h.validateTypeValue=(p,y)=>{if(!(s.isString(p)||s.isArray(p)&&p.every(k=>s.isString(k)))){if(y&&s.isObject(p))switch(Object.keys(p).length){case 0:return;case 1:if("@default"in p&&h.asArray(p["@default"]).every(k=>s.isString(k)))return}throw new l('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:p})}},h.hasProperty=(p,y)=>{if(p.hasOwnProperty(y)){const k=p[y];return!s.isArray(k)||k.length>0}return!1},h.hasValue=(p,y,k)=>{if(h.hasProperty(p,y)){let $=p[y];const b=i.isList($);if(s.isArray($)||b){b&&($=$["@list"]);for(let _=0;_<$.length;++_)if(h.compareValues(k,$[_]))return!0}else if(!s.isArray(k))return h.compareValues(k,$)}return!1},h.addValue=(p,y,k,$)=>{if("propertyIsArray"in($=$||{})||($.propertyIsArray=!1),"valueIsArray"in $||($.valueIsArray=!1),"allowDuplicate"in $||($.allowDuplicate=!0),"prependValue"in $||($.prependValue=!1),$.valueIsArray)p[y]=k;else if(s.isArray(k)){k.length===0&&$.propertyIsArray&&!p.hasOwnProperty(y)&&(p[y]=[]),$.prependValue&&(k=k.concat(p[y]),p[y]=[]);for(let b=0;b<k.length;++b)h.addValue(p,y,k[b],$)}else if(p.hasOwnProperty(y)){const b=!$.allowDuplicate&&h.hasValue(p,y,k);s.isArray(p[y])||b&&!$.propertyIsArray||(p[y]=[p[y]]),b||($.prependValue?p[y].unshift(k):p[y].push(k))}else p[y]=$.propertyIsArray?[k]:k},h.getValues=(p,y)=>[].concat(p[y]||[]),h.removeProperty=(p,y)=>{delete p[y]},h.removeValue=(p,y,k,$)=>{"propertyIsArray"in($=$||{})||($.propertyIsArray=!1);const b=h.getValues(p,y).filter(_=>!h.compareValues(_,k));b.length===0?h.removeProperty(p,y):b.length!==1||$.propertyIsArray?p[y]=b:p[y]=b[0]},h.relabelBlankNodes=(p,y)=>function k($,b){if(s.isArray(b))for(let _=0;_<b.length;++_)b[_]=k($,b[_]);else if(i.isList(b))b["@list"]=k($,b["@list"]);else if(s.isObject(b)){i.isBlankNode(b)&&(b["@id"]=$.getId(b["@id"]));const _=Object.keys(b).sort();for(let O=0;O<_.length;++O){const R=_[O];R!=="@id"&&(b[R]=k($,b[R]))}}return b}((y=y||{}).issuer||new o("_:b"),p),h.compareValues=(p,y)=>p===y||!(!i.isValue(p)||!i.isValue(y)||p["@value"]!==y["@value"]||p["@type"]!==y["@type"]||p["@language"]!==y["@language"]||p["@index"]!==y["@index"])||!!(s.isObject(p)&&"@id"in p&&s.isObject(y)&&"@id"in y)&&p["@id"]===y["@id"],h.compareShortestLeast=(p,y)=>p.length<y.length?-1:y.length<p.length?1:p===y?0:p<y?-1:1},function(r,n,a){r.exports=class extends Error{constructor(i="An unspecified JSON-LD error occurred.",s="jsonld.Error",o={}){super(i),this.name=s,this.message=i,this.details=o}}},function(r,n,a){const i=a(1),s={};r.exports=s,s.isSubject=o=>i.isObject(o)&&!("@value"in o||"@set"in o||"@list"in o)?Object.keys(o).length>1||!("@id"in o):!1,s.isSubjectReference=o=>i.isObject(o)&&Object.keys(o).length===1&&"@id"in o,s.isValue=o=>i.isObject(o)&&"@value"in o,s.isList=o=>i.isObject(o)&&"@list"in o,s.isGraph=o=>i.isObject(o)&&"@graph"in o&&Object.keys(o).filter(l=>l!=="@id"&&l!=="@index").length===1,s.isSimpleGraph=o=>s.isGraph(o)&&!("@id"in o),s.isBlankNode=o=>!!i.isObject(o)&&("@id"in o?o["@id"].indexOf("_:")===0:Object.keys(o).length===0||!("@value"in o||"@set"in o||"@list"in o))},function(r,n,a){const i=a(1),s={};r.exports=s,s.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},s.parse=(l,u)=>{const c={},f=s.parsers[u||"full"],d=f.regex.exec(l);let h=f.keys.length;for(;h--;)c[f.keys[h]]=d[h]===void 0?null:d[h];return(c.scheme==="https"&&c.port==="443"||c.scheme==="http"&&c.port==="80")&&(c.href=c.href.replace(":"+c.port,""),c.authority=c.authority.replace(":"+c.port,""),c.port=null),c.normalizedPath=s.removeDotSegments(c.path),c},s.prependBase=(l,u)=>{if(l===null||s.isAbsolute(u))return u;l&&!i.isString(l)||(l=s.parse(l||""));const c=s.parse(u),f={protocol:l.protocol||""};if(c.authority!==null)f.authority=c.authority,f.path=c.path,f.query=c.query;else if(f.authority=l.authority,c.path==="")f.path=l.path,c.query!==null?f.query=c.query:f.query=l.query;else{if(c.path.indexOf("/")===0)f.path=c.path;else{let h=l.path;h=h.substr(0,h.lastIndexOf("/")+1),(h.length>0||l.authority)&&h.substr(-1)!=="/"&&(h+="/"),h+=c.path,f.path=h}f.query=c.query}c.path!==""&&(f.path=s.removeDotSegments(f.path));let d=f.protocol;return f.authority!==null&&(d+="//"+f.authority),d+=f.path,f.query!==null&&(d+="?"+f.query),c.fragment!==null&&(d+="#"+c.fragment),d===""&&(d="./"),d},s.removeBase=(l,u)=>{if(l===null)return u;l&&!i.isString(l)||(l=s.parse(l||""));let c="";if(l.href!==""?c+=(l.protocol||"")+"//"+(l.authority||""):u.indexOf("//")&&(c+="//"),u.indexOf(c)!==0)return u;const f=s.parse(u.substr(c.length)),d=l.normalizedPath.split("/"),h=f.normalizedPath.split("/"),p=f.fragment||f.query?0:1;for(;d.length>0&&h.length>p&&d[0]===h[0];)d.shift(),h.shift();let y="";if(d.length>0){d.pop();for(let k=0;k<d.length;++k)y+="../"}return y+=h.join("/"),f.query!==null&&(y+="?"+f.query),f.fragment!==null&&(y+="#"+f.fragment),y===""&&(y="./"),y},s.removeDotSegments=l=>{if(l.length===0)return"";const u=l.split("/"),c=[];for(;u.length>0;){const f=u.shift(),d=u.length===0;f!=="."?f!==".."?c.push(f):(c.pop(),d&&c.push("")):d&&c.push("")}return l[0]==="/"&&c.length>0&&c[0]!==""&&c.unshift(""),c.length===1&&c[0]===""?"/":c.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;s.isAbsolute=l=>i.isString(l)&&o.test(l),s.isRelative=l=>i.isString(l)},function(r,n,a){const i=a(2),s=a(3),{isArray:o,isObject:l,isString:u,isUndefined:c}=a(1),{isAbsolute:f,isRelative:d,prependBase:h}=a(5),{asArray:p,compareShortestLeast:y}=a(2),k=new Map,$=/^@[a-zA-Z]+$/,b={};function _(O,R,P,T,G,v){if(R===null||!u(R)||b.isKeyword(R))return R;if(R.match($))return null;if(T&&T.hasOwnProperty(R)&&G.get(R)!==!0&&b.createTermDefinition({activeCtx:O,localCtx:T,term:R,defined:G,options:v}),(P=P||{}).vocab){const x=O.mappings.get(R);if(x===null)return null;if(l(x)&&"@id"in x)return x["@id"]}const w=R.indexOf(":");if(w>0){const x=R.substr(0,w),j=R.substr(w+1);if(x==="_"||j.indexOf("//")===0)return R;T&&T.hasOwnProperty(x)&&b.createTermDefinition({activeCtx:O,localCtx:T,term:x,defined:G,options:v});const C=O.mappings.get(x);if(C&&C._prefix)return C["@id"]+j;if(f(R))return R}if(P.vocab&&"@vocab"in O)return O["@vocab"]+R;if(P.base&&"@base"in O){if(O["@base"])return h(h(v.base,O["@base"]),R)}else if(P.base)return h(v.base,R);return R}r.exports=b,b.process=async({activeCtx:O,localCtx:R,options:P,propagate:T=!0,overrideProtected:G=!1,cycles:v=new Set})=>{if(l(R)&&"@context"in R&&o(R["@context"])&&(R=R["@context"]),p(R).length===0)return O;const w=await P.contextResolver.resolve({activeCtx:O,context:R,documentLoader:P.documentLoader,base:P.base});l(w[0].document)&&typeof w[0].document["@propagate"]=="boolean"&&(T=w[0].document["@propagate"]);let x=O;T||x.previousContext||(x=x.clone(),x.previousContext=O);for(const j of w){let{document:C}=j;if(O=x,C===null){if(!G&&Object.keys(O.protected).length!==0){const K=P&&P.protectedMode||"error";if(K==="error")throw new s("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if(K==="warn"){console.warn("WARNING: invalid context nullification");const F=j.getProcessed(O);if(F){x=O=F;continue}const U=O;x=O=b.getInitialContext(P).clone();for(const[z,H]of Object.entries(U.protected))H&&(O.mappings[z]=i.clone(U.mappings[z]));O.protected=i.clone(U.protected),j.setProcessed(U,x);continue}throw new s("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:R,protectedMode:K})}x=O=b.getInitialContext(P).clone();continue}const B=j.getProcessed(O);if(B){x=O=B;continue}if(l(C)&&"@context"in C&&(C=C["@context"]),!l(C))throw new s("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:C});x=x.clone();const X=new Map;if("@version"in C){if(C["@version"]!==1.1)throw new s("Unsupported JSON-LD version: "+C["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:C});if(O.processingMode&&O.processingMode==="json-ld-1.0")throw new s("@version: "+C["@version"]+" not compatible with "+O.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:C});x.processingMode="json-ld-1.1",x["@version"]=C["@version"],X.set("@version",!0)}if(x.processingMode=x.processingMode||O.processingMode,"@base"in C){let K=C["@base"];if(!(K===null||f(K))){if(!d(K))throw new s('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:C});K=h(x["@base"],K)}x["@base"]=K,X.set("@base",!0)}if("@vocab"in C){const K=C["@vocab"];if(K===null)delete x["@vocab"];else{if(!u(K))throw new s('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:C});if(!f(K)&&b.processingMode(x,1))throw new s('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:C});x["@vocab"]=_(x,K,{vocab:!0,base:!0},void 0,void 0,P)}X.set("@vocab",!0)}if("@language"in C){const K=C["@language"];if(K===null)delete x["@language"];else{if(!u(K))throw new s('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:C});x["@language"]=K.toLowerCase()}X.set("@language",!0)}if("@direction"in C){const K=C["@direction"];if(O.processingMode==="json-ld-1.0")throw new s("Invalid JSON-LD syntax; @direction not compatible with "+O.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:C});if(K===null)delete x["@direction"];else{if(K!=="ltr"&&K!=="rtl")throw new s('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:C});x["@direction"]=K}X.set("@direction",!0)}if("@propagate"in C){const K=C["@propagate"];if(O.processingMode==="json-ld-1.0")throw new s("Invalid JSON-LD syntax; @propagate not compatible with "+O.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:C});if(typeof K!="boolean")throw new s("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:R});X.set("@propagate",!0)}if("@import"in C){const K=C["@import"];if(O.processingMode==="json-ld-1.0")throw new s("Invalid JSON-LD syntax; @import not compatible with "+O.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:C});if(!u(K))throw new s("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:R});const F=await P.contextResolver.resolve({activeCtx:O,context:K,documentLoader:P.documentLoader,base:P.base});if(F.length!==1)throw new s("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:R});const U=F[0].getProcessed(O);if(U)C=U;else{const z=F[0].document;if("@import"in z)throw new s("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:R});for(const H in z)C.hasOwnProperty(H)||(C[H]=z[H]);F[0].setProcessed(O,C)}X.set("@import",!0)}X.set("@protected",C["@protected"]||!1);for(const K in C)if(b.createTermDefinition({activeCtx:x,localCtx:C,term:K,defined:X,options:P,overrideProtected:G}),l(C[K])&&"@context"in C[K]){const F=C[K]["@context"];let U=!0;if(u(F)){const z=h(P.base,F);v.has(z)?U=!1:v.add(z)}if(U)try{await b.process({activeCtx:x.clone(),localCtx:C[K]["@context"],overrideProtected:!0,options:P,cycles:v})}catch{throw new s("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:C[K]["@context"],term:K})}}j.setProcessed(O,x)}return x},b.createTermDefinition=({activeCtx:O,localCtx:R,term:P,defined:T,options:G,overrideProtected:v=!1})=>{if(T.has(P)){if(T.get(P))return;throw new s("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:R,term:P})}let w;if(T.set(P,!1),R.hasOwnProperty(P)&&(w=R[P]),P==="@type"&&l(w)&&(w["@container"]||"@set")==="@set"&&b.processingMode(O,1.1)){const F=["@container","@id","@protected"],U=Object.keys(w);if(U.length===0||U.some(z=>!F.includes(z)))throw new s("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:R,term:P})}else{if(b.isKeyword(P))throw new s("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:R,term:P});if(P.match($))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:P});if(P==="")throw new s("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:R})}const x=O.mappings.get(P);O.mappings.has(P)&&O.mappings.delete(P);let j=!1;if((u(w)||w===null)&&(j=!0,w={"@id":w}),!l(w))throw new s("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:R});const C={};O.mappings.set(P,C),C.reverse=!1;const B=["@container","@id","@language","@reverse","@type"];b.processingMode(O,1.1)&&B.push("@context","@direction","@index","@nest","@prefix","@protected");for(const F in w)if(!B.includes(F))throw new s("Invalid JSON-LD syntax; a term definition must not contain "+F,"jsonld.SyntaxError",{code:"invalid term definition",context:R});const X=P.indexOf(":");if(C._termHasColon=X>0,"@reverse"in w){if("@id"in w)throw new s("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});if("@nest"in w)throw new s("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});const F=w["@reverse"];if(!u(F))throw new s("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(!b.isKeyword(F)&&F.match($))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:F}),void(x?O.mappings.set(P,x):O.mappings.delete(P));const U=_(O,F,{vocab:!0,base:!1},R,T,G);if(!f(U))throw new s("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});C["@id"]=U,C.reverse=!0}else if("@id"in w){let F=w["@id"];if(F&&!u(F))throw new s("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(F===null)C["@id"]=null;else{if(!b.isKeyword(F)&&F.match($))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:F}),void(x?O.mappings.set(P,x):O.mappings.delete(P));if(F!==P){if(F=_(O,F,{vocab:!0,base:!1},R,T,G),!f(F)&&!b.isKeyword(F))throw new s("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(P.match(/(?::[^:])|\//)&&_(O,P,{vocab:!0,base:!1},R,new Map(T).set(P,!0),G)!==F)throw new s("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});C["@id"]=F,C._prefix=j&&!C._termHasColon&&F.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in C))if(C._termHasColon){const F=P.substr(0,X);if(R.hasOwnProperty(F)&&b.createTermDefinition({activeCtx:O,localCtx:R,term:F,defined:T,options:G}),O.mappings.has(F)){const U=P.substr(X+1);C["@id"]=O.mappings.get(F)["@id"]+U}else C["@id"]=P}else if(P==="@type")C["@id"]=P;else{if(!("@vocab"in O))throw new s("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R,term:P});C["@id"]=O["@vocab"]+P}if((w["@protected"]===!0||T.get("@protected")===!0&&w["@protected"]!==!1)&&(O.protected[P]=!0,C.protected=!0),T.set(P,!0),"@type"in w){let F=w["@type"];if(!u(F))throw new s("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:R});if(F==="@json"||F==="@none"){if(b.processingMode(O,1))throw new s(`Invalid JSON-LD syntax; an @context @type value must not be "${F}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:R})}else if(F!=="@id"&&F!=="@vocab"){if(F=_(O,F,{vocab:!0,base:!1},R,T,G),!f(F))throw new s("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:R});if(F.indexOf("_:")===0)throw new s("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:R})}C["@type"]=F}if("@container"in w){const F=u(w["@container"])?[w["@container"]]:w["@container"]||[],U=["@list","@set","@index","@language"];let z=!0;const H=F.includes("@set");if(b.processingMode(O,1.1)){if(U.push("@graph","@id","@type"),F.includes("@list")){if(F.length!==1)throw new s("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:R})}else if(F.includes("@graph")){if(F.some(q=>q!=="@graph"&&q!=="@id"&&q!=="@index"&&q!=="@set"))throw new s("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:R})}else z&=F.length<=(H?2:1);if(F.includes("@type")&&(C["@type"]=C["@type"]||"@id",!["@id","@vocab"].includes(C["@type"])))throw new s("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:R})}else z&=!o(w["@container"]),z&=F.length<=1;if(z&=F.every(q=>U.includes(q)),z&=!(H&&F.includes("@list")),!z)throw new s("Invalid JSON-LD syntax; @context @container value must be one of the following: "+U.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:R});if(C.reverse&&!F.every(q=>["@index","@set"].includes(q)))throw new s("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});C["@container"]=F}if("@index"in w){if(!("@container"in w)||!C["@container"].includes("@index"))throw new s(`Invalid JSON-LD syntax; @index without @index in @container: "${w["@index"]}" on term "${P}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:R});if(!u(w["@index"])||w["@index"].indexOf("@")===0)throw new s(`Invalid JSON-LD syntax; @index must expand to an IRI: "${w["@index"]}" on term "${P}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:R});C["@index"]=w["@index"]}if("@context"in w&&(C["@context"]=w["@context"]),"@language"in w&&!("@type"in w)){let F=w["@language"];if(F!==null&&!u(F))throw new s("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:R});F!==null&&(F=F.toLowerCase()),C["@language"]=F}if("@prefix"in w){if(P.match(/:|\//))throw new s("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:R});if(b.isKeyword(C["@id"]))throw new s("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:R});if(typeof w["@prefix"]!="boolean")throw new s("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:R});C._prefix=w["@prefix"]===!0}if("@direction"in w){const F=w["@direction"];if(F!==null&&F!=="ltr"&&F!=="rtl")throw new s('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:R});C["@direction"]=F}if("@nest"in w){const F=w["@nest"];if(!u(F)||F!=="@nest"&&F.indexOf("@")===0)throw new s("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:R});C["@nest"]=F}// disallow aliasing @context and @preserve
const K=C["@id"];if(K==="@context"||K==="@preserve")throw new s("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:R});if(x&&x.protected&&!v&&(O.protected[P]=!0,C.protected=!0,!function F(U,z){if(!U||typeof U!="object"||!z||typeof z!="object")return U===z;const H=Array.isArray(U);if(H!==Array.isArray(z))return!1;if(H){if(U.length!==z.length)return!1;for(let A=0;A<U.length;++A)if(!F(U[A],z[A]))return!1;return!0}const q=Object.keys(U),g=Object.keys(z);if(q.length!==g.length)return!1;for(const A in U){let M=U[A],W=z[A];if(A==="@container"&&Array.isArray(M)&&Array.isArray(W)&&(M=M.slice().sort(),W=W.slice().sort()),!F(M,W))return!1}return!0}(x,C))){const F=G&&G.protectedMode||"error";if(F==="error")throw new s(`Invalid JSON-LD syntax; tried to redefine "${P}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:R,term:P});if(F==="warn")return void console.warn("WARNING: protected term redefinition",{term:P});throw new s("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:R,term:P,protectedMode:F})}},b.expandIri=(O,R,P,T)=>_(O,R,P,void 0,void 0,T),b.getInitialContext=O=>{const R=JSON.stringify({processingMode:O.processingMode}),P=k.get(R);if(P)return P;const T={processingMode:O.processingMode,mappings:new Map,inverse:null,getInverse:function(){const w=this;if(w.inverse)return w.inverse;const x=w.inverse={},j=w.fastCurieMap={},C={},B=(w["@language"]||"@none").toLowerCase(),X=w["@direction"],K=w.mappings,F=[...K.keys()].sort(y);for(const U of F){const z=K.get(U);if(z===null)continue;let H=z["@container"]||"@none";if(H=[].concat(H).sort().join(""),z["@id"]===null)continue;const q=p(z["@id"]);for(const g of q){let A=x[g];const M=b.isKeyword(g);if(A)M||z._termHasColon||C[g].push(U);else if(x[g]=A={},!M&&!z._termHasColon){C[g]=[U];const W={iri:g,terms:C[g]};g[0]in j?j[g[0]].push(W):j[g[0]]=[W]}if(A[H]||(A[H]={"@language":{},"@type":{},"@any":{}}),A=A[H],v(U,A["@any"],"@none"),z.reverse)v(U,A["@type"],"@reverse");else if(z["@type"]==="@none")v(U,A["@any"],"@none"),v(U,A["@language"],"@none"),v(U,A["@type"],"@none");else if("@type"in z)v(U,A["@type"],z["@type"]);else if("@language"in z&&"@direction"in z){const W=z["@language"],Z=z["@direction"];v(U,A["@language"],W&&Z?`${W}_${Z}`.toLowerCase():W?W.toLowerCase():Z?"_"+Z:"@null")}else"@language"in z?v(U,A["@language"],(z["@language"]||"@null").toLowerCase()):"@direction"in z?z["@direction"]?v(U,A["@language"],"_"+z["@direction"]):v(U,A["@language"],"@none"):X?(v(U,A["@language"],"_"+X),v(U,A["@language"],"@none"),v(U,A["@type"],"@none")):(v(U,A["@language"],B),v(U,A["@language"],"@none"),v(U,A["@type"],"@none"))}}for(const U in j)G(j,U,1);return x},clone:function(){const w={};return w.mappings=i.clone(this.mappings),w.clone=this.clone,w.inverse=null,w.getInverse=this.getInverse,w.protected=i.clone(this.protected),this.previousContext&&(w.previousContext=this.previousContext.clone()),w.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(w["@base"]=this["@base"]),"@language"in this&&(w["@language"]=this["@language"]),"@vocab"in this&&(w["@vocab"]=this["@vocab"]),w},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return k.size===1e4&&k.clear(),k.set(R,T),T;function G(w,x,j){const C=w[x],B=w[x]={};let X,K;for(const F of C)X=F.iri,K=j>=X.length?"":X[j],K in B?B[K].push(F):B[K]=[F];for(const F in B)F!==""&&G(B,F,j+1)}function v(w,x,j){x.hasOwnProperty(j)||(x[j]=w)}},b.getContextValue=(O,R,P)=>{if(R===null)return P==="@context"?void 0:null;if(O.mappings.has(R)){const T=O.mappings.get(R);if(c(P))return T;if(T.hasOwnProperty(P))return T[P]}return P==="@language"&&P in O||P==="@direction"&&P in O?O[P]:P!=="@context"?null:void 0},b.processingMode=(O,R)=>R.toString()>="1.1"?!O.processingMode||O.processingMode>="json-ld-"+R.toString():O.processingMode==="json-ld-1.0",b.isKeyword=O=>{if(!u(O)||O[0]!=="@")return!1;switch(O){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(r,n,a){/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const i=a(11),s=a(30),o=a(2),l=a(32),u=o.IdentifierIssuer,c=a(3),f=a(20),d=a(36),{expand:h}=a(37),{flatten:p}=a(38),{fromRDF:y}=a(39),{toRDF:k}=a(40),{frameMergedOrDefault:$,cleanupNull:b}=a(42),{isArray:_,isObject:O,isString:R}=a(1),{isSubjectReference:P}=a(4),{expandIri:T,getInitialContext:G,process:v,processingMode:w}=a(6),{compact:x,compactIri:j}=a(43),{createNodeMap:C,createMergedNodeMap:B,mergeNodeMaps:X}=a(10),K=function(U){const z={},H=new f({max:100});function q(g,{documentLoader:A=U.documentLoader,...M}){return Object.assign({},{documentLoader:A},M,g)}return U.compact=async function(g,A,M){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(A===null)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(g===null)return null;let W;(M=q(M,{base:R(g)?g:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new u("_:b"),contextResolver:new l({sharedCache:H})})).link&&(M.skipExpansion=!0),M.compactToRelative||delete M.base,W=M.skipExpansion?g:await U.expand(g,M);const Z=await U.processContext(G(M),A,M);let N=await x({activeCtx:Z,element:W,options:M,compactionMap:M.compactionMap});M.compactArrays&&!M.graph&&_(N)?N.length===1?N=N[0]:N.length===0&&(N={}):M.graph&&O(N)&&(N=[N]),O(A)&&"@context"in A&&(A=A["@context"]),A=o.clone(A),_(A)||(A=[A]);const ee=A;A=[];for(let m=0;m<ee.length;++m)(!O(ee[m])||Object.keys(ee[m]).length>0)&&A.push(ee[m]);const ne=A.length>0;if(A.length===1&&(A=A[0]),_(N)){const m=j({activeCtx:Z,iri:"@graph",relativeTo:{vocab:!0}}),E=N;N={},ne&&(N["@context"]=A),N[m]=E}else if(O(N)&&ne){const m=N;N={"@context":A};for(const E in m)N[E]=m[E]}return N},U.expand=async function(g,A){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");(A=q(A,{keepFreeFloatingNodes:!1,contextResolver:new l({sharedCache:H})})).expansionMap===!1&&(A.expansionMap=void 0);const M={},W=[];if("expandContext"in A){const ne=o.clone(A.expandContext);O(ne)&&"@context"in ne?M.expandContext=ne:M.expandContext={"@context":ne},W.push(M.expandContext)}let Z;if(R(g)){const ne=await U.get(g,A);Z=ne.documentUrl,M.input=ne.document,ne.contextUrl&&(M.remoteContext={"@context":ne.contextUrl},W.push(M.remoteContext))}else M.input=o.clone(g);"base"in A||(A.base=Z||"");let N=G(A);for(const ne of W)N=await v({activeCtx:N,localCtx:ne,options:A});let ee=await h({activeCtx:N,element:M.input,options:A,expansionMap:A.expansionMap});return O(ee)&&"@graph"in ee&&Object.keys(ee).length===1?ee=ee["@graph"]:ee===null&&(ee=[]),_(ee)||(ee=[ee]),ee},U.flatten=async function(g,A,M){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");A=typeof A=="function"?null:A||null,M=q(M,{base:R(g)?g:"",contextResolver:new l({sharedCache:H})});const W=await U.expand(g,M),Z=p(W);return A===null?Z:(M.graph=!0,M.skipExpansion=!0,await U.compact(Z,A,M))},U.frame=async function(g,A,M){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(M=q(M,{base:R(g)?g:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new l({sharedCache:H})}),R(A)){const S=await U.get(A,M);if(A=S.document,S.contextUrl){let I=A["@context"];I?_(I)?I.push(S.contextUrl):I=[I,S.contextUrl]:I=S.contextUrl,A["@context"]=I}}const W=A&&A["@context"]||{},Z=await U.processContext(G(M),W,M);M.hasOwnProperty("omitGraph")||(M.omitGraph=w(Z,1.1)),M.hasOwnProperty("pruneBlankNodeIdentifiers")||(M.pruneBlankNodeIdentifiers=w(Z,1.1));const N=await U.expand(g,M),ee={...M};ee.isFrame=!0,ee.keepFreeFloatingNodes=!0;const ne=await U.expand(A,ee),m=Object.keys(A).map(S=>T(Z,S,{vocab:!0}));ee.merged=!m.includes("@graph"),ee.is11=w(Z,1.1);const E=$(N,ne,ee);ee.graph=!M.omitGraph,ee.skipExpansion=!0,ee.link={},ee.framing=!0;let D=await U.compact(E,W,ee);return ee.link={},D=b(D,ee),D},U.link=async function(g,A,M){const W={};return A&&(W["@context"]=A),W["@embed"]="@link",U.frame(g,W,M)},U.normalize=U.canonize=async function(g,A){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(A=q(A,{base:R(g)?g:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new l({sharedCache:H})}))){if(A.inputFormat!=="application/n-quads"&&A.inputFormat!=="application/nquads")throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const Z=d.parse(g);return i.canonize(Z,A)}const M={...A};delete M.format,M.produceGeneralizedRdf=!1;const W=await U.toRDF(g,M);return i.canonize(W,A)},U.fromRDF=async function(g,A){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");A=q(A,{format:R(g)?"application/n-quads":void 0});const{format:M}=A;let{rdfParser:W}=A;if(M){if(W=W||z[M],!W)throw new c("Unknown input format.","jsonld.UnknownFormat",{format:M})}else W=()=>g;const Z=await W(g);return y(Z,A)},U.toRDF=async function(g,A){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let M;M=(A=q(A,{base:R(g)?g:"",skipExpansion:!1,contextResolver:new l({sharedCache:H})})).skipExpansion?g:await U.expand(g,A);const W=k(M,A);if(A.format){if(A.format==="application/n-quads"||A.format==="application/nquads")return d.serialize(W);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:A.format})}return W},U.createNodeMap=async function(g,A){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");A=q(A,{base:R(g)?g:"",contextResolver:new l({sharedCache:H})});const M=await U.expand(g,A);return B(M,A)},U.merge=async function(g,A,M){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!_(g))throw new TypeError('Could not merge, "docs" must be an array.');A=typeof A=="function"?null:A||null,M=q(M,{contextResolver:new l({sharedCache:H})});const W=await Promise.all(g.map(S=>{const I={...M};return U.expand(S,I)}));let Z=!0;"mergeNodes"in M&&(Z=M.mergeNodes);const N=M.issuer||new u("_:b"),ee={"@default":{}};for(let S=0;S<W.length;++S){const I=o.relabelBlankNodes(W[S],{issuer:new u("_:b"+S+"-")}),L=Z||S===0?ee:{"@default":{}};if(C(I,L,"@default",N),L!==ee)for(const Q in L){const re=L[Q];if(!(Q in ee)){ee[Q]=re;continue}const ue=ee[Q];for(const he in re)he in ue||(ue[he]=re[he])}}const ne=X(ee),m=[],E=Object.keys(ne).sort();for(let S=0;S<E.length;++S){const I=ne[E[S]];P(I)||m.push(I)}return A===null?m:(M.graph=!0,M.skipExpansion=!0,await U.compact(m,A,M))},Object.defineProperty(U,"documentLoader",{get:()=>U._documentLoader,set:g=>U._documentLoader=g}),U.documentLoader=async g=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:g})},U.get=async function(g,A){let M;M=typeof A.documentLoader=="function"?A.documentLoader:U.documentLoader;const W=await M(g);try{if(!W.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");R(W.document)&&(W.document=JSON.parse(W.document))}catch(Z){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Z,remoteDoc:W})}return W},U.processContext=async function(g,A,M){return M=q(M,{base:"",contextResolver:new l({sharedCache:H})}),A===null?G(M):(A=o.clone(A),O(A)&&"@context"in A||(A={"@context":A}),v({activeCtx:g,localCtx:A,options:M}))},U.getContextValue=a(6).getContextValue,U.documentLoaders={},U.useDocumentLoader=function(g){if(!(g in U.documentLoaders))throw new c('Unknown document loader type: "'+g+'"',"jsonld.UnknownDocumentLoader",{type:g});U.documentLoader=U.documentLoaders[g].apply(U,Array.prototype.slice.call(arguments,1))},U.registerRDFParser=function(g,A){z[g]=A},U.unregisterRDFParser=function(g){delete z[g]},U.registerRDFParser("application/n-quads",d.parse),U.registerRDFParser("application/nquads",d.parse),U.url=a(5),U.util=o,Object.assign(U,o),U.promises=U,U.RequestQueue=a(19),U.JsonLdProcessor=a(44)(U),s.setupGlobals(U),s.setupDocumentLoaders(U),U},F=function(){return K(function(){return F()})};K(F),r.exports=F},function(r,n){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,n,a){/*!
* Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
*/a(16);const i=self.crypto||self.msCrypto;r.exports=class{constructor(s){if(!i||!i.subtle)throw new Error("crypto.subtle not found.");if(s==="sha256")this.algorithm={name:"SHA-256"};else{if(s!=="sha1")throw new Error(`Unsupported algorithm "${s}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(s){this._content+=s}async digest(){const s=new TextEncoder().encode(this._content),o=new Uint8Array(await i.subtle.digest(this.algorithm,s));let l="";for(let u=0;u<o.length;++u)l+=o[u].toString(16).padStart(2,"0");return l}}},function(r,n,a){const{isKeyword:i}=a(6),s=a(4),o=a(1),l=a(2),u=a(3),c={};r.exports=c,c.createMergedNodeMap=(f,d)=>{const h=(d=d||{}).issuer||new l.IdentifierIssuer("_:b"),p={"@default":{}};return c.createNodeMap(f,p,"@default",h),c.mergeNodeMaps(p)},c.createNodeMap=(f,d,h,p,y,k)=>{if(o.isArray(f)){for(const O of f)c.createNodeMap(O,d,h,p,void 0,k);return}if(!o.isObject(f))return void(k&&k.push(f));if(s.isValue(f)){if("@type"in f){let O=f["@type"];O.indexOf("_:")===0&&(f["@type"]=O=p.getId(O))}return void(k&&k.push(f))}if(k&&s.isList(f)){const O=[];return c.createNodeMap(f["@list"],d,h,p,y,O),void k.push({"@list":O})}if("@type"in f){const O=f["@type"];for(const R of O)R.indexOf("_:")===0&&p.getId(R)}o.isUndefined(y)&&(y=s.isBlankNode(f)?p.getId(f["@id"]):f["@id"]),k&&k.push({"@id":y});const $=d[h],b=$[y]=$[y]||{};b["@id"]=y;const _=Object.keys(f).sort();for(let O of _){if(O==="@id")continue;if(O==="@reverse"){const P={"@id":y},T=f["@reverse"];for(const G in T){const v=T[G];for(const w of v){let x=w["@id"];s.isBlankNode(w)&&(x=p.getId(x)),c.createNodeMap(w,d,h,p,x),l.addValue($[x],G,P,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(O==="@graph"){y in d||(d[y]={}),c.createNodeMap(f[O],d,y,p);continue}if(O==="@included"){c.createNodeMap(f[O],d,h,p);continue}if(O!=="@type"&&i(O)){if(O==="@index"&&O in b&&(f[O]!==b[O]||f[O]["@id"]!==b[O]["@id"]))throw new u("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:b});b[O]=f[O];continue}const R=f[O];if(O.indexOf("_:")===0&&(O=p.getId(O)),R.length!==0)for(let P of R)if(O==="@type"&&(P=P.indexOf("_:")===0?p.getId(P):P),s.isSubject(P)||s.isSubjectReference(P)){if("@id"in P&&!P["@id"])continue;const T=s.isBlankNode(P)?p.getId(P["@id"]):P["@id"];l.addValue(b,O,{"@id":T},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(P,d,h,p,T)}else if(s.isValue(P))l.addValue(b,O,P,{propertyIsArray:!0,allowDuplicate:!1});else if(s.isList(P)){const T=[];c.createNodeMap(P["@list"],d,h,p,y,T),P={"@list":T},l.addValue(b,O,P,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(P,d,h,p,y),l.addValue(b,O,P,{propertyIsArray:!0,allowDuplicate:!1});else l.addValue(b,O,[],{propertyIsArray:!0})}},c.mergeNodeMapGraphs=f=>{const d={};for(const h of Object.keys(f).sort())for(const p of Object.keys(f[h]).sort()){const y=f[h][p];p in d||(d[p]={"@id":p});const k=d[p];for(const $ of Object.keys(y).sort())if(i($)&&$!=="@type")k[$]=l.clone(y[$]);else for(const b of y[$])l.addValue(k,$,l.clone(b),{propertyIsArray:!0,allowDuplicate:!1})}return d},c.mergeNodeMaps=f=>{const d=f["@default"],h=Object.keys(f).sort();for(const p of h){if(p==="@default")continue;const y=f[p];let k=d[p];k?"@graph"in k||(k["@graph"]=[]):d[p]=k={"@id":p,"@graph":[]};const $=k["@graph"];for(const b of Object.keys(y).sort()){const _=y[b];s.isSubjectReference(_)||$.push(_)}}return d}},function(r,n,a){r.exports=a(24)},function(r,n,a){r.exports=class ZT{constructor(s,o=new Map,l=0){this.prefix=s,this._existing=o,this.counter=l}clone(){const{prefix:s,_existing:o,counter:l}=this;return new ZT(s,new Map(o),l)}getId(s){const o=s&&this._existing.get(s);if(o)return o;const l=this.prefix+this.counter;return this.counter++,s&&this._existing.set(s,l),l}hasId(s){return this._existing.has(s)}getOldIds(){return[...this._existing.keys()]}}},function(r,n,a){/*!
* Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
*/const i="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",s="http://www.w3.org/2001/XMLSchema#string",o={};function l(f,d){return f.subject.termType===d.subject.termType&&f.object.termType===d.object.termType&&f.subject.value===d.subject.value&&f.predicate.value===d.predicate.value&&f.object.value===d.object.value&&(f.object.termType!=="Literal"||f.object.datatype.termType===d.object.datatype.termType&&f.object.language===d.object.language&&f.object.datatype.value===d.object.datatype.value)}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9])(?:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â.])*(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9])(?:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â.])*(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9])(?:(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â.])*(?:[A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â-ââ°-ââ°-â¿¯ã-í¿ï¤-ï·ï·°-ï¿½_0-9-Â·Ì-Í¯â¿-â]))?))[ \\t]*\\.))[ \\t]*$'),r.exports=class yf{static parse(d){const h=[],p={},y=d.split(o.eoln);let k=0;for(const $ of y){if(k++,o.empty.test($))continue;const b=$.match(o.quad);if(b===null)throw new Error("N-Quads parse error on line "+k+".");const _={subject:null,predicate:null,object:null,graph:null};if(b[1]!==void 0?_.subject={termType:"NamedNode",value:b[1]}:_.subject={termType:"BlankNode",value:b[2]},_.predicate={termType:"NamedNode",value:b[3]},b[4]!==void 0?_.object={termType:"NamedNode",value:b[4]}:b[5]!==void 0?_.object={termType:"BlankNode",value:b[5]}:(_.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},b[7]!==void 0?_.object.datatype.value=b[7]:b[8]!==void 0?(_.object.datatype.value=i,_.object.language=b[8]):_.object.datatype.value=s,_.object.value=b[6].replace(c,function(O,R,P,T){if(R)switch(R){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(P)return String.fromCharCode(parseInt(P,16));if(T)throw new Error("Unsupported U escape")})),b[9]!==void 0?_.graph={termType:"NamedNode",value:b[9]}:b[10]!==void 0?_.graph={termType:"BlankNode",value:b[10]}:_.graph={termType:"DefaultGraph",value:""},_.graph.value in p){let O=!0;const R=p[_.graph.value];for(const P of R)if(l(P,_)){O=!1;break}O&&(R.push(_),h.push(_))}else p[_.graph.value]=[_],h.push(_)}return h}static serialize(d){Array.isArray(d)||(d=yf.legacyDatasetToQuads(d));const h=[];for(const p of d)h.push(yf.serializeQuad(p));return h.sort().join("")}static serializeQuadComponents(d,h,p,y){let k="";return d.termType==="NamedNode"?k+=`<${d.value}>`:k+=""+d.value,k+=` <${h.value}> `,p.termType==="NamedNode"?k+=`<${p.value}>`:p.termType==="BlankNode"?k+=p.value:(k+=`"${function($){return $.replace(u,function(b){switch(b){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}(p.value)}"`,p.datatype.value===i?p.language&&(k+="@"+p.language):p.datatype.value!==s&&(k+=`^^<${p.datatype.value}>`)),y.termType==="NamedNode"?k+=` <${y.value}>`:y.termType==="BlankNode"&&(k+=" "+y.value),k+=` .
`,k}static serializeQuad(d){return yf.serializeQuadComponents(d.subject,d.predicate,d.object,d.graph)}static legacyDatasetToQuads(d){const h=[],p={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const y in d)d[y].forEach(k=>{const $={};for(const b in k){const _=k[b],O={termType:p[_.type],value:_.value};O.termType==="Literal"&&(O.datatype={termType:"NamedNode"},"datatype"in _&&(O.datatype.value=_.datatype),"language"in _?("datatype"in _||(O.datatype.value=i),O.language=_.language):"datatype"in _||(O.datatype.value=s)),$[b]=O}$.graph=y==="@default"?{termType:"DefaultGraph",value:""}:{termType:y.startsWith("_:")?"BlankNode":"NamedNode",value:y},h.push($)});return h}};const u=/["\\\n\r]/g,c=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(r,n,a){const i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s="http://www.w3.org/2001/XMLSchema#";r.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:i,RDF_LIST:i+"List",RDF_FIRST:i+"first",RDF_REST:i+"rest",RDF_NIL:i+"nil",RDF_TYPE:i+"type",RDF_PLAIN_LITERAL:i+"PlainLiteral",RDF_XML_LITERAL:i+"XMLLiteral",RDF_JSON_LITERAL:i+"JSON",RDF_OBJECT:i+"object",RDF_LANGSTRING:i+"langString",XSD:s,XSD_BOOLEAN:s+"boolean",XSD_DOUBLE:s+"double",XSD_INTEGER:s+"integer",XSD_STRING:s+"string"}},function(r,n,a){(function(i){/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const s=a(12),o=a(9),l=a(17),u=a(13);function c(f,d){return f.hash<d.hash?-1:f.hash>d.hash?1:0}r.exports=class{constructor({createMessageDigest:f=()=>new o("sha256"),maxDeepIterations:d=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new s("_:c14n"),this.createMessageDigest=f,this.maxDeepIterations=d,this.quads=null,this.deepIterations=null}async main(f){this.deepIterations=new Map,this.quads=f;for(const b of f)this._addBlankNodeQuadInfo({quad:b,component:b.subject}),this._addBlankNodeQuadInfo({quad:b,component:b.object}),this._addBlankNodeQuadInfo({quad:b,component:b.graph});const d=new Map,h=[...this.blankNodeInfo.keys()];let p=0;for(const b of h)++p%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:b,hashToBlankNodes:d});const y=[...d.keys()].sort(),k=[];for(const b of y){const _=d.get(b);if(_.length>1){k.push(_);continue}const O=_[0];this.canonicalIssuer.getId(O)}for(const b of k){const _=[];for(const O of b){if(this.canonicalIssuer.hasId(O))continue;const R=new s("_:b");R.getId(O);const P=await this.hashNDegreeQuads(O,R);_.push(P)}_.sort(c);for(const O of _){const R=O.issuer.getOldIds();for(const P of R)this.canonicalIssuer.getId(P)}}const $=[];for(const b of this.quads){const _=u.serializeQuadComponents(this._componentWithCanonicalId(b.subject),b.predicate,this._componentWithCanonicalId(b.object),this._componentWithCanonicalId(b.graph));$.push(_)}return $.sort(),$.join("")}async hashFirstDegreeQuads(f){const d=[],h=this.blankNodeInfo.get(f),p=h.quads;for(const k of p){const $={subject:null,predicate:k.predicate,object:null,graph:null};$.subject=this.modifyFirstDegreeComponent(f,k.subject,"subject"),$.object=this.modifyFirstDegreeComponent(f,k.object,"object"),$.graph=this.modifyFirstDegreeComponent(f,k.graph,"graph"),d.push(u.serializeQuad($))}d.sort();const y=this.createMessageDigest();for(const k of d)y.update(k);return h.hash=await y.digest(),h.hash}async hashRelatedBlankNode(f,d,h,p){let y;y=this.canonicalIssuer.hasId(f)?this.canonicalIssuer.getId(f):h.hasId(f)?h.getId(f):this.blankNodeInfo.get(f).hash;const k=this.createMessageDigest();return k.update(p),p!=="g"&&k.update(this.getRelatedPredicate(d)),k.update(y),k.digest()}async hashNDegreeQuads(f,d){const h=this.deepIterations.get(f)||0;if(h>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(f,h+1);const p=this.createMessageDigest(),y=await this.createHashToRelated(f,d),k=[...y.keys()].sort();for(const $ of k){p.update($);let b,_="";const O=new l(y.get($));let R=0;for(;O.hasNext();){const P=O.next();++R%3==0&&await this._yield();let T=d.clone(),G="";const v=[];let w=!1;for(const x of P)if(this.canonicalIssuer.hasId(x)?G+=this.canonicalIssuer.getId(x):(T.hasId(x)||v.push(x),G+=T.getId(x)),_.length!==0&&G>_){w=!0;break}if(!w){for(const x of v){const j=await this.hashNDegreeQuads(x,T);if(G+=T.getId(x),G+=`<${j.hash}>`,T=j.issuer,_.length!==0&&G>_){w=!0;break}}w||(_.length===0||G<_)&&(_=G,b=T)}}p.update(_),d=b}return{hash:await p.digest(),issuer:d}}modifyFirstDegreeComponent(f,d){return d.termType!=="BlankNode"?d:{termType:"BlankNode",value:d.value===f?"_:a":"_:z"}}getRelatedPredicate(f){return`<${f.predicate.value}>`}async createHashToRelated(f,d){const h=new Map,p=this.blankNodeInfo.get(f).quads;let y=0;for(const k of p)++y%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:k,component:k.subject,position:"s",id:f,issuer:d,hashToRelated:h}),this._addRelatedBlankNodeHash({quad:k,component:k.object,position:"o",id:f,issuer:d,hashToRelated:h}),this._addRelatedBlankNodeHash({quad:k,component:k.graph,position:"g",id:f,issuer:d,hashToRelated:h})]);return h}async _hashAndTrackBlankNode({id:f,hashToBlankNodes:d}){const h=await this.hashFirstDegreeQuads(f),p=d.get(h);p?p.push(f):d.set(h,[f])}_addBlankNodeQuadInfo({quad:f,component:d}){if(d.termType!=="BlankNode")return;const h=d.value,p=this.blankNodeInfo.get(h);p?p.quads.add(f):this.blankNodeInfo.set(h,{quads:new Set([f]),hash:null})}async _addRelatedBlankNodeHash({quad:f,component:d,position:h,id:p,issuer:y,hashToRelated:k}){if(d.termType!=="BlankNode"||d.value===p)return;const $=d.value,b=await this.hashRelatedBlankNode($,f,y,h),_=k.get(b);_?_.push($):k.set(b,[$])}_componentWithCanonicalId(f){return f.termType!=="BlankNode"||f.value.startsWith(this.canonicalIssuer.prefix)?f:{termType:"BlankNode",value:this.canonicalIssuer.getId(f.value)}}async _yield(){return new Promise(f=>i(f))}}}).call(this,a(25).setImmediate)},function(r,n,a){(function(i,s){(function(o,l){if(!o.setImmediate){var u,c,f,d,h,p=1,y={},k=!1,$=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,{}.toString.call(o.process)==="[object process]"?u=function(R){s.nextTick(function(){O(R)})}:function(){if(o.postMessage&&!o.importScripts){var R=!0,P=o.onmessage;return o.onmessage=function(){R=!1},o.postMessage("","*"),o.onmessage=P,R}}()?(d="setImmediate$"+Math.random()+"$",h=function(R){R.source===o&&typeof R.data=="string"&&R.data.indexOf(d)===0&&O(+R.data.slice(d.length))},o.addEventListener?o.addEventListener("message",h,!1):o.attachEvent("onmessage",h),u=function(R){o.postMessage(d+R,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(R){O(R.data)},u=function(R){f.port2.postMessage(R)}):$&&"onreadystatechange"in $.createElement("script")?(c=$.documentElement,u=function(R){var P=$.createElement("script");P.onreadystatechange=function(){O(R),P.onreadystatechange=null,c.removeChild(P),P=null},c.appendChild(P)}):u=function(R){setTimeout(O,0,R)},b.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var P=new Array(arguments.length-1),T=0;T<P.length;T++)P[T]=arguments[T+1];var G={callback:R,args:P};return y[p]=G,u(p),p++},b.clearImmediate=_}function _(R){delete y[R]}function O(R){if(k)setTimeout(O,0,R);else{var P=y[R];if(P){k=!0;try{(function(T){var G=T.callback,v=T.args;switch(v.length){case 0:G();break;case 1:G(v[0]);break;case 2:G(v[0],v[1]);break;case 3:G(v[0],v[1],v[2]);break;default:G.apply(void 0,v)}})(P)}finally{_(R),k=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,a(8),a(26))},function(r,n,a){/*!
* Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
*/r.exports=class{constructor(i){this.current=i.sort(),this.done=!1,this.dir=new Map;for(let s=0;s<i.length;++s)this.dir.set(i[s],!0)}hasNext(){return!this.done}next(){const{current:i,dir:s}=this,o=i.slice();let l=null,u=0;const c=i.length;for(let f=0;f<c;++f){const d=i[f],h=s.get(d);(l===null||d>l)&&(h&&f>0&&d>i[f-1]||!h&&f<c-1&&d>i[f+1])&&(l=d,u=f)}if(l===null)this.done=!0;else{const f=s.get(l)?u-1:u+1;i[u]=i[f],i[f]=l;for(const d of i)d>l&&s.set(d,!s.get(d))}return o}}},function(r,n,a){/*!
* Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
*/const i=a(12),s=a(9),o=a(17),l=a(13);function u(c,f){return c.hash<f.hash?-1:c.hash>f.hash?1:0}r.exports=class{constructor({createMessageDigest:c=()=>new s("sha256"),maxDeepIterations:f=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("_:c14n"),this.createMessageDigest=c,this.maxDeepIterations=f,this.quads=null,this.deepIterations=null}main(c){this.deepIterations=new Map,this.quads=c;for(const k of c)this._addBlankNodeQuadInfo({quad:k,component:k.subject}),this._addBlankNodeQuadInfo({quad:k,component:k.object}),this._addBlankNodeQuadInfo({quad:k,component:k.graph});const f=new Map,d=[...this.blankNodeInfo.keys()];for(const k of d)this._hashAndTrackBlankNode({id:k,hashToBlankNodes:f});const h=[...f.keys()].sort(),p=[];for(const k of h){const $=f.get(k);if($.length>1){p.push($);continue}const b=$[0];this.canonicalIssuer.getId(b)}for(const k of p){const $=[];for(const b of k){if(this.canonicalIssuer.hasId(b))continue;const _=new i("_:b");_.getId(b);const O=this.hashNDegreeQuads(b,_);$.push(O)}$.sort(u);for(const b of $){const _=b.issuer.getOldIds();for(const O of _)this.canonicalIssuer.getId(O)}}const y=[];for(const k of this.quads){const $=l.serializeQuadComponents(this._componentWithCanonicalId({component:k.subject}),k.predicate,this._componentWithCanonicalId({component:k.object}),this._componentWithCanonicalId({component:k.graph}));y.push($)}return y.sort(),y.join("")}hashFirstDegreeQuads(c){const f=[],d=this.blankNodeInfo.get(c),h=d.quads;for(const y of h){const k={subject:null,predicate:y.predicate,object:null,graph:null};k.subject=this.modifyFirstDegreeComponent(c,y.subject,"subject"),k.object=this.modifyFirstDegreeComponent(c,y.object,"object"),k.graph=this.modifyFirstDegreeComponent(c,y.graph,"graph"),f.push(l.serializeQuad(k))}f.sort();const p=this.createMessageDigest();for(const y of f)p.update(y);return d.hash=p.digest(),d.hash}hashRelatedBlankNode(c,f,d,h){let p;p=this.canonicalIssuer.hasId(c)?this.canonicalIssuer.getId(c):d.hasId(c)?d.getId(c):this.blankNodeInfo.get(c).hash;const y=this.createMessageDigest();return y.update(h),h!=="g"&&y.update(this.getRelatedPredicate(f)),y.update(p),y.digest()}hashNDegreeQuads(c,f){const d=this.deepIterations.get(c)||0;if(d>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(c,d+1);const h=this.createMessageDigest(),p=this.createHashToRelated(c,f),y=[...p.keys()].sort();for(const k of y){h.update(k);let $,b="";const _=new o(p.get(k));for(;_.hasNext();){const O=_.next();let R=f.clone(),P="";const T=[];let G=!1;for(const v of O)if(this.canonicalIssuer.hasId(v)?P+=this.canonicalIssuer.getId(v):(R.hasId(v)||T.push(v),P+=R.getId(v)),b.length!==0&&P>b){G=!0;break}if(!G){for(const v of T){const w=this.hashNDegreeQuads(v,R);if(P+=R.getId(v),P+=`<${w.hash}>`,R=w.issuer,b.length!==0&&P>b){G=!0;break}}G||(b.length===0||P<b)&&(b=P,$=R)}}h.update(b),f=$}return{hash:h.digest(),issuer:f}}modifyFirstDegreeComponent(c,f){return f.termType!=="BlankNode"?f:{termType:"BlankNode",value:f.value===c?"_:a":"_:z"}}getRelatedPredicate(c){return`<${c.predicate.value}>`}createHashToRelated(c,f){const d=new Map,h=this.blankNodeInfo.get(c).quads;for(const p of h)this._addRelatedBlankNodeHash({quad:p,component:p.subject,position:"s",id:c,issuer:f,hashToRelated:d}),this._addRelatedBlankNodeHash({quad:p,component:p.object,position:"o",id:c,issuer:f,hashToRelated:d}),this._addRelatedBlankNodeHash({quad:p,component:p.graph,position:"g",id:c,issuer:f,hashToRelated:d});return d}_hashAndTrackBlankNode({id:c,hashToBlankNodes:f}){const d=this.hashFirstDegreeQuads(c),h=f.get(d);h?h.push(c):f.set(d,[c])}_addBlankNodeQuadInfo({quad:c,component:f}){if(f.termType!=="BlankNode")return;const d=f.value,h=this.blankNodeInfo.get(d);h?h.quads.add(c):this.blankNodeInfo.set(d,{quads:new Set([c]),hash:null})}_addRelatedBlankNodeHash({quad:c,component:f,position:d,id:h,issuer:p,hashToRelated:y}){if(f.termType!=="BlankNode"||f.value===h)return;const k=f.value,$=this.hashRelatedBlankNode(k,c,p,d),b=y.get($);b?b.push(k):y.set($,[k])}_componentWithCanonicalId({component:c}){return c.termType!=="BlankNode"||c.value.startsWith(this.canonicalIssuer.prefix)?c:{termType:"BlankNode",value:this.canonicalIssuer.getId(c.value)}}}},function(r,n,a){r.exports=class{constructor(){this._requests={}}wrapLoader(i){const s=this;return s._loader=i,function(){return s.add.apply(s,arguments)}}async add(i){let s=this._requests[i];if(s)return Promise.resolve(s);s=this._requests[i]=this._loader(i);try{return await s}finally{delete this._requests[i]}}}},function(r,n,a){const i=a(34),s=Symbol("max"),o=Symbol("length"),l=Symbol("lengthCalculator"),u=Symbol("allowStale"),c=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),y=Symbol("updateAgeOnGet"),k=()=>1,$=(T,G,v)=>{const w=T[p].get(G);if(w){const x=w.value;if(b(T,x)){if(O(T,w),!T[u])return}else v&&(T[y]&&(w.value.now=Date.now()),T[h].unshiftNode(w));return x.value}},b=(T,G)=>{if(!G||!G.maxAge&&!T[c])return!1;const v=Date.now()-G.now;return G.maxAge?v>G.maxAge:T[c]&&v>T[c]},_=T=>{if(T[o]>T[s])for(let G=T[h].tail;T[o]>T[s]&&G!==null;){const v=G.prev;O(T,G),G=v}},O=(T,G)=>{if(G){const v=G.value;T[f]&&T[f](v.key,v.value),T[o]-=v.length,T[p].delete(v.key),T[h].removeNode(G)}};class R{constructor(G,v,w,x,j){this.key=G,this.value=v,this.length=w,this.now=x,this.maxAge=j||0}}const P=(T,G,v,w)=>{let x=v.value;b(T,x)&&(O(T,v),T[u]||(x=void 0)),x&&G.call(w,x.value,x.key,T)};r.exports=class{constructor(T){if(typeof T=="number"&&(T={max:T}),T||(T={}),T.max&&(typeof T.max!="number"||T.max<0))throw new TypeError("max must be a non-negative number");this[s]=T.max||1/0;const G=T.length||k;if(this[l]=typeof G!="function"?k:G,this[u]=T.stale||!1,T.maxAge&&typeof T.maxAge!="number")throw new TypeError("maxAge must be a number");this[c]=T.maxAge||0,this[f]=T.dispose,this[d]=T.noDisposeOnSet||!1,this[y]=T.updateAgeOnGet||!1,this.reset()}set max(T){if(typeof T!="number"||T<0)throw new TypeError("max must be a non-negative number");this[s]=T||1/0,_(this)}get max(){return this[s]}set allowStale(T){this[u]=!!T}get allowStale(){return this[u]}set maxAge(T){if(typeof T!="number")throw new TypeError("maxAge must be a non-negative number");this[c]=T,_(this)}get maxAge(){return this[c]}set lengthCalculator(T){typeof T!="function"&&(T=k),T!==this[l]&&(this[l]=T,this[o]=0,this[h].forEach(G=>{G.length=this[l](G.value,G.key),this[o]+=G.length})),_(this)}get lengthCalculator(){return this[l]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(T,G){G=G||this;for(let v=this[h].tail;v!==null;){const w=v.prev;P(this,T,v,G),v=w}}forEach(T,G){G=G||this;for(let v=this[h].head;v!==null;){const w=v.next;P(this,T,v,G),v=w}}keys(){return this[h].toArray().map(T=>T.key)}values(){return this[h].toArray().map(T=>T.value)}reset(){this[f]&&this[h]&&this[h].length&&this[h].forEach(T=>this[f](T.key,T.value)),this[p]=new Map,this[h]=new i,this[o]=0}dump(){return this[h].map(T=>!b(this,T)&&{k:T.key,v:T.value,e:T.now+(T.maxAge||0)}).toArray().filter(T=>T)}dumpLru(){return this[h]}set(T,G,v){if((v=v||this[c])&&typeof v!="number")throw new TypeError("maxAge must be a number");const w=v?Date.now():0,x=this[l](G,T);if(this[p].has(T)){if(x>this[s])return O(this,this[p].get(T)),!1;const C=this[p].get(T).value;return this[f]&&(this[d]||this[f](T,C.value)),C.now=w,C.maxAge=v,C.value=G,this[o]+=x-C.length,C.length=x,this.get(T),_(this),!0}const j=new R(T,G,x,w,v);return j.length>this[s]?(this[f]&&this[f](T,G),!1):(this[o]+=j.length,this[h].unshift(j),this[p].set(T,this[h].head),_(this),!0)}has(T){if(!this[p].has(T))return!1;const G=this[p].get(T).value;return!b(this,G)}get(T){return $(this,T,!0)}peek(T){return $(this,T,!1)}pop(){const T=this[h].tail;return T?(O(this,T),T.value):null}del(T){O(this,this[p].get(T))}load(T){this.reset();const G=Date.now();for(let v=T.length-1;v>=0;v--){const w=T[v],x=w.e||0;if(x===0)this.set(w.k,w.v);else{const j=x-G;j>0&&this.set(w.k,w.v,j)}}}prune(){this[p].forEach((T,G)=>$(this,G,!1))}}},function(r,n,a){(function(i){a.d(n,"a",function(){return y});var s=a(0),o=a(22),l=a.n(o);const{xsd:u}=s.a,c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,f={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/,h={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},p=/$0^/;class y{constructor($){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,$=$||{},this._lineMode=!!$.lineMode){this._n3Mode=!1;for(const b in this)!(b in h)&&this[b]instanceof RegExp&&(this[b]=p)}else this._n3Mode=$.n3!==!1;this._comments=!!$.comments,this._literalClosingPos=0}_tokenizeToEnd($,b){let _=this._input;const O=this._comments;for(;;){let P,T;for(;P=this._newline.exec(_);)O&&(T=this._comment.exec(P[0]))&&$(null,{line:this._line,type:"comment",value:T[1],prefix:""}),_=_.substr(P[0].length,_.length),this._line++;if(!P&&(P=this._whitespace.exec(_))&&(_=_.substr(P[0].length,_.length)),this._endOfFile.test(_))return b&&(O&&(T=this._comment.exec(_))&&$(null,{line:this._line,type:"comment",value:T[1],prefix:""}),$(_=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=_;const G=this._line,v=_[0];let w="",x="",j="",C=null,B=0,X=!1;switch(v){case"^":if(_.length<3)break;if(_[1]!=="^"){this._n3Mode&&(B=1,w="^");break}if(this._previousMarker="^^",_=_.substr(2),_[0]!=="<"){X=!0;break}case"<":if(C=this._unescapedIri.exec(_))w="IRI",x=C[1];else if(C=this._iri.exec(_)){if(x=this._unescape(C[1]),x===null||d.test(x))return R(this);w="IRI"}else _.length>1&&_[1]==="<"?(w="<<",B=2):this._n3Mode&&_.length>1&&_[1]==="="&&(w="inverse",B=2,x=">");break;case">":_.length>1&&_[1]===">"&&(w=">>",B=2);break;case"_":((C=this._blank.exec(_))||b&&(C=this._blank.exec(_+" ")))&&(w="blank",j="_",x=C[1]);break;case'"':if(C=this._simpleQuotedString.exec(_))x=C[1];else if({value:x,matchLength:B}=this._parseLiteral(_),x===null)return R(this);C===null&&B===0||(w="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(C=this._simpleApostropheString.exec(_))x=C[1];else if({value:x,matchLength:B}=this._parseLiteral(_),x===null)return R(this);C===null&&B===0||(w="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(C=this._variable.exec(_))&&(w="var",x=C[0]);break;case"@":this._previousMarker==="literal"&&(C=this._langcode.exec(_))?(w="langcode",x=C[1]):(C=this._keyword.exec(_))&&(w=C[0]);break;case".":if(_.length===1?b:_[1]<"0"||_[1]>"9"){w=".",B=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(C=this._number.exec(_)||b&&(C=this._number.exec(_+" ")))&&(w="literal",x=C[0],j=typeof C[1]=="string"?u.double:typeof C[2]=="string"?u.decimal:u.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(C=this._sparqlKeyword.exec(_))?w=C[0].toUpperCase():X=!0;break;case"f":case"t":(C=this._boolean.exec(_))?(w="literal",x=C[0],j=u.boolean):X=!0;break;case"a":(C=this._shortPredicates.exec(_))?(w="abbreviation",x="a"):X=!0;break;case"=":this._n3Mode&&_.length>1&&(w="abbreviation",_[1]!==">"?(B=1,x="="):(B=2,x=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(B=1,w=v);break;default:X=!0}if(X&&(this._previousMarker!=="@prefix"&&this._previousMarker!=="PREFIX"||!(C=this._prefix.exec(_))?((C=this._prefixed.exec(_))||b&&(C=this._prefixed.exec(_+" ")))&&(w="prefixed",j=C[1]||"",x=this._unescape(C[2])):(w="prefix",x=C[1]||"")),this._previousMarker==="^^")switch(w){case"prefixed":w="type";break;case"IRI":w="typeIRI";break;default:w=""}if(!w)return b||!/^'''|^"""/.test(_)&&/\n|\r/.test(_)?R(this):this._input=_;const K={line:G,type:w,value:x,prefix:j};$(null,K),this.previousToken=K,this._previousMarker=w,_=_.substr(B||C[0].length,_.length)}function R(P){$(P._syntaxError(/^\S*/.exec(_)[0]))}}_unescape($){let b=!1;const _=$.replace(c,(O,R,P,T)=>{if(typeof R=="string")return String.fromCharCode(Number.parseInt(R,16));if(typeof P=="string"){let G=Number.parseInt(P,16);return G<=65535?String.fromCharCode(Number.parseInt(P,16)):String.fromCharCode(55296+((G-=65536)>>10),56320+(1023&G))}return T in f?f[T]:(b=!0,"")});return b?null:_}_parseLiteral($){if($.length>=3){const b=$.match(/^(?:"""|"|'''|'|)/)[0],_=b.length;let O=Math.max(this._literalClosingPos,_);for(;(O=$.indexOf(b,O))>0;){let R=0;for(;$[O-R-1]==="\\";)R++;if(R%2==0){const P=$.substring(_,O),T=P.split(/\r\n|\r|\n/).length-1,G=O+_;if(_===1&&T!==0||_===3&&this._lineMode)break;return this._line+=T,{value:this._unescape(P),matchLength:G}}O++}this._literalClosingPos=$.length-_+1}return{value:"",matchLength:0}}_syntaxError($){this._input=null;const b=new Error(`Unexpected "${$}" on line ${this._line}.`);return b.context={token:void 0,line:this._line,previousToken:this.previousToken},b}tokenize($,b){if(this._line=1,typeof $=="string"){if(this._input=$,typeof b!="function"){const _=[];let O;if(this._tokenizeToEnd((R,P)=>R?O=R:_.push(P),!0),O)throw O;return _}l()(()=>this._tokenizeToEnd(b,!0))}else this._input="",this._pendingBuffer=null,typeof $.setEncoding=="function"&&$.setEncoding("utf8"),$.on("data",_=>{this._input!==null&&_.length!==0&&(this._pendingBuffer&&(_=i.concat([this._pendingBuffer,_]),this._pendingBuffer=null),128&_[_.length-1]?this._pendingBuffer=_:(this._input+=_,this._tokenizeToEnd(b,!1)))}),$.on("end",()=>{this._input!==null&&this._tokenizeToEnd(b,!0)}),$.on("error",b)}}}).call(this,a(45).Buffer)},function(r,n,a){(function(i){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let s;r.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:i):o=>(s||(s=Promise.resolve())).then(o).catch(l=>setTimeout(()=>{throw l},0))}).call(this,a(8))},,function(r,n,a){const i=a(15),s=a(27),o=a(18),l=a(28);let u;try{u=a(29)}catch{}n.NQuads=a(13),n.IdentifierIssuer=a(12),n._rdfCanonizeNative=function(c){return c&&(u=c),u},n.canonize=async function(c,f){if(Array.isArray(c)||(c=n.NQuads.legacyDatasetToQuads(c)),f.useNative){if(!u)throw new Error("rdf-canonize-native not available");if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((d,h)=>u.canonize(c,f,(p,y)=>p?h(p):d(y)))}if(f.algorithm==="URDNA2015")return new i(f).main(c);if(f.algorithm==="URGNA2012"){if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(f).main(c)}throw"algorithm"in f?new Error("Invalid RDF Dataset Canonicalization algorithm: "+f.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},n._canonizeSync=function(c,f){if(Array.isArray(c)||(c=n.NQuads.legacyDatasetToQuads(c)),f.useNative){if(!u)throw new Error("rdf-canonize-native not available");if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return u.canonizeSync(c,f)}if(f.algorithm==="URDNA2015")return new o(f).main(c);if(f.algorithm==="URGNA2012"){if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new l(f).main(c)}throw"algorithm"in f?new Error("Invalid RDF Dataset Canonicalization algorithm: "+f.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},function(r,n,a){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,o=Function.prototype.apply;function l(u,c){this._id=u,this._clearFn=c}n.setTimeout=function(){return new l(o.call(setTimeout,s,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,s,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(u){u&&u.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},n.enroll=function(u,c){clearTimeout(u._idleTimeoutId),u._idleTimeout=c},n.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},n._unrefActive=n.active=function(u){clearTimeout(u._idleTimeoutId);var c=u._idleTimeout;c>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},c))},a(16),n.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,a(8))},function(r,n){var a,i,s=r.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function u(b){if(a===setTimeout)return setTimeout(b,0);if((a===o||!a)&&setTimeout)return a=setTimeout,setTimeout(b,0);try{return a(b,0)}catch{try{return a.call(null,b,0)}catch{return a.call(this,b,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:o}catch{a=o}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var c,f=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?f=c.concat(f):h=-1,f.length&&y())}function y(){if(!d){var b=u(p);d=!0;for(var _=f.length;_;){for(c=f,f=[];++h<_;)c&&c[h].run();h=-1,_=f.length}c=null,d=!1,function(O){if(i===clearTimeout)return clearTimeout(O);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(O);try{i(O)}catch{try{return i.call(null,O)}catch{return i.call(this,O)}}}(b)}}function k(b,_){this.fun=b,this.array=_}function $(){}s.nextTick=function(b){var _=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)_[O-1]=arguments[O];f.push(new k(b,_)),f.length!==1||d||u(y)},k.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=$,s.addListener=$,s.once=$,s.off=$,s.removeListener=$,s.removeAllListeners=$,s.emit=$,s.prependListener=$,s.prependOnceListener=$,s.listeners=function(b){return[]},s.binding=function(b){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(b){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(r,n,a){/*!
* Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
*/const i=a(9),s=a(15);r.exports=class extends s{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(o,l,u){return l.termType!=="BlankNode"?l:u==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:l.value===o?"_:a":"_:z"}}getRelatedPredicate(o){return o.predicate.value}async createHashToRelated(o,l){const u=new Map,c=this.blankNodeInfo.get(o).quads;let f=0;for(const d of c){let h,p;if(d.subject.termType==="BlankNode"&&d.subject.value!==o)p=d.subject.value,h="p";else{if(d.object.termType!=="BlankNode"||d.object.value===o)continue;p=d.object.value,h="r"}++f%100==0&&await this._yield();const y=await this.hashRelatedBlankNode(p,d,l,h),k=u.get(y);k?k.push(p):u.set(y,[p])}return u}}},function(r,n,a){/*!
* Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
*/const i=a(9),s=a(18);r.exports=class extends s{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(o,l,u){return l.termType!=="BlankNode"?l:u==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:l.value===o?"_:a":"_:z"}}getRelatedPredicate(o){return o.predicate.value}createHashToRelated(o,l){const u=new Map,c=this.blankNodeInfo.get(o).quads;for(const f of c){let d,h;if(f.subject.termType==="BlankNode"&&f.subject.value!==o)h=f.subject.value,d="p";else{if(f.object.termType!=="BlankNode"||f.object.value===o)continue;h=f.object.value,d="r"}const p=this.hashRelatedBlankNode(h,f,l,d),y=u.get(p);y?y.push(h):u.set(p,[h])}return u}}},function(r,n){},function(r,n,a){const i=a(31),s={};r.exports=s,s.setupDocumentLoaders=function(o){typeof XMLHttpRequest<"u"&&(o.documentLoaders.xhr=i,o.useDocumentLoader("xhr"))},s.setupGlobals=function(o){globalThis.JsonLdProcessor===void 0&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:o.JsonLdProcessor})}},function(r,n,a){const{parseLinkHeader:i,buildHeaders:s}=a(2),{LINK_HEADER_CONTEXT:o}=a(14),l=a(3),u=a(19),{prependBase:c}=a(5),f=/(^|(\r\n))link:/i;r.exports=({secure:d,headers:h={},xhr:p}={headers:{}})=>(h=s(h),new u().wrapLoader(async function y(k){if(k.indexOf("http:")!==0&&k.indexOf("https:")!==0)throw new l('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:k});if(d&&k.indexOf("https")!==0)throw new l(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:k});let $;try{$=await function(P,T,G){const v=new(P=P||XMLHttpRequest);return new Promise((w,x)=>{v.onload=()=>w(v),v.onerror=j=>x(j),v.open("GET",T,!0);for(const j in G)v.setRequestHeader(j,G[j]);v.send()})}(p,k,h)}catch(P){throw new l("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:k,cause:P})}if($.status>=400)throw new l("URL could not be dereferenced: "+$.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:k,httpStatusCode:$.status});let b={contextUrl:null,documentUrl:k,document:$.response},_=null;const O=$.getResponseHeader("Content-Type");let R;if(f.test($.getAllResponseHeaders())&&(R=$.getResponseHeader("Link")),R&&O!=="application/ld+json"){const P=i(R),T=P[o];if(Array.isArray(T))throw new l("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:k});T&&(b.contextUrl=T.target),_=P.alternate,_&&_.type=="application/ld+json"&&!(O||"").match(/^application\/(\w*\+)?json$/)&&(b=await y(c(k,_.target)))}return b}))},function(r,n,a){const{isArray:i,isObject:s,isString:o}=a(1),{asArray:l}=a(2),{prependBase:u}=a(5),c=a(3),f=a(33);function d(h){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:h})}r.exports=class{constructor({sharedCache:h}){this.perOpCache=new Map,this.sharedCache=h}async resolve({activeCtx:h,context:p,documentLoader:y,base:k,cycles:$=new Set}){p&&s(p)&&p["@context"]&&(p=p["@context"]),p=l(p);const b=[];for(const _ of p){if(o(_)){let P=this._get(_);P||(P=await this._resolveRemoteContext({activeCtx:h,url:_,documentLoader:y,base:k,cycles:$})),i(P)?b.push(...P):b.push(P);continue}if(_===null){b.push(new f({document:null}));continue}s(_)||d(p);const O=JSON.stringify(_);let R=this._get(O);R||(R=new f({document:_}),this._cacheResolvedContext({key:O,resolved:R,tag:"static"})),b.push(R)}return b}_get(h){let p=this.perOpCache.get(h);if(!p){const y=this.sharedCache.get(h);y&&(p=y.get("static"),p&&this.perOpCache.set(h,p))}return p}_cacheResolvedContext({key:h,resolved:p,tag:y}){if(this.perOpCache.set(h,p),y!==void 0){let k=this.sharedCache.get(h);k||(k=new Map,this.sharedCache.set(h,k)),k.set(y,p)}return p}async _resolveRemoteContext({activeCtx:h,url:p,documentLoader:y,base:k,cycles:$}){p=u(k,p);const{context:b,remoteDoc:_}=await this._fetchContext({activeCtx:h,url:p,documentLoader:y,cycles:$});(function R({context:P,base:T}){if(!P)return;const G=P["@context"];if(o(G))return void(P["@context"]=u(T,G));if(i(G)){for(let v=0;v<G.length;++v){const w=G[v];o(w)?G[v]=u(T,w):s(w)&&R({context:{"@context":w},base:T})}return}if(s(G))for(const v in G)R({context:G[v],base:T})})({context:b,base:k=_.documentUrl||p});const O=await this.resolve({activeCtx:h,context:b,documentLoader:y,base:k,cycles:$});return this._cacheResolvedContext({key:p,resolved:O,tag:_.tag}),O}async _fetchContext({activeCtx:h,url:p,documentLoader:y,cycles:k}){if(k.size>10)throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:h.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:10});if(k.has(p))throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:h.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:p});let $,b;k.add(p);try{b=await y(p),$=b.document||null,o($)&&($=JSON.parse($))}catch(_){throw new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:p,cause:_})}if(!s($))throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:p});return $="@context"in $?{"@context":$["@context"]}:{"@context":{}},b.contextUrl&&(i($["@context"])||($["@context"]=[$["@context"]]),$["@context"].push(b.contextUrl)),{context:$,remoteDoc:b}}}},function(r,n,a){const i=a(20);r.exports=class{constructor({document:s}){this.document=s,this.cache=new i({max:10})}getProcessed(s){return this.cache.get(s)}setProcessed(s,o){this.cache.set(s,o)}}},function(r,n,a){function i(c){var f=this;if(f instanceof i||(f=new i),f.tail=null,f.head=null,f.length=0,c&&typeof c.forEach=="function")c.forEach(function(p){f.push(p)});else if(arguments.length>0)for(var d=0,h=arguments.length;d<h;d++)f.push(arguments[d]);return f}function s(c,f,d){var h=f===c.head?new u(d,null,f,c):new u(d,f,f.next,c);return h.next===null&&(c.tail=h),h.prev===null&&(c.head=h),c.length++,h}function o(c,f){c.tail=new u(f,c.tail,null,c),c.head||(c.head=c.tail),c.length++}function l(c,f){c.head=new u(f,null,c.head,c),c.tail||(c.tail=c.head),c.length++}function u(c,f,d,h){if(!(this instanceof u))return new u(c,f,d,h);this.list=h,this.value=c,f?(f.next=this,this.prev=f):this.prev=null,d?(d.prev=this,this.next=d):this.next=null}r.exports=i,i.Node=u,i.create=i,i.prototype.removeNode=function(c){if(c.list!==this)throw new Error("removing node which does not belong to this list");var f=c.next,d=c.prev;return f&&(f.prev=d),d&&(d.next=f),c===this.head&&(this.head=f),c===this.tail&&(this.tail=d),c.list.length--,c.next=null,c.prev=null,c.list=null,f},i.prototype.unshiftNode=function(c){if(c!==this.head){c.list&&c.list.removeNode(c);var f=this.head;c.list=this,c.next=f,f&&(f.prev=c),this.head=c,this.tail||(this.tail=c),this.length++}},i.prototype.pushNode=function(c){if(c!==this.tail){c.list&&c.list.removeNode(c);var f=this.tail;c.list=this,c.prev=f,f&&(f.next=c),this.tail=c,this.head||(this.head=c),this.length++}},i.prototype.push=function(){for(var c=0,f=arguments.length;c<f;c++)o(this,arguments[c]);return this.length},i.prototype.unshift=function(){for(var c=0,f=arguments.length;c<f;c++)l(this,arguments[c]);return this.length},i.prototype.pop=function(){if(this.tail){var c=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,c}},i.prototype.shift=function(){if(this.head){var c=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,c}},i.prototype.forEach=function(c,f){f=f||this;for(var d=this.head,h=0;d!==null;h++)c.call(f,d.value,h,this),d=d.next},i.prototype.forEachReverse=function(c,f){f=f||this;for(var d=this.tail,h=this.length-1;d!==null;h--)c.call(f,d.value,h,this),d=d.prev},i.prototype.get=function(c){for(var f=0,d=this.head;d!==null&&f<c;f++)d=d.next;if(f===c&&d!==null)return d.value},i.prototype.getReverse=function(c){for(var f=0,d=this.tail;d!==null&&f<c;f++)d=d.prev;if(f===c&&d!==null)return d.value},i.prototype.map=function(c,f){f=f||this;for(var d=new i,h=this.head;h!==null;)d.push(c.call(f,h.value,this)),h=h.next;return d},i.prototype.mapReverse=function(c,f){f=f||this;for(var d=new i,h=this.tail;h!==null;)d.push(c.call(f,h.value,this)),h=h.prev;return d},i.prototype.reduce=function(c,f){var d,h=this.head;if(arguments.length>1)d=f;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");h=this.head.next,d=this.head.value}for(var p=0;h!==null;p++)d=c(d,h.value,p),h=h.next;return d},i.prototype.reduceReverse=function(c,f){var d,h=this.tail;if(arguments.length>1)d=f;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");h=this.tail.prev,d=this.tail.value}for(var p=this.length-1;h!==null;p--)d=c(d,h.value,p),h=h.prev;return d},i.prototype.toArray=function(){for(var c=new Array(this.length),f=0,d=this.head;d!==null;f++)c[f]=d.value,d=d.next;return c},i.prototype.toArrayReverse=function(){for(var c=new Array(this.length),f=0,d=this.tail;d!==null;f++)c[f]=d.value,d=d.prev;return c},i.prototype.slice=function(c,f){(f=f||this.length)<0&&(f+=this.length),(c=c||0)<0&&(c+=this.length);var d=new i;if(f<c||f<0)return d;c<0&&(c=0),f>this.length&&(f=this.length);for(var h=0,p=this.head;p!==null&&h<c;h++)p=p.next;for(;p!==null&&h<f;h++,p=p.next)d.push(p.value);return d},i.prototype.sliceReverse=function(c,f){(f=f||this.length)<0&&(f+=this.length),(c=c||0)<0&&(c+=this.length);var d=new i;if(f<c||f<0)return d;c<0&&(c=0),f>this.length&&(f=this.length);for(var h=this.length,p=this.tail;p!==null&&h>f;h--)p=p.prev;for(;p!==null&&h>c;h--,p=p.prev)d.push(p.value);return d},i.prototype.splice=function(c,f,...d){c>this.length&&(c=this.length-1),c<0&&(c=this.length+c);for(var h=0,p=this.head;p!==null&&h<c;h++)p=p.next;var y=[];for(h=0;p&&h<f;h++)y.push(p.value),p=this.removeNode(p);for(p===null&&(p=this.tail),p!==this.head&&p!==this.tail&&(p=p.prev),h=0;h<d.length;h++)p=s(this,p,d[h]);return y},i.prototype.reverse=function(){for(var c=this.head,f=this.tail,d=c;d!==null;d=d.prev){var h=d.prev;d.prev=d.next,d.next=h}return this.head=f,this.tail=c,this};try{a(35)(i)}catch{}},function(r,n,a){r.exports=function(i){i.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}},function(r,n,a){r.exports=a(11).NQuads},function(r,n,a){const i=a(3),{isArray:s,isObject:o,isEmptyObject:l,isString:u,isUndefined:c}=a(1),{isList:f,isValue:d,isGraph:h,isSubject:p}=a(4),{expandIri:y,getContextValue:k,isKeyword:$,process:b,processingMode:_}=a(6),{isAbsolute:O}=a(5),{addValue:R,asArray:P,getValues:T,validateTypeValue:G}=a(2),v={};r.exports=v;const w=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function x({activeCtx:B,activeProperty:X,value:K,options:F}){if(K==null)return null;const U=y(B,X,{vocab:!0},F);if(U==="@id")return y(B,K,{base:!0},F);if(U==="@type")return y(B,K,{vocab:!0,base:!0},F);const z=k(B,X,"@type");if((z==="@id"||U==="@graph")&&u(K))return{"@id":y(B,K,{base:!0},F)};if(z==="@vocab"&&u(K))return{"@id":y(B,K,{vocab:!0,base:!0},F)};if($(U))return K;const H={};if(z&&!["@id","@vocab","@none"].includes(z))H["@type"]=z;else if(u(K)){const q=k(B,X,"@language");q!==null&&(H["@language"]=q);const g=k(B,X,"@direction");g!==null&&(H["@direction"]=g)}return["boolean","number","string"].includes(typeof K)||(K=K.toString()),H["@value"]=K,H}function j(B,X,K,F){const U=[],z=Object.keys(X).sort();for(const H of z){const q=y(B,H,{vocab:!0},F);let g=X[H];s(g)||(g=[g]);for(const A of g){if(A===null)continue;if(!u(A))throw new i("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:X});const M={"@value":A};q!=="@none"&&(M["@language"]=H.toLowerCase()),K&&(M["@direction"]=K),U.push(M)}}return U}async function C({activeCtx:B,options:X,activeProperty:K,value:F,expansionMap:U,asGraph:z,indexKey:H,propertyIndex:q}){const g=[],A=Object.keys(F).sort(),M=H==="@type";for(let W of A){if(M){const ee=k(B,W,"@context");c(ee)||(B=await b({activeCtx:B,localCtx:ee,propagate:!1,options:X}))}let Z,N=F[W];s(N)||(N=[N]),N=await v.expand({activeCtx:B,activeProperty:K,element:N,options:X,insideList:!1,insideIndex:!0,expansionMap:U}),Z=q?W==="@none"?"@none":x({activeCtx:B,activeProperty:H,value:W,options:X}):y(B,W,{vocab:!0},X),H==="@id"?W=y(B,W,{base:!0},X):M&&(W=Z);for(let ee of N){if(z&&!h(ee)&&(ee={"@graph":[ee]}),H==="@type")Z==="@none"||(ee["@type"]?ee["@type"]=[W].concat(ee["@type"]):ee["@type"]=[W]);else{if(d(ee)&&!["@language","@type","@index"].includes(H))throw new i(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${H}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ee});q?Z!=="@none"&&R(ee,q,Z,{propertyIsArray:!0,prependValue:!0}):Z==="@none"||H in ee||(ee[H]=W)}g.push(ee)}}return g}v.expand=async({activeCtx:B,activeProperty:X=null,element:K,options:F={},insideList:U=!1,insideIndex:z=!1,typeScopedContext:H=null,expansionMap:q=()=>{}})=>{if(K==null)return null;if(X==="@default"&&(F=Object.assign({},F,{isFrame:!1})),!s(K)&&!o(K)){if(!U&&(X===null||y(B,X,{vocab:!0},F)==="@graph")){const ne=await q({unmappedValue:K,activeCtx:B,activeProperty:X,options:F,insideList:U});return ne===void 0?null:ne}return x({activeCtx:B,activeProperty:X,value:K,options:F})}if(s(K)){let ne=[];const m=k(B,X,"@container")||[];U=U||m.includes("@list");for(let E=0;E<K.length;++E){let D=await v.expand({activeCtx:B,activeProperty:X,element:K[E],options:F,expansionMap:q,insideIndex:z,typeScopedContext:H});U&&s(D)&&(D={"@list":D}),D===null&&(D=await q({unmappedValue:K[E],activeCtx:B,activeProperty:X,parent:K,index:E,options:F,expandedParent:ne,insideList:U}),D===void 0)||(s(D)?ne=ne.concat(D):ne.push(D))}return ne}const g=y(B,X,{vocab:!0},F),A=k(B,X,"@context");H=H||(B.previousContext?B:null);let M=Object.keys(K).sort(),W=!z;if(W&&H&&M.length<=2&&!M.includes("@context"))for(const ne of M){const m=y(H,ne,{vocab:!0},F);if(m==="@value"){W=!1,B=H;break}if(m==="@id"&&M.length===1){W=!1;break}}W&&(B=B.revertToPreviousContext()),c(A)||(B=await b({activeCtx:B,localCtx:A,propagate:!0,overrideProtected:!0,options:F})),"@context"in K&&(B=await b({activeCtx:B,localCtx:K["@context"],options:F})),H=B;let Z=null;for(const ne of M)if(y(B,ne,{vocab:!0},F)==="@type"){Z=Z||ne;const m=K[ne],E=Array.isArray(m)?m.length>1?m.slice().sort():m:[m];for(const D of E){const S=k(H,D,"@context");c(S)||(B=await b({activeCtx:B,localCtx:S,options:F,propagate:!1}))}}let N={};await async function ne({activeCtx:m,activeProperty:E,expandedActiveProperty:D,element:S,expandedParent:I,options:L={},insideList:Q,typeKey:re,typeScopedContext:ue,expansionMap:he}){const ce=Object.keys(S).sort(),pe=[];let Y;const ie=S[re]&&y(m,s(S[re])?S[re][0]:S[re],{vocab:!0},L)==="@json";for(const be of ce){let ye,ve=S[be];if(be==="@context")continue;let Ie=y(m,be,{vocab:!0},L);if((Ie===null||!O(Ie)&&!$(Ie))&&(Ie=he({unmappedProperty:be,activeCtx:m,activeProperty:E,parent:S,options:L,insideList:Q,value:ve,expandedParent:I}),Ie===void 0))continue;if($(Ie)){if(D==="@reverse")throw new i("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:ve});if(Ie in I&&Ie!=="@included"&&Ie!=="@type")throw new i("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:Ie})}if(Ie==="@id"){if(!u(ve)){if(!L.isFrame)throw new i('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:ve});if(o(ve)){if(!l(ve))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:ve})}else{if(!s(ve))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:ve});if(!ve.every(ke=>u(ke)))throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:ve})}}R(I,"@id",P(ve).map(ke=>u(ke)?y(m,ke,{base:!0},L):ke),{propertyIsArray:L.isFrame});continue}if(Ie==="@type"){o(ve)&&(ve=Object.fromEntries(Object.entries(ve).map(([ke,et])=>[y(ue,ke,{vocab:!0}),P(et).map(rr=>y(ue,rr,{base:!0,vocab:!0}))]))),G(ve,L.isFrame),R(I,"@type",P(ve).map(ke=>u(ke)?y(ue,ke,{base:!0,vocab:!0},L):ke),{propertyIsArray:L.isFrame});continue}if(Ie==="@included"&&_(m,1.1)){const ke=P(await v.expand({activeCtx:m,activeProperty:E,element:ve,options:L,expansionMap:he}));if(!ke.every(et=>p(et)))throw new i("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:ve});R(I,"@included",ke,{propertyIsArray:!0});continue}if(Ie==="@graph"&&!o(ve)&&!s(ve))throw new i('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:ve});if(Ie==="@value"){Y=ve,ie&&_(m,1.1)?I["@value"]=ve:R(I,"@value",ve,{propertyIsArray:L.isFrame});continue}if(Ie==="@language"){if(ve===null)continue;if(!u(ve)&&!L.isFrame)throw new i('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:ve});ve=P(ve).map(ke=>u(ke)?ke.toLowerCase():ke);for(const ke of ve)u(ke)&&!ke.match(w)&&console.warn("@language must be valid BCP47: "+ke);R(I,"@language",ve,{propertyIsArray:L.isFrame});continue}if(Ie==="@direction"){if(!u(ve)&&!L.isFrame)throw new i('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:ve});ve=P(ve);for(const ke of ve)if(u(ke)&&ke!=="ltr"&&ke!=="rtl")throw new i('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:ve});R(I,"@direction",ve,{propertyIsArray:L.isFrame});continue}if(Ie==="@index"){if(!u(ve))throw new i('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:ve});R(I,"@index",ve);continue}if(Ie==="@reverse"){if(!o(ve))throw new i('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:ve});if(ye=await v.expand({activeCtx:m,activeProperty:"@reverse",element:ve,options:L,expansionMap:he}),"@reverse"in ye)for(const et in ye["@reverse"])R(I,et,ye["@reverse"][et],{propertyIsArray:!0});let ke=I["@reverse"]||null;for(const et in ye){if(et==="@reverse")continue;ke===null&&(ke=I["@reverse"]={}),R(ke,et,[],{propertyIsArray:!0});const rr=ye[et];for(let en=0;en<rr.length;++en){const Ba=rr[en];if(d(Ba)||f(Ba))throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ye});R(ke,et,Ba,{propertyIsArray:!0})}}continue}if(Ie==="@nest"){pe.push(be);continue}let Le=m;const lt=k(m,be,"@context");c(lt)||(Le=await b({activeCtx:m,localCtx:lt,propagate:!0,overrideProtected:!0,options:L}));const ut=k(Le,be,"@container")||[];if(ut.includes("@language")&&o(ve)){const ke=k(Le,be,"@direction");ye=j(Le,ve,ke,L)}else if(ut.includes("@index")&&o(ve)){const ke=ut.includes("@graph"),et=k(Le,be,"@index")||"@index",rr=et!=="@index"&&y(m,et,{vocab:!0},L);ye=await C({activeCtx:Le,options:L,activeProperty:be,value:ve,expansionMap:he,asGraph:ke,indexKey:et,propertyIndex:rr})}else if(ut.includes("@id")&&o(ve)){const ke=ut.includes("@graph");ye=await C({activeCtx:Le,options:L,activeProperty:be,value:ve,expansionMap:he,asGraph:ke,indexKey:"@id"})}else if(ut.includes("@type")&&o(ve))ye=await C({activeCtx:Le.revertToPreviousContext(),options:L,activeProperty:be,value:ve,expansionMap:he,asGraph:!1,indexKey:"@type"});else{const ke=Ie==="@list";if(ke||Ie==="@set"){let et=E;ke&&D==="@graph"&&(et=null),ye=await v.expand({activeCtx:Le,activeProperty:et,element:ve,options:L,insideList:ke,expansionMap:he})}else ye=k(m,be,"@type")==="@json"?{"@type":"@json","@value":ve}:await v.expand({activeCtx:Le,activeProperty:be,element:ve,options:L,insideList:!1,expansionMap:he})}if(ye!==null||Ie==="@value"||(ye=he({unmappedValue:ve,expandedProperty:Ie,activeCtx:Le,activeProperty:E,parent:S,options:L,insideList:Q,key:be,expandedParent:I}),ye!==void 0))if(Ie!=="@list"&&!f(ye)&&ut.includes("@list")&&(ye={"@list":P(ye)}),ut.includes("@graph")&&!ut.some(ke=>ke==="@id"||ke==="@index")&&(ye=P(ye).map(ke=>({"@graph":P(ke)}))),Le.mappings.has(be)&&Le.mappings.get(be).reverse){const ke=I["@reverse"]=I["@reverse"]||{};ye=P(ye);for(let et=0;et<ye.length;++et){const rr=ye[et];if(d(rr)||f(rr))throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ye});R(ke,Ie,rr,{propertyIsArray:!0})}}else R(I,Ie,ye,{propertyIsArray:!0})}if("@value"in I&&!(I["@type"]==="@json"&&_(m,1.1))){if((o(Y)||s(Y))&&!L.isFrame)throw new i('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:Y})}for(const be of pe){const ye=s(S[be])?S[be]:[S[be]];for(const ve of ye){if(!o(ve)||Object.keys(ve).some(Ie=>y(m,Ie,{vocab:!0},L)==="@value"))throw new i("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ve});await ne({activeCtx:m,activeProperty:E,expandedActiveProperty:D,element:ve,expandedParent:I,options:L,insideList:Q,typeScopedContext:ue,typeKey:re,expansionMap:he})}}}({activeCtx:B,activeProperty:X,expandedActiveProperty:g,element:K,expandedParent:N,options:F,insideList:U,typeKey:Z,typeScopedContext:H,expansionMap:q}),M=Object.keys(N);let ee=M.length;if("@value"in N){if("@type"in N&&("@language"in N||"@direction"in N))throw new i('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:N});let ne=ee-1;if("@type"in N&&(ne-=1),"@index"in N&&(ne-=1),"@language"in N&&(ne-=1),"@direction"in N&&(ne-=1),ne!==0)throw new i('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:N});const m=N["@value"]===null?[]:P(N["@value"]),E=T(N,"@type");if(!(_(B,1.1)&&E.includes("@json")&&E.length===1))if(m.length===0){const D=await q({unmappedValue:N,activeCtx:B,activeProperty:X,element:K,options:F,insideList:U});N=D!==void 0?D:null}else{if(!m.every(D=>u(D)||l(D))&&"@language"in N)throw new i("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:N});if(!E.every(D=>O(D)&&!(u(D)&&D.indexOf("_:")===0)||l(D)))throw new i('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:N})}}else if("@type"in N&&!s(N["@type"]))N["@type"]=[N["@type"]];else if("@set"in N||"@list"in N){if(ee>1&&(ee!==2||!("@index"in N)))throw new i('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:N});"@set"in N&&(N=N["@set"],M=Object.keys(N),ee=M.length)}else if(ee===1&&"@language"in N){const ne=await q(N,{unmappedValue:N,activeCtx:B,activeProperty:X,element:K,options:F,insideList:U});N=ne!==void 0?ne:null}if(o(N)&&!F.keepFreeFloatingNodes&&!U&&(X===null||g==="@graph")&&(ee===0||"@value"in N||"@list"in N||ee===1&&"@id"in N)){const ne=await q({unmappedValue:N,activeCtx:B,activeProperty:X,element:K,options:F,insideList:U});N=ne!==void 0?ne:null}return N}},function(r,n,a){const{isSubjectReference:i}=a(4),{createMergedNodeMap:s}=a(10),o={};r.exports=o,o.flatten=l=>{const u=s(l),c=[],f=Object.keys(u).sort();for(let d=0;d<f.length;++d){const h=u[f[d]];i(h)||c.push(h)}return c}},function(r,n,a){const i=a(3),s=a(4),o=a(1),l=a(2),{RDF_LIST:u,RDF_FIRST:c,RDF_REST:f,RDF_NIL:d,RDF_TYPE:h,RDF_JSON_LITERAL:p,XSD_BOOLEAN:y,XSD_DOUBLE:k,XSD_INTEGER:$,XSD_STRING:b}=a(14),_=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,O={};function R(P,T,G){if(P.termType.endsWith("Node"))return{"@id":P.value};const v={"@value":P.value};if(P.language)v["@language"]=P.language;else{let w=P.datatype.value;if(w||(w=b),w===p){w="@json";try{v["@value"]=JSON.parse(v["@value"])}catch(x){throw new i("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:v["@value"],cause:x})}}if(T){if(w===y)v["@value"]==="true"?v["@value"]=!0:v["@value"]==="false"&&(v["@value"]=!1);else if(o.isNumeric(v["@value"]))if(w===$){const x=parseInt(v["@value"],10);x.toFixed(0)===v["@value"]&&(v["@value"]=x)}else w===k&&(v["@value"]=parseFloat(v["@value"]));[y,$,k,b].includes(w)||(v["@type"]=w)}else if(G==="i18n-datatype"&&w.startsWith("https://www.w3.org/ns/i18n#")){const[,x,j]=w.split(/[#_]/);x.length>0&&(v["@language"]=x,x.match(_)||console.warn("@language must be valid BCP47: "+x)),v["@direction"]=j}else w!==b&&(v["@type"]=w)}return v}r.exports=O,O.fromRDF=async(P,{useRdfType:T=!1,useNativeTypes:G=!1,rdfDirection:v=null})=>{const w={},x={"@default":w},j={};for(const X of P){const K=X.graph.termType==="DefaultGraph"?"@default":X.graph.value;K in x||(x[K]={}),K==="@default"||K in w||(w[K]={"@id":K});const F=x[K],U=X.subject.value,z=X.predicate.value,H=X.object;U in F||(F[U]={"@id":U});const q=F[U],g=H.termType.endsWith("Node");if(g&&!(H.value in F)&&(F[H.value]={"@id":H.value}),z===h&&!T&&g){l.addValue(q,"@type",H.value,{propertyIsArray:!0});continue}const A=R(H,G,v);if(l.addValue(q,z,A,{propertyIsArray:!0}),g)if(H.value===d){const M=F[H.value];"usages"in M||(M.usages=[]),M.usages.push({node:q,property:z,value:A})}else H.value in j?j[H.value]=!1:j[H.value]={node:q,property:z,value:A}}for(const X in x){const K=x[X];if(!(d in K))continue;const F=K[d];if(F.usages){for(let U of F.usages){let z=U.node,H=U.property,q=U.value;const g=[],A=[];let M=Object.keys(z).length;for(;H===f&&o.isObject(j[z["@id"]])&&o.isArray(z[c])&&z[c].length===1&&o.isArray(z[f])&&z[f].length===1&&(M===3||M===4&&o.isArray(z["@type"])&&z["@type"].length===1&&z["@type"][0]===u)&&(g.push(z[c][0]),A.push(z["@id"]),U=j[z["@id"]],z=U.node,H=U.property,q=U.value,M=Object.keys(z).length,s.isBlankNode(z)););delete q["@id"],q["@list"]=g.reverse();for(const W of A)delete K[W]}delete F.usages}}const C=[],B=Object.keys(w).sort();for(const X of B){const K=w[X];if(X in x){const F=K["@graph"]=[],U=x[X],z=Object.keys(U).sort();for(const H of z){const q=U[H];s.isSubjectReference(q)||F.push(q)}}s.isSubjectReference(K)||C.push(K)}return C}},function(r,n,a){const{createNodeMap:i}=a(10),{isKeyword:s}=a(6),o=a(4),l=a(41),u=a(1),c=a(2),{RDF_FIRST:f,RDF_REST:d,RDF_NIL:h,RDF_TYPE:p,RDF_JSON_LITERAL:y,RDF_LANGSTRING:k,XSD_BOOLEAN:$,XSD_DOUBLE:b,XSD_INTEGER:_,XSD_STRING:O}=a(14),{isAbsolute:R}=a(5),P={};function T(v,w,x,j,C){const B=Object.keys(w).sort();for(const X of B){const K=w[X],F=Object.keys(K).sort();for(let U of F){const z=K[U];if(U==="@type")U=p;else if(s(U))continue;for(const H of z){const q={termType:X.startsWith("_:")?"BlankNode":"NamedNode",value:X};if(!R(X))continue;const g={termType:U.startsWith("_:")?"BlankNode":"NamedNode",value:U};if(!R(U)||g.termType==="BlankNode"&&!C.produceGeneralizedRdf)continue;const A=G(H,j,v,x,C.rdfDirection);A&&v.push({subject:q,predicate:g,object:A,graph:x})}}}}function G(v,w,x,j,C){const B={};if(o.isValue(v)){B.termType="Literal",B.value=void 0,B.datatype={termType:"NamedNode"};let X=v["@value"];const K=v["@type"]||null;if(K==="@json")B.value=l(X),B.datatype.value=y;else if(u.isBoolean(X))B.value=X.toString(),B.datatype.value=K||$;else if(u.isDouble(X)||K===b)u.isDouble(X)||(X=parseFloat(X)),B.value=X.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),B.datatype.value=K||b;else if(u.isNumber(X))B.value=X.toFixed(0),B.datatype.value=K||_;else if(C==="i18n-datatype"&&"@direction"in v){const F="https://www.w3.org/ns/i18n#"+(v["@language"]||"")+"_"+v["@direction"];B.datatype.value=F,B.value=X}else"@language"in v?(B.value=X,B.datatype.value=K||k,B.language=v["@language"]):(B.value=X,B.datatype.value=K||O)}else if(o.isList(v)){const X=function(K,F,U,z,H){const q={termType:"NamedNode",value:f},g={termType:"NamedNode",value:d},A={termType:"NamedNode",value:h},M=K.pop(),W=M?{termType:"BlankNode",value:F.getId()}:A;let Z=W;for(const N of K){const ee=G(N,F,U,z,H),ne={termType:"BlankNode",value:F.getId()};U.push({subject:Z,predicate:q,object:ee,graph:z}),U.push({subject:Z,predicate:g,object:ne,graph:z}),Z=ne}if(M){const N=G(M,F,U,z,H);U.push({subject:Z,predicate:q,object:N,graph:z}),U.push({subject:Z,predicate:g,object:A,graph:z})}return W}(v["@list"],w,x,j,C);B.termType=X.termType,B.value=X.value}else{const X=u.isObject(v)?v["@id"]:v;B.termType=X.startsWith("_:")?"BlankNode":"NamedNode",B.value=X}return B.termType!=="NamedNode"||R(B.value)?B:null}r.exports=P,P.toRDF=(v,w)=>{const x=new c.IdentifierIssuer("_:b"),j={"@default":{}};i(v,j,"@default",x);const C=[],B=Object.keys(j).sort();for(const X of B){let K;if(X==="@default")K={termType:"DefaultGraph",value:""};else{if(!R(X))continue;K=X.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},K.value=X}T(C,j[X],K,x,w)}return C}},function(r,n,a){r.exports=function i(s){return s===null||typeof s!="object"||s.toJSON!=null?JSON.stringify(s):Array.isArray(s)?"["+s.reduce((o,l,u)=>o+(u===0?"":",")+i(l===void 0||typeof l=="symbol"?null:l),"")+"]":"{"+Object.keys(s).sort().reduce((o,l,u)=>s[l]===void 0||typeof s[l]=="symbol"?o:o+(o.length===0?"":",")+i(l)+":"+i(s[l]),"")+"}"}},function(r,n,a){const{isKeyword:i}=a(6),s=a(4),o=a(1),l=a(2),u=a(5),c=a(3),{createNodeMap:f,mergeNodeMapGraphs:d}=a(10),h={};function p(T){const G={};for(const v in T)T[v]!==void 0&&(G["@"+v]=[T[v]]);return[G]}function y(T,G,v){for(let w=v.length-1;w>=0;--w){const x=v[w];if(x.graph===G&&x.subject["@id"]===T["@id"])return!0}return!1}function k(T,G,v){const w="@"+v;let x=w in T?T[w][0]:G[v];if(v==="embed"){if(x===!0)x="@once";else if(x===!1)x="@never";else if(x!=="@always"&&x!=="@never"&&x!=="@link"&&x!=="@first"&&x!=="@last"&&x!=="@once")throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:T})}return x}function $(T){if(!o.isArray(T)||T.length!==1||!o.isObject(T[0]))throw new c("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:T});if("@id"in T[0]){for(const G of l.asArray(T[0]["@id"]))if(!o.isObject(G)&&!u.isAbsolute(G)||o.isString(G)&&G.indexOf("_:")===0)throw new c("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:T})}if("@type"in T[0]){for(const G of l.asArray(T[0]["@type"]))if(!o.isObject(G)&&!u.isAbsolute(G)||o.isString(G)&&G.indexOf("_:")===0)throw new c("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:T})}}function b(T,G,v,w){let x=!0,j=!1;for(const C in v){let B=!1;const X=l.getValues(G,C),K=l.getValues(v,C).length===0;if(C==="@id"){if(o.isEmptyObject(v["@id"][0]||{})?B=!0:v["@id"].length>=0&&(B=v["@id"].includes(X[0])),!w.requireAll)return B}else if(C==="@type"){if(x=!1,K){if(X.length>0)return!1;B=!0}else if(v["@type"].length===1&&o.isEmptyObject(v["@type"][0]))B=X.length>0;else for(const F of v["@type"])B=!(!o.isObject(F)||!("@default"in F))||B||X.some(U=>U===F);if(!w.requireAll)return B}else{if(i(C))continue;{const F=l.getValues(v,C)[0];let U=!1;if(F&&($([F]),U="@default"in F),x=!1,X.length===0&&U)continue;if(X.length>0&&K)return!1;if(F===void 0){if(X.length>0)return!1;B=!0}else if(s.isList(F)){const z=F["@list"][0];if(s.isList(X[0])){const H=X[0]["@list"];s.isValue(z)?B=H.some(q=>P(z,q)):(s.isSubject(z)||s.isSubjectReference(z))&&(B=H.some(q=>R(T,z,q,w)))}}else B=s.isValue(F)?X.some(z=>P(F,z)):s.isSubjectReference(F)?X.some(z=>R(T,F,z,w)):!!o.isObject(F)&&X.length>0}}if(!B&&w.requireAll)return!1;j=j||B}return x||j}function _(T,G){const v=T.uniqueEmbeds[T.graph],w=v[G],x=w.parent,j=w.property,C={"@id":G};if(o.isArray(x)){for(let X=0;X<x.length;++X)if(l.compareValues(x[X],C)){x[X]=C;break}}else{const X=o.isArray(x[j]);l.removeValue(x,j,C,{propertyIsArray:X}),l.addValue(x,j,C,{propertyIsArray:X})}const B=X=>{const K=Object.keys(v);for(const F of K)F in v&&o.isObject(v[F].parent)&&v[F].parent["@id"]===X&&(delete v[F],B(F))};B(G)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function O(T,G,v){o.isObject(T)?l.addValue(T,G,v,{propertyIsArray:!0}):T.push(v)}function R(T,G,v,w){if(!("@id"in v))return!1;const x=T.subjects[v["@id"]];return x&&b(T,x,G,w)}function P(T,G){const v=G["@value"],w=G["@type"],x=G["@language"],j=T["@value"]?o.isArray(T["@value"])?T["@value"]:[T["@value"]]:[],C=T["@type"]?o.isArray(T["@type"])?T["@type"]:[T["@type"]]:[],B=T["@language"]?o.isArray(T["@language"])?T["@language"]:[T["@language"]]:[];return j.length===0&&C.length===0&&B.length===0||!(!j.includes(v)&&!o.isEmptyObject(j[0]))&&!!(!w&&C.length===0||C.includes(w)||w&&o.isEmptyObject(C[0]))&&!!(!x&&B.length===0||B.includes(x)||x&&o.isEmptyObject(B[0]))}r.exports=h,h.frameMergedOrDefault=(T,G,v)=>{const w={options:v,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},x=new l.IdentifierIssuer("_:b");f(T,w.graphMap,"@default",x),v.merged&&(w.graphMap["@merged"]=d(w.graphMap),w.graph="@merged"),w.subjects=w.graphMap[w.graph];const j=[];return h.frame(w,Object.keys(w.subjects).sort(),G,j),v.pruneBlankNodeIdentifiers&&(v.bnodesToClear=Object.keys(w.bnodeMap).filter(C=>w.bnodeMap[C].length===1)),v.link={},function C(B,X){if(o.isArray(B))return B.map(K=>C(K,X));if(o.isObject(B)){// remove @preserve
if("@preserve"in B)return B["@preserve"][0];if(s.isValue(B))return B;if(s.isList(B))return B["@list"]=C(B["@list"],X),B;if("@id"in B){const K=B["@id"];if(X.link.hasOwnProperty(K)){const F=X.link[K].indexOf(B);if(F!==-1)return X.link[K][F];X.link[K].push(B)}else X.link[K]=[B]}for(const K in B)K==="@id"&&X.bnodesToClear.includes(B[K])?delete B["@id"]:B[K]=C(B[K],X)}return B}(j,v)},h.frame=(T,G,v,w,x=null)=>{$(v),v=v[0];const j=T.options,C={embed:k(v,j,"embed"),explicit:k(v,j,"explicit"),requireAll:k(v,j,"requireAll")};T.link.hasOwnProperty(T.graph)||(T.link[T.graph]={});const B=T.link[T.graph],X=function(F,U,z,H){const q={};for(const g of U){const A=F.graphMap[F.graph][g];b(F,A,z,H)&&(q[g]=A)}return q}(T,G,v,C),K=Object.keys(X).sort();for(const F of K){const U=X[F];if(x===null?T.uniqueEmbeds={[T.graph]:{}}:T.uniqueEmbeds[T.graph]=T.uniqueEmbeds[T.graph]||{},C.embed==="@link"&&F in B){O(w,x,B[F]);continue}const z={"@id":F};if(F.indexOf("_:")===0&&l.addValue(T.bnodeMap,F,z,{propertyIsArray:!0}),B[F]=z,(C.embed==="@first"||C.embed==="@last")&&T.is11)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:v});if(T.embedded||!T.uniqueEmbeds[T.graph].hasOwnProperty(F))if(!T.embedded||C.embed!=="@never"&&!y(U,T.graph,T.subjectStack))if(!T.embedded||C.embed!="@first"&&C.embed!="@once"||!T.uniqueEmbeds[T.graph].hasOwnProperty(F)){if(C.embed==="@last"&&F in T.uniqueEmbeds[T.graph]&&_(T,F),T.uniqueEmbeds[T.graph][F]={parent:w,property:x},T.subjectStack.push({subject:U,graph:T.graph}),F in T.graphMap){let H=!1,q=null;"@graph"in v?(q=v["@graph"][0],H=!(F==="@merged"||F==="@default"),o.isObject(q)||(q={})):(H=T.graph!=="@merged",q={}),H&&h.frame({...T,graph:F,embedded:!1},Object.keys(T.graphMap[F]).sort(),[q],z,"@graph")}"@included"in v&&h.frame({...T,embedded:!1},G,v["@included"],z,"@included");for(const H of Object.keys(U).sort())if(i(H)){if(z[H]=l.clone(U[H]),H==="@type")for(const q of U["@type"])q.indexOf("_:")===0&&l.addValue(T.bnodeMap,q,z,{propertyIsArray:!0})}else if(!C.explicit||H in v)for(const q of U[H]){const g=H in v?v[H]:p(C);if(s.isList(q)){const A=v[H]&&v[H][0]&&v[H][0]["@list"]?v[H][0]["@list"]:p(C),M={"@list":[]};O(z,H,M);const W=q["@list"];for(const Z of W)s.isSubjectReference(Z)?h.frame({...T,embedded:!0},[Z["@id"]],A,M,"@list"):O(M,"@list",l.clone(Z))}else s.isSubjectReference(q)?h.frame({...T,embedded:!0},[q["@id"]],g,z,H):P(g[0],q)&&O(z,H,l.clone(q))}for(const H of Object.keys(v).sort()){if(H==="@type"){if(!o.isObject(v[H][0])||!("@default"in v[H][0]))continue}else if(i(H))continue;const q=v[H][0]||{};if(!k(q,j,"omitDefault")&&!(H in z)){let g="@null";"@default"in q&&(g=l.clone(q["@default"])),o.isArray(g)||(g=[g]),z[H]=[{"@preserve":g}]}}for(const H of Object.keys(v["@reverse"]||{}).sort()){const q=v["@reverse"][H];for(const g of Object.keys(T.subjects))l.getValues(T.subjects[g],H).some(A=>A["@id"]===F)&&(z["@reverse"]=z["@reverse"]||{},l.addValue(z["@reverse"],H,[],{propertyIsArray:!0}),h.frame({...T,embedded:!0},[g],q,z["@reverse"][H],x))}O(w,x,z),T.subjectStack.pop()}else O(w,x,z);else O(w,x,z)}},h.cleanupNull=(T,G)=>{if(o.isArray(T))return T.map(v=>h.cleanupNull(v,G)).filter(v=>v);if(T==="@null")return null;if(o.isObject(T)){if("@id"in T){const v=T["@id"];if(G.link.hasOwnProperty(v)){const w=G.link[v].indexOf(T);if(w!==-1)return G.link[v][w];G.link[v].push(T)}else G.link[v]=[T]}for(const v in T)T[v]=h.cleanupNull(T[v],G)}return T}},function(r,n,a){const i=a(3),{isArray:s,isObject:o,isString:l,isUndefined:u}=a(1),{isList:c,isValue:f,isGraph:d,isSimpleGraph:h,isSubjectReference:p}=a(4),{expandIri:y,getContextValue:k,isKeyword:$,process:b,processingMode:_}=a(6),{removeBase:O,prependBase:R}=a(5),{addValue:P,asArray:T,compareShortestLeast:G}=a(2),v={};function w(x,j,C){if(y(x,j,{vocab:!0},C)!=="@nest")throw new i("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}r.exports=v,v.compact=async({activeCtx:x,activeProperty:j=null,element:C,options:B={},compactionMap:X=()=>{}})=>{if(s(C)){let F=[];for(let U=0;U<C.length;++U){let z=await v.compact({activeCtx:x,activeProperty:j,element:C[U],options:B,compactionMap:X});z===null&&(z=await X({unmappedValue:C[U],activeCtx:x,activeProperty:j,parent:C,index:U,options:B}),z===void 0)||F.push(z)}return B.compactArrays&&F.length===1&&(k(x,j,"@container")||[]).length===0&&(F=F[0]),F}const K=k(x,j,"@context");if(u(K)||(x=await b({activeCtx:x,localCtx:K,propagate:!0,overrideProtected:!0,options:B})),o(C)){if(B.link&&"@id"in C&&B.link.hasOwnProperty(C["@id"])){const M=B.link[C["@id"]];for(let W=0;W<M.length;++W)if(M[W].expanded===C)return M[W].compacted}if(f(C)||p(C)){const M=v.compactValue({activeCtx:x,activeProperty:j,value:C,options:B});return B.link&&p(C)&&(B.link.hasOwnProperty(C["@id"])||(B.link[C["@id"]]=[]),B.link[C["@id"]].push({expanded:C,compacted:M})),M}if(c(C)&&(k(x,j,"@container")||[]).includes("@list"))return v.compact({activeCtx:x,activeProperty:j,element:C["@list"],options:B,compactionMap:X});const F=j==="@reverse",U={},z=x;f(C)||p(C)||(x=x.revertToPreviousContext());const H=k(z,j,"@context");u(H)||(x=await b({activeCtx:x,localCtx:H,propagate:!0,overrideProtected:!0,options:B})),B.link&&"@id"in C&&(B.link.hasOwnProperty(C["@id"])||(B.link[C["@id"]]=[]),B.link[C["@id"]].push({expanded:C,compacted:U}));let q=C["@type"]||[];q.length>1&&(q=Array.from(q).sort());const g=x;for(const M of q){const W=v.compactIri({activeCtx:g,iri:M,relativeTo:{vocab:!0}}),Z=k(z,W,"@context");u(Z)||(x=await b({activeCtx:x,localCtx:Z,options:B,propagate:!1}))}const A=Object.keys(C).sort();for(const M of A){const W=C[M];if(M!=="@id")if(M!=="@type")if(M!=="@reverse")if(M!=="@preserve")if(M!=="@index")if(M!=="@graph"&&M!=="@list"&&M!=="@included"&&$(M)){const Z=v.compactIri({activeCtx:x,iri:M,relativeTo:{vocab:!0}});P(U,Z,W)}else{if(!s(W))throw new i("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(W.length===0){const Z=v.compactIri({activeCtx:x,iri:M,value:W,relativeTo:{vocab:!0},reverse:F}),N=x.mappings.has(Z)?x.mappings.get(Z)["@nest"]:null;let ee=U;N&&(w(x,N,B),o(U[N])||(U[N]={}),ee=U[N]),P(ee,Z,W,{propertyIsArray:!0})}for(const Z of W){const N=v.compactIri({activeCtx:x,iri:M,value:Z,relativeTo:{vocab:!0},reverse:F}),ee=x.mappings.has(N)?x.mappings.get(N)["@nest"]:null;let ne=U;ee&&(w(x,ee,B),o(U[ee])||(U[ee]={}),ne=U[ee]);const m=k(x,N,"@container")||[],E=d(Z),D=c(Z);let S;D?S=Z["@list"]:E&&(S=Z["@graph"]);let I=await v.compact({activeCtx:x,activeProperty:N,element:D||E?S:Z,options:B,compactionMap:X});if(D){if(s(I)||(I=[I]),m.includes("@list")){P(ne,N,I,{valueIsArray:!0,allowDuplicate:!0});continue}I={[v.compactIri({activeCtx:x,iri:"@list",relativeTo:{vocab:!0}})]:I},"@index"in Z&&(I[v.compactIri({activeCtx:x,iri:"@index",relativeTo:{vocab:!0}})]=Z["@index"])}if(E)if(m.includes("@graph")&&(m.includes("@id")||m.includes("@index")&&h(Z))){let L;ne.hasOwnProperty(N)?L=ne[N]:ne[N]=L={};const Q=(m.includes("@id")?Z["@id"]:Z["@index"])||v.compactIri({activeCtx:x,iri:"@none",relativeTo:{vocab:!0}});P(L,Q,I,{propertyIsArray:!B.compactArrays||m.includes("@set")})}else m.includes("@graph")&&h(Z)?(s(I)&&I.length>1&&(I={"@included":I}),P(ne,N,I,{propertyIsArray:!B.compactArrays||m.includes("@set")})):(s(I)&&I.length===1&&B.compactArrays&&(I=I[0]),I={[v.compactIri({activeCtx:x,iri:"@graph",relativeTo:{vocab:!0}})]:I},"@id"in Z&&(I[v.compactIri({activeCtx:x,iri:"@id",relativeTo:{vocab:!0}})]=Z["@id"]),"@index"in Z&&(I[v.compactIri({activeCtx:x,iri:"@index",relativeTo:{vocab:!0}})]=Z["@index"]),P(ne,N,I,{propertyIsArray:!B.compactArrays||m.includes("@set")}));else if(m.includes("@language")||m.includes("@index")||m.includes("@id")||m.includes("@type")){let L,Q;if(ne.hasOwnProperty(N)?L=ne[N]:ne[N]=L={},m.includes("@language"))f(I)&&(I=I["@value"]),Q=Z["@language"];else if(m.includes("@index")){const re=k(x,N,"@index")||"@index",ue=v.compactIri({activeCtx:x,iri:re,relativeTo:{vocab:!0}});if(re==="@index")Q=Z["@index"],delete I[ue];else{let he;if([Q,...he]=T(I[re]||[]),l(Q))switch(he.length){case 0:delete I[re];break;case 1:I[re]=he[0];break;default:I[re]=he}else Q=null}}else if(m.includes("@id")){const re=v.compactIri({activeCtx:x,iri:"@id",relativeTo:{vocab:!0}});Q=I[re],delete I[re]}else if(m.includes("@type")){const re=v.compactIri({activeCtx:x,iri:"@type",relativeTo:{vocab:!0}});let ue;switch([Q,...ue]=T(I[re]||[]),ue.length){case 0:delete I[re];break;case 1:I[re]=ue[0];break;default:I[re]=ue}Object.keys(I).length===1&&"@id"in Z&&(I=await v.compact({activeCtx:x,activeProperty:N,element:{"@id":Z["@id"]},options:B,compactionMap:X}))}Q||(Q=v.compactIri({activeCtx:x,iri:"@none",relativeTo:{vocab:!0}})),P(L,Q,I,{propertyIsArray:m.includes("@set")})}else{const L=!B.compactArrays||m.includes("@set")||m.includes("@list")||s(I)&&I.length===0||M==="@list"||M==="@graph";P(ne,N,I,{propertyIsArray:L})}}}else{if((k(x,j,"@container")||[]).includes("@index"))continue;const Z=v.compactIri({activeCtx:x,iri:M,relativeTo:{vocab:!0}});P(U,Z,W)}else{const Z=await v.compact({activeCtx:x,activeProperty:j,element:W,options:B,compactionMap:X});s(Z)&&Z.length===0||P(U,M,Z)}else{const Z=await v.compact({activeCtx:x,activeProperty:"@reverse",element:W,options:B,compactionMap:X});for(const N in Z)if(x.mappings.has(N)&&x.mappings.get(N).reverse){const ee=Z[N],ne=(k(x,N,"@container")||[]).includes("@set")||!B.compactArrays;P(U,N,ee,{propertyIsArray:ne}),delete Z[N]}if(Object.keys(Z).length>0){const N=v.compactIri({activeCtx:x,iri:M,relativeTo:{vocab:!0}});P(U,N,Z)}}else{let Z=T(W).map(ne=>v.compactIri({activeCtx:z,iri:ne,relativeTo:{vocab:!0}}));Z.length===1&&(Z=Z[0]);const N=v.compactIri({activeCtx:x,iri:"@type",relativeTo:{vocab:!0}}),ee=(k(x,N,"@container")||[]).includes("@set")&&_(x,1.1)||s(Z)&&W.length===0;P(U,N,Z,{propertyIsArray:ee})}else{let Z=T(W).map(N=>v.compactIri({activeCtx:x,iri:N,relativeTo:{vocab:!1},base:B.base}));Z.length===1&&(Z=Z[0]),U[v.compactIri({activeCtx:x,iri:"@id",relativeTo:{vocab:!0}})]=Z}}return U}return C},v.compactIri=({activeCtx:x,iri:j,value:C=null,relativeTo:B={vocab:!1},reverse:X=!1,base:K=null})=>{if(j===null)return j;x.isPropertyTermScoped&&x.previousContext&&(x=x.previousContext);const F=x.getInverse();if($(j)&&j in F&&"@none"in F[j]&&"@type"in F[j]["@none"]&&"@none"in F[j]["@none"]["@type"])return F[j]["@none"]["@type"]["@none"];if(B.vocab&&j in F){const g=x["@language"]||"@none",A=[];o(C)&&"@index"in C&&!("@graph"in C)&&A.push("@index","@index@set"),o(C)&&"@preserve"in C&&(C=C["@preserve"][0]),d(C)?("@index"in C&&A.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in C&&A.push("@graph@id","@graph@id@set"),A.push("@graph","@graph@set","@set"),"@index"in C||A.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in C||A.push("@graph@id","@graph@id@set")):o(C)&&!f(C)&&A.push("@id","@id@set","@type","@set@type");let M="@language",W="@null";if(X)M="@type",W="@reverse",A.push("@set");else if(c(C)){"@index"in C||A.push("@list");const N=C["@list"];if(N.length===0)M="@any",W="@none";else{let ee=N.length===0?g:null,ne=null;for(let m=0;m<N.length;++m){const E=N[m];let D="@none",S="@none";if(f(E)?"@direction"in E?D=`${(E["@language"]||"").toLowerCase()}_${E["@direction"]}`:"@language"in E?D=E["@language"].toLowerCase():"@type"in E?S=E["@type"]:D="@null":S="@id",ee===null?ee=D:D!==ee&&f(E)&&(ee="@none"),ne===null?ne=S:S!==ne&&(ne="@none"),ee==="@none"&&ne==="@none")break}ee=ee||"@none",ne=ne||"@none",ne!=="@none"?(M="@type",W=ne):W=ee}}else{if(f(C))if("@language"in C&&!("@index"in C)){A.push("@language","@language@set"),W=C["@language"];const N=C["@direction"];N&&(W=`${W}_${N}`)}else"@direction"in C&&!("@index"in C)?W="_"+C["@direction"]:"@type"in C&&(M="@type",W=C["@type"]);else M="@type",W="@id";A.push("@set")}A.push("@none"),o(C)&&!("@index"in C)&&A.push("@index","@index@set"),f(C)&&Object.keys(C).length===1&&A.push("@language","@language@set");const Z=function(N,ee,ne,m,E,D){D===null&&(D="@null");const S=[];if((D==="@id"||D==="@reverse")&&o(ne)&&"@id"in ne){D==="@reverse"&&S.push("@reverse");const L=v.compactIri({activeCtx:N,iri:ne["@id"],relativeTo:{vocab:!0}});N.mappings.has(L)&&N.mappings.get(L)&&N.mappings.get(L)["@id"]===ne["@id"]?S.push.apply(S,["@vocab","@id"]):S.push.apply(S,["@id","@vocab"])}else{S.push(D);const L=S.find(Q=>Q.includes("_"));L&&S.push(L.replace(/^[^_]+_/,"_"))}S.push("@none");const I=N.inverse[ee];for(const L of m){if(!(L in I))continue;const Q=I[L][E];for(const re of S)if(re in Q)return Q[re]}return null}(x,j,C,A,M,W);if(Z!==null)return Z}if(B.vocab&&"@vocab"in x){const g=x["@vocab"];if(j.indexOf(g)===0&&j!==g){const A=j.substr(g.length);if(!x.mappings.has(A))return A}}let U=null;const z=[];let H=x.fastCurieMap;const q=j.length-1;for(let g=0;g<q&&j[g]in H;++g)H=H[j[g]],""in H&&z.push(H[""][0]);for(let g=z.length-1;g>=0;--g){const A=z[g],M=A.terms;for(const W of M){const Z=W+":"+j.substr(A.iri.length);x.mappings.get(W)._prefix&&(!x.mappings.has(Z)||C===null&&x.mappings.get(Z)["@id"]===j)&&(U===null||G(Z,U)<0)&&(U=Z)}}if(U!==null)return U;for(const[g,A]of x.mappings)if(A&&A._prefix&&j.startsWith(g+":"))throw new i(`Absolute IRI "${j}" confused with prefix "${g}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:x});return B.vocab?j:"@base"in x?x["@base"]?O(R(K,x["@base"]),j):j:O(K,j)},v.compactValue=({activeCtx:x,activeProperty:j,value:C,options:B})=>{if(f(C)){const U=k(x,j,"@type"),z=k(x,j,"@language"),H=k(x,j,"@direction"),q=k(x,j,"@container")||[],g="@index"in C&&!q.includes("@index");if(!g&&U!=="@none"&&(C["@type"]===U||"@language"in C&&C["@language"]===z&&"@direction"in C&&C["@direction"]===H||"@language"in C&&C["@language"]===z||"@direction"in C&&C["@direction"]===H))return C["@value"];const A=Object.keys(C).length,M=A===1||A===2&&"@index"in C&&!g,W="@language"in x,Z=l(C["@value"]),N=x.mappings.has(j)&&x.mappings.get(j)["@language"]===null;if(M&&U!=="@none"&&(!W||!Z||N))return C["@value"];const ee={};return g&&(ee[v.compactIri({activeCtx:x,iri:"@index",relativeTo:{vocab:!0}})]=C["@index"]),"@type"in C?ee[v.compactIri({activeCtx:x,iri:"@type",relativeTo:{vocab:!0}})]=v.compactIri({activeCtx:x,iri:C["@type"],relativeTo:{vocab:!0}}):"@language"in C&&(ee[v.compactIri({activeCtx:x,iri:"@language",relativeTo:{vocab:!0}})]=C["@language"]),"@direction"in C&&(ee[v.compactIri({activeCtx:x,iri:"@direction",relativeTo:{vocab:!0}})]=C["@direction"]),ee[v.compactIri({activeCtx:x,iri:"@value",relativeTo:{vocab:!0}})]=C["@value"],ee}const X=y(x,j,{vocab:!0},B),K=k(x,j,"@type"),F=v.compactIri({activeCtx:x,iri:C["@id"],relativeTo:{vocab:K==="@vocab"},base:B.base});return K==="@id"||K==="@vocab"||X==="@graph"?F:{[v.compactIri({activeCtx:x,iri:"@id",relativeTo:{vocab:!0}})]:F}}},function(r,n,a){r.exports=i=>{class s{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(s,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(s.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:s}),s.compact=function(o,l){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):i.compact(o,l)},s.expand=function(o){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):i.expand(o)},s.flatten=function(o){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):i.flatten(o)},s}},function(r,n,a){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=a(46),o=a(47),l=a(48);function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(m,E){if(u()<E)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(m=new Uint8Array(E)).__proto__=f.prototype:(m===null&&(m=new f(E)),m.length=E),m}function f(m,E,D){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(m,E,D);if(typeof m=="number"){if(typeof E=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,m)}return d(this,m,E,D)}function d(m,E,D,S){if(typeof E=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer?function(I,L,Q,re){if(L.byteLength,Q<0||L.byteLength<Q)throw new RangeError("'offset' is out of bounds");if(L.byteLength<Q+(re||0))throw new RangeError("'length' is out of bounds");return L=Q===void 0&&re===void 0?new Uint8Array(L):re===void 0?new Uint8Array(L,Q):new Uint8Array(L,Q,re),f.TYPED_ARRAY_SUPPORT?(I=L).__proto__=f.prototype:I=y(I,L),I}(m,E,D,S):typeof E=="string"?function(I,L,Q){if(typeof Q=="string"&&Q!==""||(Q="utf8"),!f.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');var re=0|$(L,Q),ue=(I=c(I,re)).write(L,Q);return ue!==re&&(I=I.slice(0,ue)),I}(m,E,D):function(I,L){if(f.isBuffer(L)){var Q=0|k(L.length);return(I=c(I,Q)).length===0||L.copy(I,0,0,Q),I}if(L){if(typeof ArrayBuffer<"u"&&L.buffer instanceof ArrayBuffer||"length"in L)return typeof L.length!="number"||(re=L.length)!=re?c(I,0):y(I,L);if(L.type==="Buffer"&&l(L.data))return y(I,L.data)}var re;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(m,E)}function h(m){if(typeof m!="number")throw new TypeError('"size" argument must be a number');if(m<0)throw new RangeError('"size" argument must not be negative')}function p(m,E){if(h(E),m=c(m,E<0?0:0|k(E)),!f.TYPED_ARRAY_SUPPORT)for(var D=0;D<E;++D)m[D]=0;return m}function y(m,E){var D=E.length<0?0:0|k(E.length);m=c(m,D);for(var S=0;S<D;S+=1)m[S]=255&E[S];return m}function k(m){if(m>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|m}function $(m,E){if(f.isBuffer(m))return m.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(m)||m instanceof ArrayBuffer))return m.byteLength;typeof m!="string"&&(m=""+m);var D=m.length;if(D===0)return 0;for(var S=!1;;)switch(E){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return N(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return ee(m).length;default:if(S)return N(m).length;E=(""+E).toLowerCase(),S=!0}}function b(m,E,D){var S=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0)<=(E>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return K(this,E,D);case"utf8":case"utf-8":return C(this,E,D);case"ascii":return B(this,E,D);case"latin1":case"binary":return X(this,E,D);case"base64":return j(this,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,E,D);default:if(S)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),S=!0}}function _(m,E,D){var S=m[E];m[E]=m[D],m[D]=S}function O(m,E,D,S,I){if(m.length===0)return-1;if(typeof D=="string"?(S=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=I?0:m.length-1),D<0&&(D=m.length+D),D>=m.length){if(I)return-1;D=m.length-1}else if(D<0){if(!I)return-1;D=0}if(typeof E=="string"&&(E=f.from(E,S)),f.isBuffer(E))return E.length===0?-1:R(m,E,D,S,I);if(typeof E=="number")return E&=255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(m,E,D):Uint8Array.prototype.lastIndexOf.call(m,E,D):R(m,[E],D,S,I);throw new TypeError("val must be string, number or Buffer")}function R(m,E,D,S,I){var L,Q=1,re=m.length,ue=E.length;if(S!==void 0&&((S=String(S).toLowerCase())==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(m.length<2||E.length<2)return-1;Q=2,re/=2,ue/=2,D/=2}function he(ie,be){return Q===1?ie[be]:ie.readUInt16BE(be*Q)}if(I){var ce=-1;for(L=D;L<re;L++)if(he(m,L)===he(E,ce===-1?0:L-ce)){if(ce===-1&&(ce=L),L-ce+1===ue)return ce*Q}else ce!==-1&&(L-=L-ce),ce=-1}else for(D+ue>re&&(D=re-ue),L=D;L>=0;L--){for(var pe=!0,Y=0;Y<ue;Y++)if(he(m,L+Y)!==he(E,Y)){pe=!1;break}if(pe)return L}return-1}function P(m,E,D,S){D=Number(D)||0;var I=m.length-D;S?(S=Number(S))>I&&(S=I):S=I;var L=E.length;if(L%2!=0)throw new TypeError("Invalid hex string");S>L/2&&(S=L/2);for(var Q=0;Q<S;++Q){var re=parseInt(E.substr(2*Q,2),16);if(isNaN(re))return Q;m[D+Q]=re}return Q}function T(m,E,D,S){return ne(N(E,m.length-D),m,D,S)}function G(m,E,D,S){return ne(function(I){for(var L=[],Q=0;Q<I.length;++Q)L.push(255&I.charCodeAt(Q));return L}(E),m,D,S)}function v(m,E,D,S){return G(m,E,D,S)}function w(m,E,D,S){return ne(ee(E),m,D,S)}function x(m,E,D,S){return ne(function(I,L){for(var Q,re,ue,he=[],ce=0;ce<I.length&&!((L-=2)<0);++ce)Q=I.charCodeAt(ce),re=Q>>8,ue=Q%256,he.push(ue),he.push(re);return he}(E,m.length-D),m,D,S)}function j(m,E,D){return E===0&&D===m.length?s.fromByteArray(m):s.fromByteArray(m.slice(E,D))}function C(m,E,D){D=Math.min(m.length,D);for(var S=[],I=E;I<D;){var L,Q,re,ue,he=m[I],ce=null,pe=he>239?4:he>223?3:he>191?2:1;if(I+pe<=D)switch(pe){case 1:he<128&&(ce=he);break;case 2:(192&(L=m[I+1]))==128&&(ue=(31&he)<<6|63&L)>127&&(ce=ue);break;case 3:L=m[I+1],Q=m[I+2],(192&L)==128&&(192&Q)==128&&(ue=(15&he)<<12|(63&L)<<6|63&Q)>2047&&(ue<55296||ue>57343)&&(ce=ue);break;case 4:L=m[I+1],Q=m[I+2],re=m[I+3],(192&L)==128&&(192&Q)==128&&(192&re)==128&&(ue=(15&he)<<18|(63&L)<<12|(63&Q)<<6|63&re)>65535&&ue<1114112&&(ce=ue)}ce===null?(ce=65533,pe=1):ce>65535&&(ce-=65536,S.push(ce>>>10&1023|55296),ce=56320|1023&ce),S.push(ce),I+=pe}return function(Y){var ie=Y.length;if(ie<=4096)return String.fromCharCode.apply(String,Y);for(var be="",ye=0;ye<ie;)be+=String.fromCharCode.apply(String,Y.slice(ye,ye+=4096));return be}(S)}n.Buffer=f,n.SlowBuffer=function(m){return+m!=m&&(m=0),f.alloc(+m)},n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var m=new Uint8Array(1);return m.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},m.foo()===42&&typeof m.subarray=="function"&&m.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=u(),f.poolSize=8192,f._augment=function(m){return m.__proto__=f.prototype,m},f.from=function(m,E,D){return d(null,m,E,D)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(m,E,D){return function(S,I,L,Q){return h(I),I<=0?c(S,I):L!==void 0?typeof Q=="string"?c(S,I).fill(L,Q):c(S,I).fill(L):c(S,I)}(null,m,E,D)},f.allocUnsafe=function(m){return p(null,m)},f.allocUnsafeSlow=function(m){return p(null,m)},f.isBuffer=function(m){return!(m==null||!m._isBuffer)},f.compare=function(m,E){if(!f.isBuffer(m)||!f.isBuffer(E))throw new TypeError("Arguments must be Buffers");if(m===E)return 0;for(var D=m.length,S=E.length,I=0,L=Math.min(D,S);I<L;++I)if(m[I]!==E[I]){D=m[I],S=E[I];break}return D<S?-1:S<D?1:0},f.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(m,E){if(!l(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return f.alloc(0);var D;if(E===void 0)for(E=0,D=0;D<m.length;++D)E+=m[D].length;var S=f.allocUnsafe(E),I=0;for(D=0;D<m.length;++D){var L=m[D];if(!f.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(S,I),I+=L.length}return S},f.byteLength=$,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<m;E+=2)_(this,E,E+1);return this},f.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<m;E+=4)_(this,E,E+3),_(this,E+1,E+2);return this},f.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<m;E+=8)_(this,E,E+7),_(this,E+1,E+6),_(this,E+2,E+5),_(this,E+3,E+4);return this},f.prototype.toString=function(){var m=0|this.length;return m===0?"":arguments.length===0?C(this,0,m):b.apply(this,arguments)},f.prototype.equals=function(m){if(!f.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||f.compare(this,m)===0},f.prototype.inspect=function(){var m="",E=n.INSPECT_MAX_BYTES;return this.length>0&&(m=this.toString("hex",0,E).match(/.{2}/g).join(" "),this.length>E&&(m+=" ... ")),"<Buffer "+m+">"},f.prototype.compare=function(m,E,D,S,I){if(!f.isBuffer(m))throw new TypeError("Argument must be a Buffer");if(E===void 0&&(E=0),D===void 0&&(D=m?m.length:0),S===void 0&&(S=0),I===void 0&&(I=this.length),E<0||D>m.length||S<0||I>this.length)throw new RangeError("out of range index");if(S>=I&&E>=D)return 0;if(S>=I)return-1;if(E>=D)return 1;if(this===m)return 0;for(var L=(I>>>=0)-(S>>>=0),Q=(D>>>=0)-(E>>>=0),re=Math.min(L,Q),ue=this.slice(S,I),he=m.slice(E,D),ce=0;ce<re;++ce)if(ue[ce]!==he[ce]){L=ue[ce],Q=he[ce];break}return L<Q?-1:Q<L?1:0},f.prototype.includes=function(m,E,D){return this.indexOf(m,E,D)!==-1},f.prototype.indexOf=function(m,E,D){return O(this,m,E,D,!0)},f.prototype.lastIndexOf=function(m,E,D){return O(this,m,E,D,!1)},f.prototype.write=function(m,E,D,S){if(E===void 0)S="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")S=E,D=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E|=0,isFinite(D)?(D|=0,S===void 0&&(S="utf8")):(S=D,D=void 0)}var I=this.length-E;if((D===void 0||D>I)&&(D=I),m.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");for(var L=!1;;)switch(S){case"hex":return P(this,m,E,D);case"utf8":case"utf-8":return T(this,m,E,D);case"ascii":return G(this,m,E,D);case"latin1":case"binary":return v(this,m,E,D);case"base64":return w(this,m,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,m,E,D);default:if(L)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),L=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(m,E,D){var S="";D=Math.min(m.length,D);for(var I=E;I<D;++I)S+=String.fromCharCode(127&m[I]);return S}function X(m,E,D){var S="";D=Math.min(m.length,D);for(var I=E;I<D;++I)S+=String.fromCharCode(m[I]);return S}function K(m,E,D){var S=m.length;(!E||E<0)&&(E=0),(!D||D<0||D>S)&&(D=S);for(var I="",L=E;L<D;++L)I+=Z(m[L]);return I}function F(m,E,D){for(var S=m.slice(E,D),I="",L=0;L<S.length;L+=2)I+=String.fromCharCode(S[L]+256*S[L+1]);return I}function U(m,E,D){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+E>D)throw new RangeError("Trying to access beyond buffer length")}function z(m,E,D,S,I,L){if(!f.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>I||E<L)throw new RangeError('"value" argument is out of bounds');if(D+S>m.length)throw new RangeError("Index out of range")}function H(m,E,D,S){E<0&&(E=65535+E+1);for(var I=0,L=Math.min(m.length-D,2);I<L;++I)m[D+I]=(E&255<<8*(S?I:1-I))>>>8*(S?I:1-I)}function q(m,E,D,S){E<0&&(E=4294967295+E+1);for(var I=0,L=Math.min(m.length-D,4);I<L;++I)m[D+I]=E>>>8*(S?I:3-I)&255}function g(m,E,D,S,I,L){if(D+S>m.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function A(m,E,D,S,I){return I||g(m,0,D,4),o.write(m,E,D,S,23,4),D+4}function M(m,E,D,S,I){return I||g(m,0,D,8),o.write(m,E,D,S,52,8),D+8}f.prototype.slice=function(m,E){var D,S=this.length;if((m=~~m)<0?(m+=S)<0&&(m=0):m>S&&(m=S),(E=E===void 0?S:~~E)<0?(E+=S)<0&&(E=0):E>S&&(E=S),E<m&&(E=m),f.TYPED_ARRAY_SUPPORT)(D=this.subarray(m,E)).__proto__=f.prototype;else{var I=E-m;D=new f(I,void 0);for(var L=0;L<I;++L)D[L]=this[L+m]}return D},f.prototype.readUIntLE=function(m,E,D){m|=0,E|=0,D||U(m,E,this.length);for(var S=this[m],I=1,L=0;++L<E&&(I*=256);)S+=this[m+L]*I;return S},f.prototype.readUIntBE=function(m,E,D){m|=0,E|=0,D||U(m,E,this.length);for(var S=this[m+--E],I=1;E>0&&(I*=256);)S+=this[m+--E]*I;return S},f.prototype.readUInt8=function(m,E){return E||U(m,1,this.length),this[m]},f.prototype.readUInt16LE=function(m,E){return E||U(m,2,this.length),this[m]|this[m+1]<<8},f.prototype.readUInt16BE=function(m,E){return E||U(m,2,this.length),this[m]<<8|this[m+1]},f.prototype.readUInt32LE=function(m,E){return E||U(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},f.prototype.readUInt32BE=function(m,E){return E||U(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},f.prototype.readIntLE=function(m,E,D){m|=0,E|=0,D||U(m,E,this.length);for(var S=this[m],I=1,L=0;++L<E&&(I*=256);)S+=this[m+L]*I;return S>=(I*=128)&&(S-=Math.pow(2,8*E)),S},f.prototype.readIntBE=function(m,E,D){m|=0,E|=0,D||U(m,E,this.length);for(var S=E,I=1,L=this[m+--S];S>0&&(I*=256);)L+=this[m+--S]*I;return L>=(I*=128)&&(L-=Math.pow(2,8*E)),L},f.prototype.readInt8=function(m,E){return E||U(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},f.prototype.readInt16LE=function(m,E){E||U(m,2,this.length);var D=this[m]|this[m+1]<<8;return 32768&D?4294901760|D:D},f.prototype.readInt16BE=function(m,E){E||U(m,2,this.length);var D=this[m+1]|this[m]<<8;return 32768&D?4294901760|D:D},f.prototype.readInt32LE=function(m,E){return E||U(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},f.prototype.readInt32BE=function(m,E){return E||U(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},f.prototype.readFloatLE=function(m,E){return E||U(m,4,this.length),o.read(this,m,!0,23,4)},f.prototype.readFloatBE=function(m,E){return E||U(m,4,this.length),o.read(this,m,!1,23,4)},f.prototype.readDoubleLE=function(m,E){return E||U(m,8,this.length),o.read(this,m,!0,52,8)},f.prototype.readDoubleBE=function(m,E){return E||U(m,8,this.length),o.read(this,m,!1,52,8)},f.prototype.writeUIntLE=function(m,E,D,S){m=+m,E|=0,D|=0,S||z(this,m,E,D,Math.pow(2,8*D)-1,0);var I=1,L=0;for(this[E]=255&m;++L<D&&(I*=256);)this[E+L]=m/I&255;return E+D},f.prototype.writeUIntBE=function(m,E,D,S){m=+m,E|=0,D|=0,S||z(this,m,E,D,Math.pow(2,8*D)-1,0);var I=D-1,L=1;for(this[E+I]=255&m;--I>=0&&(L*=256);)this[E+I]=m/L&255;return E+D},f.prototype.writeUInt8=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,1,255,0),f.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),this[E]=255&m,E+1},f.prototype.writeUInt16LE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[E]=255&m,this[E+1]=m>>>8):H(this,m,E,!0),E+2},f.prototype.writeUInt16BE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[E]=m>>>8,this[E+1]=255&m):H(this,m,E,!1),E+2},f.prototype.writeUInt32LE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[E+3]=m>>>24,this[E+2]=m>>>16,this[E+1]=m>>>8,this[E]=255&m):q(this,m,E,!0),E+4},f.prototype.writeUInt32BE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m):q(this,m,E,!1),E+4},f.prototype.writeIntLE=function(m,E,D,S){if(m=+m,E|=0,!S){var I=Math.pow(2,8*D-1);z(this,m,E,D,I-1,-I)}var L=0,Q=1,re=0;for(this[E]=255&m;++L<D&&(Q*=256);)m<0&&re===0&&this[E+L-1]!==0&&(re=1),this[E+L]=(m/Q>>0)-re&255;return E+D},f.prototype.writeIntBE=function(m,E,D,S){if(m=+m,E|=0,!S){var I=Math.pow(2,8*D-1);z(this,m,E,D,I-1,-I)}var L=D-1,Q=1,re=0;for(this[E+L]=255&m;--L>=0&&(Q*=256);)m<0&&re===0&&this[E+L+1]!==0&&(re=1),this[E+L]=(m/Q>>0)-re&255;return E+D},f.prototype.writeInt8=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,1,127,-128),f.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),m<0&&(m=255+m+1),this[E]=255&m,E+1},f.prototype.writeInt16LE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[E]=255&m,this[E+1]=m>>>8):H(this,m,E,!0),E+2},f.prototype.writeInt16BE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[E]=m>>>8,this[E+1]=255&m):H(this,m,E,!1),E+2},f.prototype.writeInt32LE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[E]=255&m,this[E+1]=m>>>8,this[E+2]=m>>>16,this[E+3]=m>>>24):q(this,m,E,!0),E+4},f.prototype.writeInt32BE=function(m,E,D){return m=+m,E|=0,D||z(this,m,E,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),f.TYPED_ARRAY_SUPPORT?(this[E]=m>>>24,this[E+1]=m>>>16,this[E+2]=m>>>8,this[E+3]=255&m):q(this,m,E,!1),E+4},f.prototype.writeFloatLE=function(m,E,D){return A(this,m,E,!0,D)},f.prototype.writeFloatBE=function(m,E,D){return A(this,m,E,!1,D)},f.prototype.writeDoubleLE=function(m,E,D){return M(this,m,E,!0,D)},f.prototype.writeDoubleBE=function(m,E,D){return M(this,m,E,!1,D)},f.prototype.copy=function(m,E,D,S){if(D||(D=0),S||S===0||(S=this.length),E>=m.length&&(E=m.length),E||(E=0),S>0&&S<D&&(S=D),S===D||m.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("sourceStart out of bounds");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),m.length-E<S-D&&(S=m.length-E+D);var I,L=S-D;if(this===m&&D<E&&E<S)for(I=L-1;I>=0;--I)m[I+E]=this[I+D];else if(L<1e3||!f.TYPED_ARRAY_SUPPORT)for(I=0;I<L;++I)m[I+E]=this[I+D];else Uint8Array.prototype.set.call(m,this.subarray(D,D+L),E);return L},f.prototype.fill=function(m,E,D,S){if(typeof m=="string"){if(typeof E=="string"?(S=E,E=0,D=this.length):typeof D=="string"&&(S=D,D=this.length),m.length===1){var I=m.charCodeAt(0);I<256&&(m=I)}if(S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!f.isEncoding(S))throw new TypeError("Unknown encoding: "+S)}else typeof m=="number"&&(m&=255);if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;var L;if(E>>>=0,D=D===void 0?this.length:D>>>0,m||(m=0),typeof m=="number")for(L=E;L<D;++L)this[L]=m;else{var Q=f.isBuffer(m)?m:N(new f(m,S).toString()),re=Q.length;for(L=0;L<D-E;++L)this[L+E]=Q[L%re]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function Z(m){return m<16?"0"+m.toString(16):m.toString(16)}function N(m,E){var D;E=E||1/0;for(var S=m.length,I=null,L=[],Q=0;Q<S;++Q){if((D=m.charCodeAt(Q))>55295&&D<57344){if(!I){if(D>56319){(E-=3)>-1&&L.push(239,191,189);continue}if(Q+1===S){(E-=3)>-1&&L.push(239,191,189);continue}I=D;continue}if(D<56320){(E-=3)>-1&&L.push(239,191,189),I=D;continue}D=65536+(I-55296<<10|D-56320)}else I&&(E-=3)>-1&&L.push(239,191,189);if(I=null,D<128){if((E-=1)<0)break;L.push(D)}else if(D<2048){if((E-=2)<0)break;L.push(D>>6|192,63&D|128)}else if(D<65536){if((E-=3)<0)break;L.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;L.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return L}function ee(m){return s.toByteArray(function(E){if((E=function(D){return D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")}(E).replace(W,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}(m))}function ne(m,E,D,S){for(var I=0;I<S&&!(I+D>=E.length||I>=m.length);++I)E[I+D]=m[I];return I}}).call(this,a(8))},function(r,n,a){n.byteLength=function(h){var p=f(h),y=p[0],k=p[1];return 3*(y+k)/4-k},n.toByteArray=function(h){var p,y,k=f(h),$=k[0],b=k[1],_=new o(function(P,T,G){return 3*(T+G)/4-G}(0,$,b)),O=0,R=b>0?$-4:$;for(y=0;y<R;y+=4)p=s[h.charCodeAt(y)]<<18|s[h.charCodeAt(y+1)]<<12|s[h.charCodeAt(y+2)]<<6|s[h.charCodeAt(y+3)],_[O++]=p>>16&255,_[O++]=p>>8&255,_[O++]=255&p;return b===2&&(p=s[h.charCodeAt(y)]<<2|s[h.charCodeAt(y+1)]>>4,_[O++]=255&p),b===1&&(p=s[h.charCodeAt(y)]<<10|s[h.charCodeAt(y+1)]<<4|s[h.charCodeAt(y+2)]>>2,_[O++]=p>>8&255,_[O++]=255&p),_},n.fromByteArray=function(h){for(var p,y=h.length,k=y%3,$=[],b=0,_=y-k;b<_;b+=16383)$.push(d(h,b,b+16383>_?_:b+16383));return k===1?(p=h[y-1],$.push(i[p>>2]+i[p<<4&63]+"==")):k===2&&(p=(h[y-2]<<8)+h[y-1],$.push(i[p>>10]+i[p>>4&63]+i[p<<2&63]+"=")),$.join("")};for(var i=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)i[u]=l[u],s[l.charCodeAt(u)]=u;function f(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=p),[y,y===p?0:4-y%4]}function d(h,p,y){for(var k,$,b=[],_=p;_<y;_+=3)k=(h[_]<<16&16711680)+(h[_+1]<<8&65280)+(255&h[_+2]),b.push(i[($=k)>>18&63]+i[$>>12&63]+i[$>>6&63]+i[63&$]);return b.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(a,i,s,o,l){var u,c,f=8*l-o-1,d=(1<<f)-1,h=d>>1,p=-7,y=s?l-1:0,k=s?-1:1,$=a[i+y];for(y+=k,u=$&(1<<-p)-1,$>>=-p,p+=f;p>0;u=256*u+a[i+y],y+=k,p-=8);for(c=u&(1<<-p)-1,u>>=-p,p+=o;p>0;c=256*c+a[i+y],y+=k,p-=8);if(u===0)u=1-h;else{if(u===d)return c?NaN:1/0*($?-1:1);c+=Math.pow(2,o),u-=h}return($?-1:1)*c*Math.pow(2,u-o)},n.write=function(a,i,s,o,l,u){var c,f,d,h=8*u-l-1,p=(1<<h)-1,y=p>>1,k=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=o?0:u-1,b=o?1:-1,_=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(f=isNaN(i)?1:0,c=p):(c=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-c))<1&&(c--,d*=2),(i+=c+y>=1?k/d:k*Math.pow(2,1-y))*d>=2&&(c++,d/=2),c+y>=p?(f=0,c=p):c+y>=1?(f=(i*d-1)*Math.pow(2,l),c+=y):(f=i*Math.pow(2,y-1)*Math.pow(2,l),c=0));l>=8;a[s+$]=255&f,$+=b,f/=256,l-=8);for(c=c<<l|f,h+=l;h>0;a[s+$]=255&c,$+=b,c/=256,h-=8);a[s+$-b]|=128*_}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(i){return a.call(i)=="[object Array]"}},function(r,n,a){a.r(n),a.d(n,"createBlankNode",function(){return z}),a.d(n,"createQuad",function(){return H}),a.d(n,"jsonLDFromRDF",function(){return O.fromRDF}),a.d(n,"jsonLDToRDF",function(){return O.toRDF}),a.d(n,"compactJsonLD",function(){return O.compact}),a.d(n,"TurtleParser",function(){return T}),a.d(n,"TurtleWriter",function(){return F});var i=a(0);function s(q){return!!q&&q.termType==="DefaultGraph"}const{rdf:o,xsd:l}=i.a;let u,c=0;var d={namedNode:function(q){return new p(q)},blankNode:function(q){return new k(q||"n3-"+c++)},variable:function(q){return new $(q)},literal:function(q,g){if(typeof g=="string")return new y(`"${q}"@${g.toLowerCase()}`);let A=g?g.value:"";return A===""&&(typeof q=="boolean"?A=l.boolean:typeof q=="number"&&(Number.isFinite(q)?A=Number.isInteger(q)?l.integer:l.double:(A=l.double,Number.isNaN(q)||(q=q>0?"INF":"-INF")))),A===""||A===l.string?new y(`"${q}"`):new y(`"${q}"^^${A}`)},defaultGraph:function(){return u},quad:_,triple:_};class h{constructor(g){this.id=g}get value(){return this.id}equals(g){return g instanceof h?this.id===g.id:!!g&&this.termType===g.termType&&this.value===g.value}toJSON(){return{termType:this.termType,value:this.value}}}class p extends h{get termType(){return"NamedNode"}}class y extends h{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const g=this.id;let A=g.lastIndexOf('"')+1;return A<g.length&&g[A++]==="@"?g.substr(A).toLowerCase():""}get datatype(){return new p(this.datatypeString)}get datatypeString(){const g=this.id,A=g.lastIndexOf('"')+1,M=A<g.length?g[A]:"";return M==="^"?g.substr(A+2):M!=="@"?l.string:o.langString}equals(g){return g instanceof y?this.id===g.id:!!g&&!!g.datatype&&this.termType===g.termType&&this.value===g.value&&this.language===g.language&&this.datatype.value===g.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class k extends h{constructor(g){super("_:"+g)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class $ extends h{constructor(g){super("?"+g)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}u=new class extends h{constructor(){return super(""),u||this}get termType(){return"DefaultGraph"}equals(q){return this===q||!!q&&this.termType===q.termType}};class b extends h{constructor(g,A,M,W){super(""),this._subject=g,this._predicate=A,this._object=M,this._graph=W||u}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(g){return!!g&&this._subject.equals(g.subject)&&this._predicate.equals(g.predicate)&&this._object.equals(g.object)&&this._graph.equals(g.graph)}}function _(q,g,A,M){return new b(q,g,A,M)}var O=a(7),R=a(21);let P=0;class T{constructor(g){this._contextStack=[],this._graph=null,g=g||{},this._setBase(g.baseIRI),g.factory&&v(this,g.factory);const A=typeof g.format=="string"?g.format.match(/\w*$/)[0].toLowerCase():"",M=/turtle/.test(A),W=/trig/.test(A),Z=/triple/.test(A),N=/quad/.test(A),ee=this._n3Mode=/n3/.test(A),ne=Z||N;(this._supportsNamedGraphs=!(M||ee))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(M||W||Z||ee),this._supportsRDFStar=A===""||/star|\*$/.test(A),ne&&(this._resolveRelativeIRI=m=>null),this._blankNodePrefix=typeof g.blankNodePrefix!="string"?"":g.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=g.lexer||new R.a({lineMode:ne,n3:ee}),this._explicitQuantifiers=!!g.explicitQuantifiers}static _resetBlankNodePrefix(){P=0}_setBase(g){if(g){const A=g.indexOf("#");A>=0&&(g=g.substr(0,A)),this._base=g,this._basePath=g.indexOf("/")<0?g:g.replace(/[^\/?]*(?:\?.*)?$/,""),g=g.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=g[0],this._baseScheme=g[1]}else this._base="",this._basePath=""}_saveContext(g,A,M,W,Z){const N=this._n3Mode;this._contextStack.push({subject:M,predicate:W,object:Z,graph:A,type:g,inverse:!!N&&this._inversePredicate,blankPrefix:N?this._prefixes._:"",quantified:N?this._quantified:null}),N&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){const g=this._contextStack.pop(),A=this._n3Mode;this._subject=g.subject,this._predicate=g.predicate,this._object=g.object,this._graph=g.graph,A&&(this._inversePredicate=g.inverse,this._prefixes._=g.blankPrefix,this._quantified=g.quantified)}_readInTopContext(g){switch(g.type){case"eof":return this._graph!==null?this._error("Unclosed graph",g):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(g)}}_readEntity(g,A){let M;switch(g.type){case"IRI":case"typeIRI":const W=this._resolveIRI(g.value);if(W===null)return this._error("Invalid IRI",g);M=this._namedNode(W);break;case"type":case"prefixed":const Z=this._prefixes[g.prefix];if(Z===void 0)return this._error(`Undefined prefix "${g.prefix}:"`,g);M=this._namedNode(Z+g.value);break;case"blank":M=this._blankNode(this._prefixes[g.prefix]+g.value);break;case"var":M=this._variable(g.value.substr(1));break;default:return this._error("Expected entity but got "+g.type,g)}return!A&&this._n3Mode&&M.id in this._quantified&&(M=this._quantified[M.id]),M}_readSubject(g){switch(this._predicate=null,g.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",g);case"}":return this._readPunctuation(g);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',g);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',g);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",g);if(g.prefix.length===0)return this._literalValue=g.value,this._completeSubjectLiteral;this._subject=this._literal(g.value,this._namedNode(g.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",g);default:if((this._subject=this._readEntity(g))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(g){const A=g.type;switch(A){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[g.value];break;case".":case"]":case"}":return this._predicate===null?this._error("Unexpected "+A,g):(this._subject=null,A==="]"?this._readBlankNodeTail(g):this._readPunctuation(g));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",g);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",g);default:if((this._predicate=this._readEntity(g))===void 0)return}return this._readObject}_readObject(g){switch(g.type){case"literal":if(g.prefix.length===0)return this._literalValue=g.value,this._readDataTypeOrLang;this._object=this._literal(g.value,this._namedNode(g.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",g);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",g);default:if((this._object=this._readEntity(g))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(g){return g.type==="{"?this._readGraph(g):this._readPredicate(g)}_readGraph(g){return g.type!=="{"?this._error("Expected graph but got "+g.type,g):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(g){return g.type==="]"?(this._subject=null,this._readBlankNodeTail(g)):(this._predicate=null,this._readPredicate(g))}_readBlankNodeTail(g){if(g.type!=="]")return this._readBlankNodePunctuation(g);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const A=this._predicate===null;return this._restoreContext(),this._object===null?A?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(g){switch(g.type){case".":case"}":return this._subject=null,this._readPunctuation(g);default:return this._readPredicate(g)}}_readListItem(g){let A=null,M=null,W=this._readListItem;const Z=this._subject,N=this._contextStack,ee=N[N.length-1];switch(g.type){case"[":this._saveContext("blank",this._graph,M=this._blankNode(),this.RDF_FIRST,this._subject=A=this._blankNode()),W=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,M=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),N.length!==0&&N[N.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(W=this._readPredicate,this._subject===this.RDF_NIL)return W}else if(W=this._getContextEndReader(),this._object===this.RDF_NIL)return W;M=this.RDF_NIL;break;case"literal":g.prefix.length===0?(this._literalValue=g.value,W=this._readListItemDataTypeOrLang):(A=this._literal(g.value,this._namedNode(g.prefix)),W=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",g);default:if((A=this._readEntity(g))===void 0)return}if(M===null&&(this._subject=M=this._blankNode()),Z===null?ee.predicate===null?ee.subject=M:ee.object=M:this._emit(Z,this.RDF_REST,M,this._graph),A!==null){if(this._n3Mode&&(g.type==="IRI"||g.type==="prefixed"))return this._saveContext("item",this._graph,M,this.RDF_FIRST,A),this._subject=A,this._predicate=null,this._getPathReader(this._readListItem);this._emit(M,this.RDF_FIRST,A,this._graph)}return W}_readDataTypeOrLang(g){return this._completeObjectLiteral(g,!1)}_readListItemDataTypeOrLang(g){return this._completeObjectLiteral(g,!0)}_completeLiteral(g){let A=this._literal(this._literalValue);switch(g.type){case"type":case"typeIRI":const M=this._readEntity(g);if(M===void 0)return;A=this._literal(this._literalValue,M),g=null;break;case"langcode":A=this._literal(this._literalValue,g.value),g=null}return{token:g,literal:A}}_completeSubjectLiteral(g){return this._subject=this._completeLiteral(g).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(g,A){const M=this._completeLiteral(g);if(M)return this._object=M.literal,A&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),M.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(M.token))}_readFormulaTail(g){return g.type!=="}"?this._readPunctuation(g):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(g){let A,M=this._graph;const W=this._subject,Z=this._inversePredicate;switch(g.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",g);if(this._n3Mode)return this._readFormulaTail(g);this._graph=null;case".":this._subject=null,A=this._contextStack.length?this._readSubject:this._readInTopContext,Z&&(this._inversePredicate=!1);break;case";":A=this._readPredicate;break;case",":A=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(M=this._readEntity(g))!==void 0){A=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,g)}if(W!==null){const N=this._predicate,ee=this._object;Z?this._emit(ee,N,W,M):this._emit(W,N,ee,M)}return A}_readBlankNodePunctuation(g){let A;switch(g.type){case";":A=this._readPredicate;break;case",":A=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,g)}return this._emit(this._subject,this._predicate,this._object,this._graph),A}_readQuadPunctuation(g){return g.type!=="."?this._error("Expected dot to follow quad",g):this._readInTopContext}_readPrefix(g){return g.type!=="prefix"?this._error("Expected prefix to follow @prefix",g):(this._prefix=g.value,this._readPrefixIRI)}_readPrefixIRI(g){if(g.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,g);const A=this._readEntity(g);return this._prefixes[this._prefix]=A.value,this._prefixCallback(this._prefix,A),this._readDeclarationPunctuation}_readBaseIRI(g){const A=g.type==="IRI"&&this._resolveIRI(g.value);return A?(this._setBase(A),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",g)}_readNamedGraphLabel(g){switch(g.type){case"IRI":case"blank":case"prefixed":return this._readSubject(g),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",g)}}_readNamedGraphBlankLabel(g){return g.type!=="]"?this._error("Invalid graph label",g):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(g){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(g)):g.type!=="."?this._error("Expected declaration to end with a dot",g):this._readInTopContext}_readQuantifierList(g){let A;switch(g.type){case"IRI":case"prefixed":if((A=this._readEntity(g,!0))!==void 0)break;default:return this._error("Unexpected "+g.type,g)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,A,this.QUANTIFIERS_GRAPH)):this._quantified[A.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(g){return g.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(g))}_getPathReader(g){return this._afterPath=g,this._readPath}_readPath(g){switch(g.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const A=this._contextStack,M=A.length&&A[A.length-1];if(M&&M.type==="item"){const W=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,W,this._graph)}return this._afterPath(g)}}_readForwardPath(g){let A,M;const W=this._blankNode();if((M=this._readEntity(g))!==void 0)return this._predicate===null?(A=this._subject,this._subject=W):(A=this._object,this._object=W),this._emit(A,M,W,this._graph),this._readPath}_readBackwardPath(g){const A=this._blankNode();let M,W;if((M=this._readEntity(g))!==void 0)return this._predicate===null?(W=this._subject,this._subject=A):(W=this._object,this._object=A),this._emit(A,M,W,this._graph),this._readPath}_readRDFStarTailOrGraph(g){return g.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(g))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,g):this._readRDFStarTail(g)}_readRDFStarTail(g){if(g.type!==">>")return this._error("Expected >> but got "+g.type,g);const A=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),this._subject===null?(this._subject=A,this._readPredicate):(this._object=A,this._getContextEndReader())}_getContextEndReader(){const g=this._contextStack;if(!g.length)return this._readPunctuation;switch(g[g.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(g,A,M,W){this._callback(null,this._quad(g,A,M,W||this.DEFAULTGRAPH))}_error(g,A){const M=new Error(`${g} on line ${A.line}.`);M.context={token:A,line:A.line,previousToken:this._lexer.previousToken},this._callback(M),this._callback=G}_resolveIRI(g){return/^[a-z][a-z0-9+.-]*:/i.test(g)?g:this._resolveRelativeIRI(g)}_resolveRelativeIRI(g){if(!g.length)return this._base;switch(g[0]){case"#":return this._base+g;case"?":return this._base.replace(/(?:\?.*)?$/,g);case"/":return(g[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(g);default:return/^[^/:]*:/.test(g)?null:this._removeDotSegments(this._basePath+g)}}_removeDotSegments(g){if(!/(^|\/)\.\.?($|[/#?])/.test(g))return g;const A=g.length;let M="",W=-1,Z=-1,N=0,ee="/";for(;W<A;){switch(ee){case":":if(Z<0&&g[++W]==="/"&&g[++W]==="/")for(;(Z=W+1)<A&&g[Z]!=="/";)W=Z;break;case"?":case"#":W=A;break;case"/":if(g[W+1]===".")switch(ee=g[1+ ++W],ee){case"/":M+=g.substring(N,W-1),N=W+1;break;case void 0:case"?":case"#":return M+g.substring(N,W)+g.substr(W+1);case".":if(ee=g[1+ ++W],ee===void 0||ee==="/"||ee==="?"||ee==="#"){if(M+=g.substring(N,W-2),(N=M.lastIndexOf("/"))>=Z&&(M=M.substr(0,N)),ee!=="/")return`${M}/${g.substr(W+1)}`;N=W+1}}}ee=g[++W]}return M+g.substring(N)}parse(g,A,M){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${P++}_`,this._prefixCallback=M||G,this._inversePredicate=!1,this._quantified=Object.create(null),!A){const W=[];let Z;if(this._callback=(N,ee)=>{N?Z=N:ee&&W.push(ee)},this._lexer.tokenize(g).every(N=>this._readCallback=this._readCallback(N)),Z)throw Z;return W}this._callback=A,this._lexer.tokenize(g,(W,Z)=>{W!==null?(this._callback(W),this._callback=G):this._readCallback&&(this._readCallback=this._readCallback(Z))})}}function G(){}function v(q,g){const A=g.namedNode;q._namedNode=A,q._blankNode=g.blankNode,q._literal=g.literal,q._variable=g.variable,q._quad=g.quad,q.DEFAULTGRAPH=g.defaultGraph(),q.RDF_FIRST=A(i.a.rdf.first),q.RDF_REST=A(i.a.rdf.rest),q.RDF_NIL=A(i.a.rdf.nil),q.N3_FORALL=A(i.a.r.forAll),q.N3_FORSOME=A(i.a.r.forSome),q.ABBREVIATIONS={a:A(i.a.rdf.type),"=":A(i.a.owl.sameAs),">":A(i.a.log.implies)},q.QUANTIFIERS_GRAPH=A("urn:n3:quantifiers")}v(T.prototype,d);const w=d.defaultGraph(),{rdf:x,xsd:j}=i.a,C=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,B=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,X={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class K extends h{equals(){return!1}}class F{constructor(g,A){if(this._prefixRegex=/$0^/,g&&typeof g.write!="function"&&(A=g,g=null),A=A||{},this._lists=A.lists,g)this._outputStream=g,this._endStream=A.end===void 0||!!A.end;else{let M="";this._outputStream={write(W,Z,N){M+=W,N&&N()},end:W=>{W&&W(null,M)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(A.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=w,this._baseIRI=A.baseIRI,this._prefixIRIs=Object.create(null),A.prefixes&&this.addPrefixes(A.prefixes))}get _inDefaultGraph(){return w.equals(this._graph)}_write(g,A){this._outputStream.write(g,"utf8",A)}_writeQuad(g,A,M,W,Z){try{W.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(w.equals(W)?"":this._encodeIriOrBlank(W)+` {
`)),this._graph=W,this._subject=null),g.equals(this._subject)?A.equals(this._predicate)?this._write(", "+this._encodeObject(M),Z):this._write(`;
    ${this._encodePredicate(this._predicate=A)} ${this._encodeObject(M)}`,Z):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=g)} ${this._encodePredicate(this._predicate=A)} ${this._encodeObject(M)}`,Z)}catch(N){Z&&Z(N)}}_writeQuadLine(g,A,M,W,Z){delete this._prefixMatch,this._write(this.quadToString(g,A,M,W),Z)}quadToString(g,A,M,W){return`${this._encodeSubject(g)} ${this._encodeIriOrBlank(A)} ${this._encodeObject(M)}${W&&W.value?` ${this._encodeIriOrBlank(W)} .
`:` .
`}`}quadsToString(g){return g.map(A=>this.quadToString(A.subject,A.predicate,A.object,A.graph)).join("")}_encodeSubject(g){return g.termType==="Quad"?this._encodeQuad(g):this._encodeIriOrBlank(g)}_encodeIriOrBlank(g){if(g.termType!=="NamedNode")return this._lists&&g.value in this._lists&&(g=this.list(this._lists[g.value])),"id"in g?g.id:"_:"+g.value;let A=g.value;this._baseIRI&&A.startsWith(this._baseIRI)&&(A=A.substr(this._baseIRI.length)),C.test(A)&&(A=A.replace(B,U));const M=this._prefixRegex.exec(A);return M?M[1]?this._prefixIRIs[M[1]]+M[2]:A:`<${A}>`}_encodeLiteral(g){let A=g.value;if(C.test(A)&&(A=A.replace(B,U)),g.language)return`"${A}"@${g.language}`;if(this._lineMode){if(g.datatype.value===j.string)return`"${A}"`}else switch(g.datatype.value){case j.string:return`"${A}"`;case j.boolean:if(A==="true"||A==="false")return A;break;case j.integer:if(/^[+-]?\d+$/.test(A))return A;break;case j.decimal:if(/^[+-]?\d*\.\d+$/.test(A))return A;break;case j.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(A))return A}return`"${A}"^^${this._encodeIriOrBlank(g.datatype)}`}_encodePredicate(g){return g.value===x.type?"a":this._encodeIriOrBlank(g)}_encodeObject(g){switch(g.termType){case"Quad":return this._encodeQuad(g);case"Literal":return this._encodeLiteral(g);default:return this._encodeIriOrBlank(g)}}_encodeQuad({subject:g,predicate:A,object:M,graph:W}){return`<<${this._encodeSubject(g)} ${this._encodePredicate(A)} ${this._encodeObject(M)}${s(W)?"":" "+this._encodeIriOrBlank(W)}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(g,A,M,W,Z){M===void 0?this._writeQuad(g.subject,g.predicate,g.object,g.graph,A):typeof W=="function"?this._writeQuad(g,A,M,w,W):this._writeQuad(g,A,M,W||w,Z)}addQuads(g){for(let A=0;A<g.length;A++)this.addQuad(g[A])}addPrefix(g,A,M){const W={};W[g]=A,this.addPrefixes(W,M)}addPrefixes(g,A){if(!this._prefixIRIs)return A&&A();let M=!1;for(let W in g){let Z=g[W];typeof Z!="string"&&(Z=Z.value),M=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[Z]=W+=":",this._write(`@prefix ${W} <${Z}>.
`)}if(M){let W="",Z="";for(const N in this._prefixIRIs)W+=W?"|"+N:N,Z+=(Z?"|":"")+this._prefixIRIs[N];W=W.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${Z})[^/]*$|^(${W})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(M?`
`:"",A)}blank(g,A){let M,W,Z=g;switch(g===void 0?Z=[]:g.termType?Z=[{predicate:g,object:A}]:"length"in g||(Z=[g]),W=Z.length){case 0:return new K("[]");case 1:if(M=Z[0],!(M.object instanceof K))return new K(`[ ${this._encodePredicate(M.predicate)} ${this._encodeObject(M.object)} ]`);default:let N="[";for(let ee=0;ee<W;ee++)M=Z[ee],M.predicate.equals(g)?N+=", "+this._encodeObject(M.object):(N+=`${(ee?`;
  `:`
  `)+this._encodePredicate(M.predicate)} ${this._encodeObject(M.object)}`,g=M.predicate);return new K(N+`
]`)}}list(g){const A=g&&g.length||0,M=new Array(A);for(let W=0;W<A;W++)M[W]=this._encodeObject(g[W]);return new K(`(${M.join(" ")})`)}end(g){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let A=g&&((M,W)=>{A=null,g(M,W)});if(this._endStream)try{return this._outputStream.end(A)}catch{}A&&A()}}function U(q){let g=X[q];return g===void 0&&(q.length===1?(g=q.charCodeAt(0).toString(16),g="\\u0000".substr(0,6-g.length)+g):(g=(1024*(q.charCodeAt(0)-55296)+q.charCodeAt(1)+9216).toString(16),g="\\U00000000".substr(0,10-g.length)+g)),g}function z(q){return new k(q)}function H(q,g,A,M){return new b(q,g,A,M)}}])})})(XT);var _i=XT.exports;function wne(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var ig;(function(t){t.Turtle="Turtle"})(ig||(ig={}));var _ne=function(t){ot(r,pn);var e=wne(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,function(o,l,u){return o?"Malformed ".concat(l," document found at ").concat(o," - ").concat(u):"Malformed ".concat(l," document - ").concat(u)}(n,a,i)),J(rt(s),"documentUrl",void 0),J(rt(s),"documentFormat",void 0),J(rt(s),"malformationDetails",void 0),s.documentUrl=n,s.documentFormat=a,s.malformationDetails=i,s}return r}();function $ne(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var eP=function(t){ot(r,pn);var e=$ne(r);function r(n,a){var i;return Te(this,r),i=e.call(this,"Request failed trying to fetch ".concat(n),a),J(rt(i),"url",void 0),i.url=n,i}return r}();function xne(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var sg=function(t){ot(r,pn);var e=xne(r);function r(n){var a;return Te(this,r),a=e.call(this,"Document with '".concat(n,"' url not found")),J(rt(a),"url",void 0),a.url=n,a}return r}();function Sne(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var $S=function(t){ot(r,pn);var e=Sne(r);function r(n,a){var i;return Te(this,r),i=e.call(this,function(s,o){return"Unauthorized".concat(o===403?" (Forbidden)":"",": ").concat(s)}(n,a)),J(rt(i),"url",void 0),J(rt(i),"responseStatus",void 0),i.url=n,i.responseStatus=a,i}return Fe(r,[{key:"forbidden",get:function(){return this.responseStatus!==void 0?this.responseStatus===403:void 0}}]),r}();function Ine(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Ene=function(t){ot(r,pn);var e=Ine(r);function r(n,a){var i;return Te(this,r),i=e.call(this,function(s,o){var l;return o=(l=o)!==null&&l!==void 0?l:s,typeof s=="string"?"".concat(s," (returned ").concat(o.status," status code)"):"Request to ".concat(o.url," returned ").concat(o.status," status code")}(n,a)),J(rt(i),"response",void 0),i.response=a??n,i}return r}();function Ane(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var One=function(t){ot(r,pn);var e=Ane(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,"The resource at ".concat(n," is using an unsupported authorization protocol (").concat(a,")"),i),J(rt(s),"url",void 0),J(rt(s),"protocol",void 0),s.url=n,s.protocol=a,s}return r}(),kne={acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",vcard:"http://www.w3.org/2006/vcard/ns#"};function li(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.startsWith("http"))return t;var r=t.split(":"),n=Me(r,2),a=n[0],i=n[1];if(a&&i){var s,o,l,u=(s=(o=kne[a])!==null&&o!==void 0?o:(l=e.extraContext)===null||l===void 0?void 0:l[a])!==null&&s!==void 0?s:null;if(!u)throw new Error("Can't expand IRI with unknown prefix: '".concat(t,"'"));return u+i}if(!e.defaultPrefix)throw new Error("Can't expand IRI without a default prefix: '".concat(t,"'"));return e.defaultPrefix+a}var Hr,Rne=function(){function t(e,r){Te(this,t),J(this,"url",void 0),J(this,"quads",void 0),this.url=e,this.quads=r}return Fe(t,[{key:"value",value:function(e){var r;return(r=this.quads.find(function(n){return n.predicate.value===li(e)}))===null||r===void 0?void 0:r.object.value}},{key:"values",value:function(e){return this.quads.filter(function(r){return r.predicate.value===li(e)}).map(function(r){return r.object.value})}}]),t}(),Tne=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Te(this,t),J(this,"quads",void 0),this.quads=e}return Fe(t,[{key:"isEmpty",value:function(){return this.statements.length===0}},{key:"getQuads",value:function(){return this.quads.slice(0)}},{key:"addQuads",value:function(e){var r;(r=this.quads).push.apply(r,Pt(e))}},{key:"statements",value:function(e,r,n){var a=this;return this.quads.filter(function(i){return!(n&&i.object.value!==a.expandIRI(n)||e&&i.subject.value!==a.expandIRI(e)||r&&i.predicate.value!==a.expandIRI(r))})}},{key:"statement",value:function(e,r,n){var a=this,i=this.quads.find(function(s){return!(n&&s.object.value!==a.expandIRI(n)||e&&s.subject.value!==a.expandIRI(e)||r&&s.predicate.value!==a.expandIRI(r))});return i??null}},{key:"contains",value:function(e,r,n){return this.statement(e,r,n)!==null}},{key:"getThing",value:function(e){var r=this.statements(e);return new Rne(e,r)}},{key:"expandIRI",value:function(e){return li(e)}}]),t}();function Pne(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){t.Read="read",t.Write="write",t.Append="append",t.Control="control"})(Hr||(Hr={}));var ed=function(t){ot(r,Tne);var e=Pne(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,a),J(rt(s),"url",void 0),J(rt(s),"headers",void 0),s.url=n,s.headers=i,s}return Fe(r,[{key:"isACPResource",value:function(){var n;return!((n=this.headers.get("Link"))===null||n===void 0||!n.match(/<http:\/\/www\.w3\.org\/ns\/solid\/acp#AccessControlResource>;[^,]+rel="type"/))}},{key:"isPersonalProfile",value:function(){return!!this.statement(this.url,li("rdf:type"),li("foaf:PersonalProfileDocument"))}},{key:"isStorage",value:function(){var n;return!((n=this.headers.get("Link"))===null||n===void 0||!n.match(/<http:\/\/www\.w3\.org\/ns\/pim\/space#Storage>;[^,]+rel="type"/))}},{key:"isUserWritable",value:function(){return this.getUserPermissions().includes(Hr.Write)}},{key:"getUserPermissions",value:function(){return this.getPermissionsFromWAC("user")}},{key:"getPublicPermissions",value:function(){return this.getPermissionsFromWAC("public")}},{key:"getLastModified",value:function(){var n,a,i,s;return(n=(a=(i=mv(this.headers.get("last-modified")))!==null&&i!==void 0?i:mv((s=this.statement(this.url,"purl:modified"))===null||s===void 0?void 0:s.object.value))!==null&&a!==void 0?a:this.getLatestDocumentDate())!==null&&n!==void 0?n:null}},{key:"expandIRI",value:function(n){return li(n,{defaultPrefix:this.url})}},{key:"getLatestDocumentDate",value:function(){var n=[].concat(Pt(this.statements(void 0,"purl:modified")),Pt(this.statements(void 0,"purl:created"))).map(function(a){return mv(a.object.value)}).filter(function(a){return a!==null});return n.length>0?n.reduce(function(a,i){return a>i?a:i}):null}},{key:"getPermissionsFromWAC",value:function(n){var a,i,s,o=(a=this.headers.get("WAC-Allow"))!==null&&a!==void 0?a:"",l=(i=(s=HT(o,new RegExp("".concat(n,'="([^"]+)"'))))===null||s===void 0?void 0:s[1])!==null&&i!==void 0?i:"";return yr([l.includes("read")&&Hr.Read,l.includes("write")&&Hr.Write,l.includes("append")&&Hr.Append,l.includes("control")&&Hr.Control])}}]),r}();function Cne(t){return tP.apply(this,arguments)}function tP(){return(tP=fe(V.mark(function t(e){var r;return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_i.compactJsonLD(e,{});case 2:if(!("@graph"in(r=n.sent))){n.next=5;break}return n.abrupt("return",r);case 5:if(!("@id"in r)){n.next=7;break}return n.abrupt("return",{"@graph":[r]});case 7:return n.abrupt("return",{"@graph":[]});case 8:case"end":return n.stop()}},t)}))).apply(this,arguments)}function Dne(t){return"@graph"in t}function jne(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return xS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return xS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lne=12;function Mne(t,e){return rP.apply(this,arguments)}function rP(){return(rP=fe(V.mark(function t(e,r){var n,a,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n={headers:{Accept:"text/turtle"}},s.prev=1,s.next=4,r(e,n);case 4:if((a=s.sent).status!==404){s.next=7;break}throw new sg(e);case 7:if(![401,403].includes(a.status)){s.next=9;break}throw new $S(e,a.status);case 9:return s.next=11,a.text();case 11:return i=s.sent,s.abrupt("return",{body:i,headers:a.headers});case 15:if(s.prev=15,s.t0=s.catch(1),!(s.t0 instanceof $S)){s.next=19;break}throw s.t0;case 19:if(!(s.t0 instanceof sg)){s.next=21;break}throw s.t0;case 21:throw new eP(e,{cause:s.t0});case 22:case"end":return s.stop()}},t,null,[[1,15]])}))).apply(this,arguments)}function Nne(t){var e;(e=t["@id"])!==null&&e!==void 0&&e.startsWith("#")&&(t["@id"]="anonymous://"+t["@id"])}function Fne(t){var e,r=jne(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.subject.value.startsWith("anonymous://")&&(n.subject.value=n.subject.value.slice(Lne))}}catch(a){r.e(a)}finally{r.f()}}function Une(t,e,r){return nP.apply(this,arguments)}function nP(){return(nP=fe(V.mark(function t(e,r,n){var a,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=(a=n)!==null&&a!==void 0?a:window.fetch.bind(window),s.next=3,qb(r);case 3:return i=s.sent,s.next=6,n(e,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:r});case 6:return s.abrupt("return",new ed(e,i,new Headers({})));case 7:case"end":return s.stop()}},t)}))).apply(this,arguments)}function zb(t,e){return aP.apply(this,arguments)}function aP(){return(aP=fe(V.mark(function t(e,r){var n,a,i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Mne(e,r??window.fetch);case 2:return n=o.sent,a=n.body,i=n.headers,o.next=7,qb(a,{baseIRI:e});case 7:return s=o.sent,o.abrupt("return",new ed(e,s,i));case 9:case"end":return o.stop()}},t)}))).apply(this,arguments)}function Bne(t,e){return iP.apply(this,arguments)}function iP(){return(iP=fe(V.mark(function t(e,r){var n;return V.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,zb(e,r);case 3:return n=a.sent,a.abrupt("return",n);case 7:if(a.prev=7,a.t0=a.catch(0),a.t0 instanceof sg){a.next=11;break}throw a.t0;case 11:return a.abrupt("return",null);case 12:case"end":return a.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}function Gb(t,e){return sP.apply(this,arguments)}function sP(){return(sP=fe(V.mark(function t(e,r){var n,a;return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Dne(e)){i.next=5;break}return i.next=3,Promise.all(e["@graph"].map(function(s){return Gb(s,r)}));case 3:return n=i.sent,i.abrupt("return",n.flat());case 5:return Nne(e),i.next=8,_i.jsonLDToRDF(e,{base:r});case 8:return Fne(a=i.sent),i.abrupt("return",a);case 11:case"end":return i.stop()}},t)}))).apply(this,arguments)}function oP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=In({baseIRI:e.baseIRI}),n=new _i.TurtleParser(r),a={quads:[],containsRelativeIRIs:!1};return new Promise(function(i,s){var o=n._resolveRelativeIRI;n._resolveRelativeIRI=function(){return a.containsRelativeIRIs=!0,n._resolveRelativeIRI=o,n._resolveRelativeIRI.apply(n,arguments)},n.parse(t,function(l,u){var c;l?s(new _ne((c=e.baseIRI)!==null&&c!==void 0?c:null,ig.Turtle,l.message)):u?a.quads.push(u):i(a)})})}function Zd(t){return lP.apply(this,arguments)}function lP(){return(lP=fe(V.mark(function t(e){var r;return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_i.jsonLDFromRDF(e);case 2:return r=n.sent,n.abrupt("return",{"@graph":r});case 4:case"end":return n.stop()}},t)}))).apply(this,arguments)}function zne(t){return new _i.TurtleWriter().quadsToString(t)}function Gne(t){return new _i.TurtleWriter().quadsToString([t]).slice(0,-1)}function qne(t,e){return uP.apply(this,arguments)}function uP(){return(uP=fe(V.mark(function t(e,r){var n;return V.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,zb(e,r);case 3:return n=a.sent,a.abrupt("return",!n.isEmpty());case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",!1);case 10:case"end":return a.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}function qb(t){return og.apply(this,arguments)}function og(){return og=fe(V.mark(function t(e){var r,n,a,i=arguments;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=i.length>1&&i[1]!==void 0?i[1]:{},s.next=3,oP(e,r);case 3:return n=s.sent,a=n.quads,s.abrupt("return",a);case 6:case"end":return s.stop()}},t)})),og.apply(this,arguments)}function Hne(t,e,r){return cP.apply(this,arguments)}function cP(){return(cP=fe(V.mark(function t(e,r,n){var a;return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=(a=n)!==null&&a!==void 0?a:window.fetch.bind(window),i.next=3,n(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:r});case 3:case"end":return i.stop()}},t)}))).apply(this,arguments)}function Vne(t){var e=function(r){return r.path&&r.path.startsWith("/")?r.path.match(/^\/[^/]*$/)?"/":"/".concat(QT(r.path.split("/")).filter().slice(0,-1).join("/"),"/").replace("//","/"):null}(t);return t.protocol&&t.domain?"".concat(t.protocol,"://").concat(t.domain).concat(e??"/"):e}function lg(t){var e;if("@type"in t&&!("@value"in t)){t["@id"]=(e=t["@id"])!==null&&e!==void 0?e:dn();for(var r=0,n=Object.values(t);r<n.length;r++){var a=n[r];yt(a)&&lg(a),DT(a)&&a.forEach(function(i){return yt(i)&&lg(i)})}}}function Wne(t){return Ve(Nn(t),function(e){return lg(e)})}function Kne(t){var e=Uu(t);return e?In({containerUrl:Vne(e),documentName:e.path?e.path.split("/").pop():null,resourceHash:e.fragment}):{}}function Jne(t,e,r){return fP.apply(this,arguments)}function fP(){return(fP=fe(V.mark(function t(e,r,n){var a,i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=(a=n)!==null&&a!==void 0?a:window.fetch.bind(n),i=e.storageUrls[0],s="".concat(i,"settings/").concat(r,"TypeIndex"),o.next=5,qne(s,n);case 5:if(!o.sent){o.next=9;break}o.t0="".concat(i,"settings/").concat(r,"TypeIndex-").concat(dn()),o.next=10;break;case 9:o.t0=s;case 10:return o.abrupt("return",o.t0);case 11:case"end":return o.stop()}},t)}))).apply(this,arguments)}function dP(t,e,r){return hP.apply(this,arguments)}function hP(){return(hP=fe(V.mark(function t(e,r,n){var a,i,s,o;return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e.writableProfileUrl!==null){l.next=2;break}throw new Error("Can't create type index without a writable profile document");case 2:return n=(a=n)!==null&&a!==void 0?a:window.fetch.bind(n),l.next=5,Jne(e,r,n);case 5:return i=l.sent,s=r==="public"?"<> a <http://www.w3.org/ns/solid/terms#TypeIndex> .":`
            <> a
                <http://www.w3.org/ns/solid/terms#TypeIndex>,
                <http://www.w3.org/ns/solid/terms#UnlistedDocument> .
        `,o=`
        INSERT DATA {
            <`.concat(e.webId,"> <http://www.w3.org/ns/solid/terms#").concat(r,"TypeIndex> <").concat(i,`> .
        }
    `),l.next=10,Une(i,s,n);case 10:return l.next=12,Hne(e.writableProfileUrl,o,n);case 12:return l.abrupt("return",i);case 14:case"end":return l.stop()}},t)}))).apply(this,arguments)}function pP(t,e,r,n){return vP.apply(this,arguments)}function vP(){return(vP=fe(V.mark(function t(e,r,n,a){var i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,zb(e,a);case 2:return i=o.sent,s=Array.isArray(r)?r:[r],o.abrupt("return",s.map(function(l){return i.statements(void 0,"rdf:type","solid:TypeRegistration").filter(function(u){return i.contains(u.subject.value,"solid:forClass",l)}).map(function(u){return i.statements(u.subject.value,n)}).flat().map(function(u){return u.object.value}).filter(function(u){return!!u})}).flat());case 5:case"end":return o.stop()}},t)}))).apply(this,arguments)}function Yne(t,e){return mP.apply(this,arguments)}function mP(){return(mP=fe(V.mark(function t(e,r){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",dP(e,"public",r));case 1:case"end":return n.stop()}},t)}))).apply(this,arguments)}function Qne(t,e){return gP.apply(this,arguments)}function gP(){return(gP=fe(V.mark(function t(e,r){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",dP(e,"private",r));case 1:case"end":return n.stop()}},t)}))).apply(this,arguments)}function Xne(t,e,r){return yP.apply(this,arguments)}function yP(){return(yP=fe(V.mark(function t(e,r,n){return V.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",pP(e,r,"solid:instanceContainer",n));case 1:case"end":return a.stop()}},t)}))).apply(this,arguments)}function Zne(t,e,r){return bP.apply(this,arguments)}function bP(){return(bP=fe(V.mark(function t(e,r,n){return V.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",pP(e,r,"solid:instance",n));case 1:case"end":return a.stop()}},t)}))).apply(this,arguments)}function eae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){ot(r,pn);var e=eae(r);function r(n){var a;return Te(this,r),a=e.call(this,"Couldn't find the following triple: ".concat(Gne(n))),J(rt(a),"expectedQuad",void 0),a.expectedQuad=n,a}return r})();function wP(t,e){return _P.apply(this,arguments)}function _P(){return(_P=fe(V.mark(function t(e,r){var n,a,i,s,o,l,u;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=(n=r)!==null&&n!==void 0?n:window.fetch.bind(window),c.next=3,r(e,{method:"HEAD"});case 3:if(o=c.sent,l=(a=o.headers.get("Link"))!==null&&a!==void 0?a:"",u=(i=(s=l.match(/<([^>]+)>;\s*rel="acl"/))===null||s===void 0?void 0:s[1])!==null&&i!==void 0?i:null){c.next=8;break}throw new Error("Could not find ACL Resource for '".concat(e,"'"));case 8:return c.abrupt("return",yo(Wr(e),u));case 9:case"end":return c.stop()}},t)}))).apply(this,arguments)}function $P(t,e,r){return xP.apply(this,arguments)}function xP(){return(xP=fe(V.mark(function t(e,r,n){var a,i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((a=n)===null||a===void 0){o.next=4;break}o.t0=a,o.next=7;break;case 4:return o.next=6,wP(e,r);case 6:o.t0=o.sent;case 7:return n=o.t0,o.next=10,Bne((i=n)!==null&&i!==void 0?i:"",r);case 10:if(s=o.sent){o.next=13;break}return o.abrupt("return",$P(Wr(e),r));case 13:if(!s.isACPResource()){o.next=15;break}throw new One(e,"ACP");case 15:return o.abrupt("return",s);case 16:case"end":return o.stop()}},t)}))).apply(this,arguments)}function tae(t,e){return SP.apply(this,arguments)}function SP(){return(SP=fe(V.mark(function t(e,r){var n,a;return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wP(e,r);case 2:return n=i.sent,i.next=5,$P(e,r,n);case 5:return a=i.sent,i.abrupt("return",In({url:n,effectiveUrl:a.url,document:a}));case 7:case"end":return i.stop()}},t)}))).apply(this,arguments)}function SS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}(function(){function t(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200;Te(this,t),J(this,"rawBody",void 0),J(this,"body",void 0),J(this,"bodyUsed",void 0),J(this,"headers",void 0),J(this,"ok",void 0),J(this,"redirected",void 0),J(this,"status",void 0),J(this,"statusText",void 0),J(this,"trailer",void 0),J(this,"type",void 0),J(this,"url",void 0),this.rawBody=s,this.headers=new Headers(o),this.status=l}var e,r,n,a,i;return Fe(t,[{key:"arrayBuffer",value:(i=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.arrayBuffer is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return i.apply(this,arguments)})},{key:"blob",value:(a=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.blob is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return a.apply(this,arguments)})},{key:"formData",value:(n=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.formData is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return n.apply(this,arguments)})},{key:"json",value:(r=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",JSON.parse(this.rawBody));case 1:case"end":return o.stop()}},s,this)})),function(){return r.apply(this,arguments)})},{key:"text",value:(e=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.rawBody);case 1:case"end":return o.stop()}},s,this)})),function(){return e.apply(this,arguments)})},{key:"clone",value:function(){return function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?SS(Object(l),!0).forEach(function(u){J(s,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):SS(Object(l)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(l,u))})}return s}({},this)}}]),t})();function rae(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function ug(t){var e=typeof Map=="function"?new Map:void 0;return ug=function(n){if(n===null||!rae(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Nd(n,arguments,Ee(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Yl(a,n)},ug(t)}const nae=(t,e)=>e.some(r=>t instanceof r);let IS,ES;function aae(){return IS||(IS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iae(){return ES||(ES=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IP=new WeakMap,cg=new WeakMap,EP=new WeakMap,wv=new WeakMap,Hb=new WeakMap;function sae(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(Ea(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&IP.set(r,t)}).catch(()=>{}),Hb.set(e,t),e}function oae(t){if(cg.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});cg.set(t,e)}let fg={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ea(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lae(t){fg=t(fg)}function uae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(_v(this),e,...r);return EP.set(n,e.sort?e.sort():[e]),Ea(n)}:iae().includes(t)?function(...e){return t.apply(_v(this),e),Ea(IP.get(this))}:function(...e){return Ea(t.apply(_v(this),e))}}function cae(t){return typeof t=="function"?uae(t):(t instanceof IDBTransaction&&oae(t),nae(t,aae())?new Proxy(t,fg):t)}function Ea(t){if(t instanceof IDBRequest)return sae(t);if(wv.has(t))return wv.get(t);const e=cae(t);return e!==t&&(wv.set(t,e),Hb.set(e,t)),e}const _v=t=>Hb.get(t);function AS(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=Ea(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ea(s.result),l.oldVersion,l.newVersion,Ea(s.transaction))}),r&&s.addEventListener("blocked",()=>r()),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",()=>a())}).catch(()=>{}),o}function OS(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",()=>e()),Ea(r).then(()=>{})}const fae=["get","getKey","getAll","getAllKeys","count"],dae=["put","add","delete","clear"],$v=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($v.get(e))return $v.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=dae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||fae.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;n&&(u=u.index(o.shift()));const c=await u[r](...o);return a&&await l.done,c};return $v.set(e,i),i}lae(t=>({...t,get:(e,r,n)=>kS(e,r)||t.get(e,r,n),has:(e,r)=>!!kS(e,r)||t.has(e,r)}));var hae=kd,pae=ck;hae("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},pae);var xv=Ue,Sv=WeakSet.prototype,Vb={WeakSet,add:xv(Sv.add),has:xv(Sv.has),remove:xv(Sv.delete)},vae=Vb.has,AP=function(t){return vae(t),t},mae=ge,gae=AP,yae=Vb.add;mae({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=gae(this),r=0,n=arguments.length;r<n;r++)yae(e,arguments[r]);return e}});var bae=ge,wae=AP,_ae=Vb.remove;bae({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=wae(this),r=!0,n,a=0,i=arguments.length;a<i;a++)n=_ae(e,arguments[a]),r=r&&n;return!!r}});function $ae(t){return"closeConnections"in t}function xae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var ze=function(t){ot(r,t);var e=xae(r);function r(n){var a;return Te(this,r),(a=e.call(this,n)).name=(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(rt(a),(this instanceof r?this.constructor:void 0).prototype),a}return Fe(r)}(ug(Error));function Sae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var zu=function(t){ot(r,ze);var e=Sae(r);function r(n){var a;return Te(this,r),a=e.call(this,"Could not create document with id ".concat(n," because it is already in use.")),J(rt(a),"id",void 0),a.id=n,a}return Fe(r)}();function Iae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Vr=function(t){ot(r,ze);var e=Iae(r);function r(n,a){var i;return Te(this,r),i=e.call(this,a?"Couldn't find document with id '".concat(n,"' in '").concat(a,"' Collection."):"Couldn't find document with id '".concat(n,"'")),J(rt(i),"id",void 0),J(rt(i),"collection",void 0),i.id=n,i.collection=a,i}return Fe(r)}();function Eae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var ni=function(t){ot(r,ze);var e=Eae(r);function r(n,a){var i;return Te(this,r),i=e.call(this,"Model ".concat(n,": ").concat(a,". ")+"Learn more at https://soukai.js.org/guide/defining-models.html"),J(rt(i),"modelName",void 0),i.modelName=n,i}return Fe(r)}();function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Aae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t){return t instanceof OP||"getProxySubject"in t}var OP=function(){function t(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Te(this,t),J(this,"subject",void 0),J(this,"overrides",void 0),this.subject=s,this.overrides=Aae({create:function(){return s.create.apply(s,arguments)},readOne:function(){return s.readOne.apply(s,arguments)},readMany:function(){return s.readMany.apply(s,arguments)},update:function(){return s.update.apply(s,arguments)},delete:function(){return s.delete.apply(s,arguments)}},o)}var e,r,n,a,i;return Fe(t,[{key:"getProxySubject",value:function(){return this.subject}},{key:"create",value:(i=fe(V.mark(function s(o,l,u){return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.overrides.create(o,l,u));case 1:case"end":return c.stop()}},s,this)})),function(s,o,l){return i.apply(this,arguments)})},{key:"readOne",value:(a=fe(V.mark(function s(o,l){return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.overrides.readOne(o,l));case 1:case"end":return u.stop()}},s,this)})),function(s,o){return a.apply(this,arguments)})},{key:"readMany",value:(n=fe(V.mark(function s(o,l){return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.overrides.readMany(o,l));case 1:case"end":return u.stop()}},s,this)})),function(s,o){return n.apply(this,arguments)})},{key:"update",value:(r=fe(V.mark(function s(o,l,u){return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.overrides.update(o,l,u));case 1:case"end":return c.stop()}},s,this)})),function(s,o,l){return r.apply(this,arguments)})},{key:"delete",value:(e=fe(V.mark(function s(o,l){return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.overrides.delete(o,l));case 1:case"end":return u.stop()}},s,this)})),function(s,o){return e.apply(this,arguments)})}]),t}();function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sl(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return PS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return PS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fo=function(){function t(){var e=this;Te(this,t),J(this,"rootFilters",void 0),J(this,"rootUpdates",void 0),J(this,"attributeFilters",void 0),J(this,"attributeUpdates",void 0),J(this,"documentsIn",function(r,n,a){return a.includes(r)}),J(this,"documentOverwrite",function(r,n){var a,i=sl(Object.getOwnPropertyNames(r));try{for(i.s();!(a=i.n()).done;)delete r[a.value]}catch(s){i.e(s)}finally{i.f()}Object.assign(r,n)}),J(this,"attributeEq",function(r,n,a){return jb(r[n],a)}),J(this,"attributeContains",function(r,n,a){Array.isArray(a)||(a=[a]);var i=r&&r[n];return!!Array.isArray(i)&&!a.find(function(s){return!i.find(function(o){return e.filterValue(o,s)})})}),J(this,"attributeOr",function(r,n,a){return!!a.find(function(i){return!!e.filterValue(r,J({},n,i))})}),J(this,"attributeIn",function(r,n,a){return a.includes(r[n])}),J(this,"attributeUpdate",function(r,n,a){!Array.isArray(a)&&yt(a)?e.isOperation(a,e.attributeUpdates)?e.runOperation(a,e.attributeUpdates,r,n):yt(r[n])?e.updateAttributes(r[n],a):r[n]=a:r[n]=a}),J(this,"attributeUpdateItems",function(r,n,a){Array.isArray(a)||(a=[a]);var i,s=sl(a);try{var o=function(){var l=i.value,u=l.$where,c=l.$update,f=l.$unset;u&&u.$in&&(u.$in=u.$in.map(function(p){return p.toString()}));var d=e.requireArrayProperty("$updateItems",r,n),h=e.filterDocuments(d.reduce(function(p,y,k){return Iv(Iv({},p),{},J({},k,yt(y)?y:{}))},{}),u||{});c&&Object.keys(h).forEach(function(p){e.updateAttributes(h,J({},p,c)),d[parseInt(p)]=h[p]}),f&&(r[n]=Fb(d,Object.keys(h).map(parseInt)))};for(s.s();!(i=s.n()).done;)o()}catch(l){s.e(l)}finally{s.f()}}),J(this,"attributePush",function(r,n,a){e.requireArrayProperty("$push",r,n).push(a)}),J(this,"attributeUnset",function(r,n,a){if(a!==!0){var i=r[n];if(yt(i)){var s,o=sl(a=Array.isArray(a)?a:[a]);try{for(o.s();!(s=o.n()).done;)delete i[s.value]}catch(l){o.e(l)}finally{o.f()}}}else delete r[n]}),J(this,"attributeApply",function(r,n,a){var i,s=sl(a);try{for(s.s();!(i=s.n()).done;){var o=i.value;e.runOperation(o,e.attributeUpdates,r,n)}}catch(l){s.e(l)}finally{s.f()}}),J(this,"attributeOverwrite",function(r,n,a){r[n]=a}),this.rootFilters={$in:this.documentsIn},this.rootUpdates={$overwrite:this.documentOverwrite},this.attributeFilters={$eq:this.attributeEq,$contains:this.attributeContains,$or:this.attributeOr,$in:this.attributeIn},this.attributeUpdates={$update:this.attributeUpdate,$updateItems:this.attributeUpdateItems,$push:this.attributePush,$unset:this.attributeUnset,$apply:this.attributeApply,$overwrite:this.attributeOverwrite}}return Fe(t,[{key:"filterDocuments",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.entries(e).reduce(function(a,i){var s=Me(i,2),o=s[0],l=s[1];return r.filterDocument(o,l,n)&&(a[o]=l),a},{})}},{key:"updateAttributes",value:function(e,r){if(this.isOperation(r,{$unset:this.attributeUnset})){var n,a=r.$unset,i=sl(Array.isArray(a)?a:[a]);try{for(i.s();!(n=i.n()).done;){var s=n.value;this.attributeUnset(e,s,!0)}}catch($){i.e($)}finally{i.f()}}else if(this.isOperation(r,this.rootUpdates)){var o=Object.entries(r),l=Me(o,1),u=Me(l[0],2),c=u[0],f=u[1];this.rootUpdates[c](e,f)}else for(var d=0,h=Object.entries(r);d<h.length;d++){var p=Me(h[d],2),y=p[0],k=p[1];this.attributeUpdate(e,y,k)}}},{key:"obtainDocumentId",value:function(e){return e??dn()}},{key:"filterDocument",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n=Iv({},n);for(var a=0,i=Object.entries(this.rootFilters);a<i.length;a++){var s=Me(i[a],2),o=s[0],l=s[1];if(o in n){if(!l(e,r,n[o]))return!1;delete n[o]}}return this.filterValue(r,n)}},{key:"filterValue",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return yt(n)?this.isOperation(n,this.attributeFilters)?this.runOperation(n,this.attributeFilters,{value:e},"value"):!!yt(e)&&!Object.entries(n).find(function(a){var i=Me(a,2),s=i[0],o=i[1];return!(r.isOperation(o,r.attributeFilters)?r.runOperation(o,r.attributeFilters,e,s):r.attributeEq(e,s,o))}):this.attributeEq({value:e},"value",n)}},{key:"isOperation",value:function(e,r){if(!yt(e))return!1;var n=Object.keys(e),a=Cb(n),i=a[0],s=a.slice(1);return!(!i||s.length!==0||!(i in r))}},{key:"runOperation",value:function(e,r){for(var n=Me(Object.entries(e)[0],2),a=n[0],i=n[1],s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];return r[a].apply(r,o.concat([i]))}},{key:"requireArrayProperty",value:function(e,r,n){if(!r||!yt(r)||!Array.isArray(r[n]))throw new Error("".concat(e," operator can only be applied to array attributes"));return r[n]}}]),t}();function kae(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return CS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return CS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rae=function(){function t(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Te(this,t),J(this,"database",void 0),J(this,"helper",void 0),J(this,"lock",void 0),J(this,"_metadataConnection",void 0),J(this,"_documentsConnection",void 0),this.database=$?"soukai-"+$:"soukai",this.helper=new Fo,this.lock=Lre("idb-".concat(this.database),function(){return new Lb})}var e,r,n,a,i,s,o,l,u,c,f,d,h,p,y,k;return Fe(t,[{key:"getCollections",value:(k=fe(V.mark(function $(){var b;return V.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.withMetadataTransaction("readonly",function(O){return O.store.getAllKeys()});case 2:return b=_.sent,_.abrupt("return",b.map(function(O){return O.toString()}));case 4:case"end":return _.stop()}},$,this)})),function(){return k.apply(this,arguments)})},{key:"purgeDatabase",value:(y=fe(V.mark(function $(){var b=this;return V.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return this.closeConnections(),_.next=3,Promise.all([OS("".concat(this.database,"-meta"),{blocked:function(){return b.throwDatabaseBlockedError()}}),OS(this.database,{blocked:function(){return b.throwDatabaseBlockedError()}})]);case 3:case"end":return _.stop()}},$,this)})),function(){return y.apply(this,arguments)})},{key:"closeConnections",value:(p=fe(V.mark(function $(){return V.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:this._metadataConnection&&this._metadataConnection.close(),this._documentsConnection&&this._documentsConnection.close(),delete this._metadataConnection,delete this._documentsConnection;case 4:case"end":return b.stop()}},$,this)})),function(){return p.apply(this,arguments)})},{key:"create",value:function($,b,_){var O=this;return this.lock.run(fe(V.mark(function R(){var P;return V.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return P=O.helper.obtainDocumentId(_),T.next=3,O.documentExists($,P);case 3:if(!T.sent){T.next=5;break}throw new zu(P);case 5:return T.next=7,O.createDocument($,P,b);case 7:return T.abrupt("return",P);case 8:case"end":return T.stop()}},R)})))}},{key:"readOne",value:(h=fe(V.mark(function $(b,_){var O;return V.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.collectionExists(b);case 2:if(R.sent){R.next=4;break}throw new Vr(_,b);case 4:return R.next=6,this.getDocument(b,_);case 6:if(O=R.sent){R.next=9;break}throw new Vr(_,b);case 9:return R.abrupt("return",O);case 10:case"end":return R.stop()}},$,this)})),function($,b){return h.apply(this,arguments)})},{key:"readMany",value:(d=fe(V.mark(function $(b,_){var O,R;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return O={},P.next=3,this.getCollections();case 3:if((R=P.sent).indexOf(b)!==-1){P.next=6;break}return P.abrupt("return",O);case 6:return P.next=8,this.withDocumentsTransaction(R,b,"readonly",function(T){var G=function(){var v=fe(V.mark(function w(x){return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(x){j.next=2;break}return j.abrupt("return");case 2:return O[x.key]=x.value,j.abrupt("return",x.continue().then(G));case 4:case"end":return j.stop()}},w)}));return function(w){return v.apply(this,arguments)}}();return T.store.openCursor().then(G)});case 8:return P.abrupt("return",this.helper.filterDocuments(O,_));case 9:case"end":return P.stop()}},$,this)})),function($,b){return d.apply(this,arguments)})},{key:"update",value:(f=fe(V.mark(function $(b,_,O){var R=this;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.lock.run(fe(V.mark(function T(){var G;return V.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,R.getDocument(b,_);case 2:if(G=v.sent){v.next=5;break}throw new Vr(_,b);case 5:return R.helper.updateAttributes(G,O),v.next=8,R.updateDocument(b,_,G);case 8:case"end":return v.stop()}},T)})));case 2:case"end":return P.stop()}},$,this)})),function($,b,_){return f.apply(this,arguments)})},{key:"delete",value:(c=fe(V.mark(function $(b,_){var O=this;return V.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.lock.run(fe(V.mark(function P(){return V.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,O.documentExists(b,_);case 2:if(T.sent){T.next=4;break}throw new Vr(_,b);case 4:return T.next=6,O.deleteDocument(b,_);case 6:case"end":return T.stop()}},P)})));case 2:case"end":return R.stop()}},$,this)})),function($,b){return c.apply(this,arguments)})},{key:"collectionExists",value:(u=fe(V.mark(function $(b){var _;return V.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.getCollections();case 2:return _=O.sent,O.abrupt("return",_.indexOf(b)!==-1);case 4:case"end":return O.stop()}},$,this)})),function($){return u.apply(this,arguments)})},{key:"documentExists",value:(l=fe(V.mark(function $(b,_){var O;return V.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.getDocument(b,_);case 2:return O=R.sent,R.abrupt("return",!!O);case 4:case"end":return R.stop()}},$,this)})),function($,b){return l.apply(this,arguments)})},{key:"getDocument",value:(o=fe(V.mark(function $(b,_){var O,R;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,this.getCollections();case 3:if((O=P.sent).indexOf(b)!==-1){P.next=6;break}return P.abrupt("return",null);case 6:return P.next=8,this.withDocumentsTransaction(O,b,"readonly",function(T){return T.store.get(_)});case 8:return R=P.sent,P.abrupt("return",R||null);case 12:return P.prev=12,P.t0=P.catch(0),P.abrupt("return",null);case 15:case"end":return P.stop()}},$,this,[[0,12]])})),function($,b){return o.apply(this,arguments)})},{key:"createDocument",value:(s=fe(V.mark(function $(b,_,O){var R;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getCollections();case 2:if((R=P.sent).indexOf(b)!==-1){P.next=7;break}return P.next=6,this.createCollection(b);case 6:R.push(b);case 7:return P.abrupt("return",this.withDocumentsTransaction(R,b,"readwrite",function(T){return T.store.add(O,_),T.done}));case 8:case"end":return P.stop()}},$,this)})),function($,b,_){return s.apply(this,arguments)})},{key:"updateDocument",value:(i=fe(V.mark(function $(b,_,O){var R;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getCollections();case 2:return R=P.sent,P.abrupt("return",this.withDocumentsTransaction(R,b,"readwrite",function(T){return T.store.put(O,_),T.done}));case 4:case"end":return P.stop()}},$,this)})),function($,b,_){return i.apply(this,arguments)})},{key:"deleteDocument",value:(a=fe(V.mark(function $(b,_){var O;return V.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.getCollections();case 2:return O=R.sent,R.abrupt("return",this.withDocumentsTransaction(O,b,"readwrite",function(P){return P.store.delete(_),P.done}));case 4:case"end":return R.stop()}},$,this)})),function($,b){return a.apply(this,arguments)})},{key:"withMetadataTransaction",value:(n=fe(V.mark(function $(b,_){var O,R=this;return V.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(P.t0=this._metadataConnection,P.t0){P.next=5;break}return P.next=4,AS("".concat(this.database,"-meta"),1,{upgrade:function(T){T.objectStoreNames.contains("collections")||T.createObjectStore("collections",{keyPath:"name"})},blocked:function(){return R.throwDatabaseBlockedError()}});case 4:P.t0=P.sent;case 5:return O=this._metadataConnection=P.t0,P.abrupt("return",this.retryingOnTransactionInactive(function(){var T=O.transaction("collections",b);return _(T)}));case 7:case"end":return P.stop()}},$,this)})),function($,b){return n.apply(this,arguments)})},{key:"withDocumentsTransaction",value:(r=fe(V.mark(function $(b,_,O,R){var P,T=this;return V.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(G.t0=this._documentsConnection,G.t0){G.next=5;break}return G.next=4,AS(this.database,b.length,{upgrade:function(v){var w,x=kae(b);try{for(x.s();!(w=x.n()).done;){var j=w.value;v.objectStoreNames.contains(j)||v.createObjectStore(j)}}catch(C){x.e(C)}finally{x.f()}},blocked:function(){return T.throwDatabaseBlockedError()}});case 4:G.t0=G.sent;case 5:return P=this._documentsConnection=G.t0,G.abrupt("return",this.retryingOnTransactionInactive(function(){var v=P.transaction(_,O);return R(v)}));case 7:case"end":return G.stop()}},$,this)})),function($,b,_,O){return r.apply(this,arguments)})},{key:"retryingOnTransactionInactive",value:function($){try{return $()}catch(b){if(!(b instanceof Error)||!b.name.toLowerCase().includes("inactive")&&!b.message.toLowerCase().includes("inactive"))throw b;return $()}}},{key:"createCollection",value:(e=fe(V.mark(function $(b){return V.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.withMetadataTransaction("readwrite",function(O){return O.store.add({name:b}),O.done});case 2:this._documentsConnection&&(this._documentsConnection.close(),delete this._documentsConnection);case 3:case"end":return _.stop()}},$,this)})),function($){return e.apply(this,arguments)})},{key:"throwDatabaseBlockedError",value:function(){throw new ze("An attempt to open an IndexedDB connection has been blocked, remember to call IndexedDBEngine.closeConnections when necessary. Learn more at https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/blocked_event")}}]),t}();(function(){function t(){Te(this,t),J(this,"db",{}),J(this,"helper",void 0),this.helper=new Fo}var e,r,n;return Fe(t,[{key:"database",get:function(){return this.db}},{key:"create",value:function(a,i,s){var o=this.collection(a);if((s=this.helper.obtainDocumentId(s))in o)throw new zu(s);return o[s]=i,Promise.resolve(s)}},{key:"readOne",value:(n=fe(V.mark(function a(i,s){var o,l;return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=this.collection(i),u.abrupt("return",(o=l[s])!==null&&o!==void 0?o:tt(Vr,s,l));case 2:case"end":return u.stop()}},a,this)})),function(a,i){return n.apply(this,arguments)})},{key:"readMany",value:(r=fe(V.mark(function a(i,s){var o;return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.hasCollection(i)){l.next=2;break}return l.abrupt("return",{});case 2:return o=this.collection(i),l.abrupt("return",this.helper.filterDocuments(o,s));case 4:case"end":return l.stop()}},a,this)})),function(a,i){return r.apply(this,arguments)})},{key:"update",value:(e=fe(V.mark(function a(i,s,o){var l,u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:u=this.collection(i),c=(l=u[s])!==null&&l!==void 0?l:tt(Vr,s,3,i),this.helper.updateAttributes(c,o);case 3:case"end":return f.stop()}},a,this)})),function(a,i,s){return e.apply(this,arguments)})},{key:"delete",value:function(a,i){var s=this.collection(a);return i in s?(delete s[i],Promise.resolve()):Promise.reject(new Vr(i,a))}},{key:"hasCollection",value:function(a){return a in this.db}},{key:"collection",value:function(a){var i,s;return(s=(i=this.db)[a])!==null&&s!==void 0?s:i[a]={}}}]),t})();(function(){function t(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";Te(this,t),J(this,"prefix",void 0),J(this,"helper",void 0),this.prefix=s,this.helper=new Fo}var e,r,n,a,i;return Fe(t,[{key:"clear",value:function(){for(var s=0,o=Object.keys(localStorage);s<o.length;s++){var l=o[s];l.startsWith(this.prefix)&&localStorage.removeItem(l)}}},{key:"create",value:(i=fe(V.mark(function s(o,l,u){var c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(c=this.readItem(o,{}),!((u=this.helper.obtainDocumentId(u))in c)){f.next=4;break}throw new zu(u);case 4:return c[u]=this.serializeAttributes(l),this.writeItem(o,c),f.abrupt("return",u);case 7:case"end":return f.stop()}},s,this)})),function(s,o,l){return i.apply(this,arguments)})},{key:"readOne",value:(a=fe(V.mark(function s(o,l){var u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(u=this.readItem(o,{}),c=u[l]){f.next=4;break}throw new Vr(l,o);case 4:return f.abrupt("return",this.deserializeAttributes(c));case 5:case"end":return f.stop()}},s,this)})),function(s,o){return a.apply(this,arguments)})},{key:"readMany",value:(n=fe(V.mark(function s(o,l){var u,c,f,d,h,p;return V.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(u=this.readItem(o,{}),c=0,f=Object.entries(u);c<f.length;c++)d=Me(f[c],2),h=d[0],p=d[1],u[h]=this.deserializeAttributes(p);return y.abrupt("return",this.helper.filterDocuments(u,l));case 3:case"end":return y.stop()}},s,this)})),function(s,o){return n.apply(this,arguments)})},{key:"update",value:(r=fe(V.mark(function s(o,l,u){var c,f,d;return V.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=this.readItem(o,{}),f=c[l]){h.next=4;break}throw new Vr(l,o);case 4:d=this.deserializeAttributes(f),this.helper.updateAttributes(d,u),c[l]=this.serializeAttributes(d),this.writeItem(o,c);case 8:case"end":return h.stop()}},s,this)})),function(s,o,l){return r.apply(this,arguments)})},{key:"delete",value:(e=fe(V.mark(function s(o,l){var u;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=this.readItem(o,{}),l in u){c.next=3;break}throw new Vr(l,o);case 3:delete u[l],this.writeItem(o,u);case 5:case"end":return c.stop()}},s,this)})),function(s,o){return e.apply(this,arguments)})},{key:"readItem",value:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=localStorage.getItem(this.prefix+s);return l!==null?JSON.parse(l):o}},{key:"writeItem",value:function(s,o){localStorage.setItem(this.prefix+s,JSON.stringify(o))}},{key:"serializeAttributes",value:function(s){for(var o in s){var l=s[o];s[o]=this.serializeAttributeValue(l)}return s}},{key:"serializeAttributeValue",value:function(s){var o=this;return Array.isArray(s)?s.map(function(l){return o.serializeAttributeValue(l)}):s instanceof Date?{__dateTime:s.getTime()}:wr(s)==="object"?this.serializeAttributes(s):s}},{key:"deserializeAttributes",value:function(s){for(var o in s){var l=s[o];s[o]=this.deserializeAttributeValue(l)}return s}},{key:"deserializeAttributeValue",value:function(s){var o=this;return Array.isArray(s)?s.map(function(l){return o.deserializeAttributeValue(l)}):yt(s)&&"__dateTime"in s?new Date(s.__dateTime):s}}]),t})();function Tae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){ot(r,OP);var e=Tae(r);function r(n){return Te(this,r),e.call(this,n,{create:function(){var a=arguments;return fe(V.mark(function i(){var s,o,l,u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:for(o=a.length,l=new Array(o),u=0;u<o;u++)l[u]=a[u];return(s=console).log.apply(s,["CREATE"].concat(l)),f.prev=2,f.next=5,n.create.apply(n,l);case 5:return c=f.sent,console.log("CREATED",c),f.abrupt("return",c);case 10:throw f.prev=10,f.t0=f.catch(2),console.error(f.t0),f.t0;case 14:case"end":return f.stop()}},i,null,[[2,10]])}))()},readOne:function(){var a=arguments;return fe(V.mark(function i(){var s,o,l,u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:for(o=a.length,l=new Array(o),u=0;u<o;u++)l[u]=a[u];return(s=console).log.apply(s,["READ ONE"].concat(l)),f.prev=2,f.next=5,n.readOne.apply(n,l);case 5:return c=f.sent,console.log("FOUND",c),f.abrupt("return",c);case 10:throw f.prev=10,f.t0=f.catch(2),console.error(f.t0),f.t0;case 14:case"end":return f.stop()}},i,null,[[2,10]])}))()},readMany:function(){var a=arguments;return fe(V.mark(function i(){var s,o,l,u,c;return V.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:for(o=a.length,l=new Array(o),u=0;u<o;u++)l[u]=a[u];return(s=console).log.apply(s,["READ ALL"].concat(l)),f.prev=2,f.next=5,n.readMany.apply(n,l);case 5:return c=f.sent,console.log("FOUND",c),f.abrupt("return",c);case 10:throw f.prev=10,f.t0=f.catch(2),console.error(f.t0),f.t0;case 14:case"end":return f.stop()}},i,null,[[2,10]])}))()},update:function(){var a=arguments;return fe(V.mark(function i(){var s,o,l,u;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:for(o=a.length,l=new Array(o),u=0;u<o;u++)l[u]=a[u];return(s=console).log.apply(s,["UPDATE"].concat(l)),c.prev=2,c.next=5,n.update.apply(n,l);case 5:console.log("UPDATED"),c.next=12;break;case 8:throw c.prev=8,c.t0=c.catch(2),console.error(c.t0),c.t0;case 12:case"end":return c.stop()}},i,null,[[2,8]])}))()},delete:function(){var a=arguments;return fe(V.mark(function i(){var s,o,l,u;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:for(o=a.length,l=new Array(o),u=0;u<o;u++)l[u]=a[u];return(s=console).log.apply(s,["DELETE"].concat(l)),c.prev=2,c.next=5,n.delete.apply(n,l);case 5:console.log("DELETED"),c.next=12;break;case 8:throw c.prev=8,c.t0=c.catch(2),console.error(c.t0),c.t0;case 12:case"end":return c.stop()}},i,null,[[2,8]])}))()}})}return Fe(r)})();var eo=void 0;function zc(t){for(;t&&Oae(t);)t=t.getProxySubject();return t}function kP(){return eo}function Wb(){return eo||tt(ze,"Engine must be initialized before performing any operations. Learn more at https://soukai.js.org/guide/engines.html")}function Kb(t){eo=t||void 0}function Pae(){return RP.apply(this,arguments)}function RP(){return(RP=fe(V.mark(function t(){return V.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(eo&&$ae(eo)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,eo.closeConnections();case 4:case"end":return e.stop()}},t)}))).apply(this,arguments)}var ln=function(){function t(e){Te(this,t),J(this,"value",void 0),this.value=String(e)}return Fe(t,[{key:"equals",value:function(e){return this.value===e.value}},{key:"toString",value:function(){return this.value}}],[{key:"from",value:function(e){return e instanceof t?e:new t(e)}}]),t}();function Cae(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return DS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return DS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Jb=function(){function t(r,n,a,i){Te(this,t),J(this,"name",void 0),J(this,"related",void 0),J(this,"parent",void 0),J(this,"relatedClass",void 0),J(this,"foreignKeyName",void 0),J(this,"localKeyName",void 0),J(this,"enabled",!0),J(this,"deleteStrategy",null),this.parent=r,this.relatedClass=n,this.foreignKeyName=a,this.localKeyName=i||n.primaryKey}var e;return Fe(t,[{key:"loaded",get:function(){return this.related!==void 0}},{key:"static",value:function(){return this.constructor}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"resolve",value:function(){return this.load()}},{key:"isEmpty",value:function(){return null}},{key:"getModels",value:(e=fe(V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.loaded){n.next=3;break}return n.next=3,this.load();case 3:return n.abrupt("return",this.getLoadedModels());case 4:case"end":return n.stop()}},r,this)})),function(){return e.apply(this,arguments)})},{key:"getLoadedModels",value:function(){return this.related?Cr(this.related):[]}},{key:"unload",value:function(){delete this.related}},{key:"onDelete",value:function(r){return this.deleteStrategy=r,this}},{key:"clone",value:function(){var r,n,a,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=(r=i.clones)!==null&&r!==void 0?r:new WeakMap,o=(n=i.constructors)!==null&&n!==void 0?n:new WeakMap,l=Object.create(Object.getPrototypeOf(this));return l.name=this.name,l.parent=this.parent,l.foreignKeyName=this.foreignKeyName,l.localKeyName=this.localKeyName,l.deleteStrategy=this.deleteStrategy,l.enabled=this.enabled,l.relatedClass=(a=o.get(this.relatedClass))!==null&&a!==void 0?a:this.relatedClass,this.related===null?l.related=null:Array.isArray(this.related)?l.related=this.related.map(function(u){return u.clone({clones:s,constructors:o})}):this.related&&(l.related=this.related.clone({clones:s,constructors:o})),l}},{key:"initializeInverseRelations",value:function(r){var n,a=Cae(this.relatedClass.relations);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=r.requireRelation(i);s.enabled&&s.isInverseOf(this)&&(s.setForeignAttributes(this.parent),s.addRelated(this.parent))}}catch(o){a.e(o)}finally{a.f()}}},{key:"isInverseOf",value:function(r){return this.static().inverseRelationClasses.some(function(n){return r instanceof n})&&r.relatedClass===this.parent.constructor&&r.foreignKeyName===this.foreignKeyName&&r.localKeyName===this.localKeyName}}]),t}();function Dae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}J(Jb,"inverseRelationClasses",[]);var ui=function(t){ot(r,Jb);var e=Dae(r);function r(n,a,i,s){return Te(this,r),e.call(this,n,a,i||Gi(a.name+"_"+a.primaryKey+"s"),s)}return Fe(r,[{key:"attach",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a instanceof this.relatedClass?a:this.relatedClass.newInstance(a);return Ve(i,function(){n.assertLoaded("attach")&&!n.isRelated(i)&&(n.addRelated(i),n.initializeInverseRelations(i),n.setForeignAttributes(i))})}},{key:"addRelated",value:function(n){var a;this.related=cn([].concat(Pt((a=this.related)!==null&&a!==void 0?a:[]),[n]))}},{key:"isRelated",value:function(n){var a;return!((a=this.related)===null||a===void 0||!a.includes(n))}},{key:"assertLoaded",value:function(n){if(this.loaded)return!0;if(!this.parent.exists())return this.related=[],!0;throw new ze('The "'.concat(n,`" method can't be called before loading the relationship`))}}]),r}();function jae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var to=function(t){ot(n,ui);var e,r=jae(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:"isEmpty",value:function(){return this.parent.getAttribute(this.foreignKeyName).length===0}},{key:"load",value:(e=fe(V.mark(function a(){var i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.parent.getAttribute(this.foreignKeyName),!this.isEmpty()){s.next=5;break}s.t0=[],s.next=15;break;case 5:if(this.localKeyName!==this.relatedClass.primaryKey){s.next=11;break}return s.next=8,this.relatedClass.all({$in:i});case 8:s.t1=s.sent,s.next=14;break;case 11:return s.next=13,this.relatedClass.all(J({},this.localKeyName,{$or:[].concat(Pt(i.map(function(o){return{$eq:o}})),Pt(i.map(function(o){return{$contains:o}})))}));case 13:s.t1=s.sent;case 14:s.t0=s.t1;case 15:return this.related=s.t0,s.abrupt("return",this.related);case 17:case"end":return s.stop()}},a,this)})),function(){return e.apply(this,arguments)})},{key:"setForeignAttributes",value:function(a){var i=a.getAttribute(this.localKeyName);if(i){var s=this.parent.getAttribute(this.foreignKeyName);s.includes(i)||this.parent.setAttribute(this.foreignKeyName,[].concat(Pt(s),[i]))}}}]),n}();function Lae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Uo=function(t){ot(r,Jb);var e=Lae(r);function r(n,a,i,s){return Te(this,r),e.call(this,n,a,i||Gi(a.name+"_"+a.primaryKey),s)}return Fe(r,[{key:"attach",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a instanceof this.relatedClass?a:this.relatedClass.newInstance(a);return Ve(i,function(){if(n.loaded&&!n.isRelated(i))throw new ze(`The "attach" method can't be called because a related model already exists, use a hasMany relationship if you want to support multiple related models.`);n.addRelated(i),n.initializeInverseRelations(i),n.setForeignAttributes(i)})}},{key:"addRelated",value:function(n){this.related=n}},{key:"isRelated",value:function(n){return n===this.related}}]),r}();function Mae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Pl=function(t){ot(n,Uo);var e,r=Mae(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:"isEmpty",value:function(){return!this.parent.getAttribute(this.foreignKeyName)}},{key:"load",value:(e=fe(V.mark(function a(){var i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.parent.getAttribute(this.foreignKeyName),!this.isEmpty()){s.next=5;break}s.t0=null,s.next=15;break;case 5:if(this.localKeyName!==this.relatedClass.primaryKey){s.next=11;break}return s.next=8,this.relatedClass.find(i);case 8:s.t1=s.sent,s.next=14;break;case 11:return s.next=13,this.relatedClass.first(J({},this.localKeyName,i));case 13:s.t1=s.sent;case 14:s.t0=s.t1;case 15:return this.related=s.t0,s.abrupt("return",this.related);case 17:case"end":return s.stop()}},a,this)})),function(){return e.apply(this,arguments)})},{key:"setForeignAttributes",value:function(a){var i=a.getAttribute(this.localKeyName);i&&this.parent.setAttribute(this.foreignKeyName,i)}}]),n}();function Nae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Cl=function(t){ot(n,ui);var e,r=Nae(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:"load",value:(e=fe(V.mark(function a(){var i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.parent.getAttribute(this.localKeyName),s.next=3,this.relatedClass.all(J({},this.foreignKeyName,{$or:[{$eq:i},{$contains:i}]}));case 3:return this.related=s.sent,s.abrupt("return",this.related);case 5:case"end":return s.stop()}},a,this)})),function(){return e.apply(this,arguments)})},{key:"setForeignAttributes",value:function(a){var i=this.parent.getAttribute(this.localKeyName);if(i){var s=a.getAttribute(this.foreignKeyName);Array.isArray(s)?s.includes(i)||a.setAttribute(this.foreignKeyName,[].concat(Pt(s),[i])):a.setAttribute(this.foreignKeyName,i)}}}]),n}();function Fae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Dl=function(t){ot(n,Uo);var e,r=Fae(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:"load",value:(e=fe(V.mark(function a(){var i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.parent.getAttribute(this.localKeyName),s.next=3,this.relatedClass.first(J({},this.foreignKeyName,{$or:[{$eq:i},{$contains:i}]}));case 3:return this.related=s.sent,s.abrupt("return",this.related);case 5:case"end":return s.stop()}},a,this)})),function(){return e.apply(this,arguments)})},{key:"setForeignAttributes",value:function(a){var i=this.parent.getAttribute(this.localKeyName);if(i){var s=a.getAttribute(this.foreignKeyName);Array.isArray(s)?s.includes(i)||a.setAttribute(this.foreignKeyName,[].concat(Pt(s),[i])):a.setAttribute(this.foreignKeyName,i)}}}]),n}(),xe={Number:"number",String:"string",Boolean:"boolean",Array:"array",Object:"object",Date:"date",Key:"key",Any:"any"},jS=Object.values(xe);function dg(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0&&arguments[3],a={};if(typeof r=="string"&&jS.indexOf(r)!==-1)a.type=r;else{if(wr(r)!=="object")throw new ni(t,"Invalid field definition ".concat(e));a=r}if(a.type===void 0)a={type:xe.Object,fields:a};else if(jS.indexOf(a.type)===-1)throw new ni(t,"Invalid field definition ".concat(e));switch(n||(a.required=!!a.required),a.type){case xe.Object:if(a.fields===void 0)throw new ni(t,"Field definition of type object requires fields attribute ".concat(e));for(var i in a.fields)Xf(a.fields,i)&&(a.fields[i]=dg(t,i,a.fields[i]));break;case xe.Array:if(a.items===void 0)throw new ni(t,"Field definition of type array requires items attribute. Field: '".concat(e,"'"));a.items=dg(t,"items",a.items,!0)}return a}function LS(t){return t.type===xe.Array}function TP(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var a=Me(n[r],2),i=a[0],s=a[1];if(!(i in t))switch(s.type){case xe.Object:t[i]={};break;case xe.Array:t[i]=[];break;default:t[i]=void 0}if(s.type===xe.Object){var o=t[i];if(!yt(o))throw new ze("Invalid value for field ".concat(i));t[i]=TP(o,s.fields)}}return t}function PP(t,e){for(var r=0,n=Object.entries(e);r<n.length;r++){var a=Me(n[r],2),i=a[0],s=a[1];if(s.required&&(!(i in t)||eg(t[i])))throw new ze("The ".concat(i," attribute is required."));if(i in t&&!eg(t[i])&&s.type===xe.Object){var o=t[i];if(!yt(o))throw new ze("Invalid value for field ".concat(i));PP(o,s.fields)}}}function bf(t,e){for(var r in t=Nn(t)){var n=e[r];if(t[r]===void 0)delete t[r];else if(r in e&&n.type===xe.Object){var a=bf(t[r],n.fields);Qf(a)?delete t[r]:t[r]=a}}return t}var _t={CreatedAt:"createdAt",UpdatedAt:"updatedAt"},Ev=Object.values(_t),ol=new WeakMap;function MS(t){var e,r=t.target,n=(e=ol.get(r))!==null&&e!==void 0?e:[t.getTargetEngine(),0],a=Me(n,2),i=a[0],s=a[1],o=function(){var u=ol.get(r),c=Me(u,2),f=c[0],d=c[1];d>1?ol.set(r,[f,d-1]):(ol.delete(r),r.setEngine(f))},l=function(u){var c=u();return c instanceof Promise?c.then(function(){return Ve(c,function(){return o()})}):Ve(c,function(){return o()})};return ol.set(r,[i,s+1]),r.setEngine(t.engine),t.operation?l(t.operation):new Proxy(r,{get:function(u,c,f){var d=Reflect.get(u,c,f);return typeof d!="function"?(o(),d):function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return l(function(){return d.call.apply(d,[u].concat(p))})}}})}var wf=new WeakMap;function Uae(t,e,r){var n;wf.has(t)||wf.set(t,{});var a=wf.get(t),i=(n=a[e])!==null&&n!==void 0?n:a[e]=[];return i.push(r),function(){return Dr(i,r)}}function Bae(t){return hg.apply(this,arguments)}function hg(){return hg=fe(V.mark(function t(e){var r,n,a,i,s=arguments;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=s.length<=1?void 0:s[1],a=s.length<=2?void 0:s[2],i=(r=wf.get(e.static()))===null||r===void 0?void 0:r[n]){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,Promise.all(i.map(function(l){return l(e,a)}));case 7:case"end":return o.stop()}},t)})),hg.apply(this,arguments)}function NS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Av(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return FS(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return FS(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var US=new WeakSet,nr=function(){function t(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Te(this,t),!("__pureInstance"in v))return this.static().ensureBooted(),this.initializeProxy(),this.initialize(v,w),this._proxy}var e,r,n,a,i,s,o,l,u,c,f,d,h,p,y,k,$,b,_,O,R,P,T,G;return Fe(t,[{key:"static",value:function(v){var w=this.constructor;return v?w[v]:w}},{key:"newInstance",value:function(){for(var v=this.constructor,w=arguments.length,x=new Array(w),j=0;j<w;j++)x[j]=arguments[j];return Nd(v,x)}},{key:"fresh",value:(G=fe(V.mark(function v(){var w,x;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(w=this.getPrimaryKey())){j.next=7;break}return j.next=4,this.static().find(w);case 4:j.t0=j.sent,j.next=8;break;case 7:j.t0=null;case 8:if(x=j.t0){j.next=11;break}throw new ze("Couldn't get fresh instance for ".concat(this.static("modelName")," with id '").concat(w,"'"));case 11:return j.abrupt("return",x);case 12:case"end":return j.stop()}},v,this)})),function(){return G.apply(this,arguments)})},{key:"update",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var w in v=this.castAttributes(v,this.static("fields")))this.setAttribute(w,v[w]);return this.save()}},{key:"hasRelation",value:function(v){return this.static("relations").indexOf(v)!==-1}},{key:"getRelation",value:function(v){return this._relations[v]||null}},{key:"requireRelation",value:function(v){var w;return(w=this._relations[v])!==null&&w!==void 0?w:tt(ze,"Attempting to use undefined ".concat(v," relation."))}},{key:"getEngine",value:function(){var v;return(v=this._engine)!==null&&v!==void 0?v:this.static().getEngine()}},{key:"getFinalEngine",value:function(){var v=this.getEngine();return v&&zc(v)}},{key:"requireEngine",value:function(){var v;return(v=this._engine)!==null&&v!==void 0?v:this.static().requireEngine()}},{key:"requireFinalEngine",value:function(){return zc(this.requireEngine())}},{key:"loadRelation",value:(T=fe(V.mark(function v(w){var x,j;return V.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return x=this.requireRelation(w),C.next=3,x.relatedClass.withEngine(this.requireEngine(),function(){return x.load()});case 3:return j=C.sent,this.emit("relation-loaded",x),C.abrupt("return",j);case 6:case"end":return C.stop()}},v,this)})),function(v){return T.apply(this,arguments)})},{key:"loadRelationIfUnloaded",value:(P=fe(V.mark(function v(w){var x;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return x=this.requireRelation(w),j.abrupt("return",x.loaded?x.getLoadedModels():this.loadRelation(w));case 2:case"end":return j.stop()}},v,this)})),function(v){return P.apply(this,arguments)})},{key:"unloadRelation",value:function(v){this.requireRelation(v).unload()}},{key:"getRelationModel",value:function(v){var w,x,j,C=this.requireRelation(v);return C instanceof ui?(console.warn("You're getting a single model from the multi-model '".concat(v,"' relation ")+"in the '".concat(this.static("modelName"),"' model.")),(x=(j=C.related)===null||j===void 0?void 0:j[0])!==null&&x!==void 0?x:null):(w=C.related)!==null&&w!==void 0?w:null}},{key:"getRelationModels",value:function(v){var w,x=this.requireRelation(v);return x instanceof Uo?x.related?[x.related]:null:(w=x.related)!==null&&w!==void 0?w:null}},{key:"setRelationModel",value:function(v,w){var x=this.requireRelation(v);if(x instanceof ui)return console.warn("You're setting a single model for the multi-model '".concat(v,"' relation ")+"in the '".concat(this.static("modelName"),"' model.")),void(x.related=[w]);x.related=w}},{key:"setRelationModels",value:function(v,w){var x=this.requireRelation(v);x.related=function(){var j;if(w===null||x instanceof ui)return w;if(w.length>0)throw new ze("Can't set multiple models for SingleModelRelation, use setRelationModel instead");return(j=w[0])!==null&&j!==void 0?j:null}()}},{key:"isRelationLoaded",value:function(v){return this.requireRelation(v).loaded}},{key:"hasAttribute",value:function(v){var w,x=v.split("."),j=bf(this._attributes,this.static("fields")),C=Av(x);try{for(C.s();!(w=C.n()).done;){var B=w.value;if(!yt(j)||!(B in j))return!1;j=j[B]}}catch(X){C.e(X)}finally{C.f()}return j!==void 0}},{key:"setAttribute",value:function(v,w){var x=this.getAttribute(v);this.hasAttributeSetter(v)?this.callAttributeSetter(v,w):this.setAttributeValue(v,w),this.attributeValueChanged(x,w)&&this.emit("modified",v)}},{key:"setAttributeValue",value:function(v,w){this._attributes[v]=w=this.castAttribute(w,{definition:this.static("fields")[v]}),this.markAttributeDirty(v,this._originalAttributes[v],w)?this._dirtyAttributes[v]=w:delete this._dirtyAttributes[v]}},{key:"hasAttributeSetter",value:function(v){return this.static("__attributeSetters").has(v)}},{key:"callAttributeSetter",value:function(v,w){var x=this.static("__attributeSetters").get(v);return x==null?void 0:x.call(this,w)}},{key:"getOriginalAttribute",value:function(v){return this._originalAttributes[v]}},{key:"setOriginalAttribute",value:function(v,w){w=this.castAttribute(w,{definition:this.static("fields")[v]}),this._originalAttributes[v]=w,this._attributes[v]=w,delete this._dirtyAttributes[v]}},{key:"setAttributes",value:function(v){for(var w=0,x=Object.entries(v);w<x.length;w++){var j=Me(x[w],2),C=j[0],B=j[1];this.setAttribute(C,B)}}},{key:"getMalformedDocumentAttributes",value:function(){return this._malformedDocumentAttributes}},{key:"setMalformedDocumentAttributes",value:function(v){this._malformedDocumentAttributes=v}},{key:"setEngine",value:function(v){v?this._engine=v:delete this._engine}},{key:"withEngine",value:function(v,w){var x=this;return MS({target:this,getTargetEngine:function(){return x._engine},operation:w&&function(){return w(x)},engine:v})}},{key:"withoutTimestamps",value:(R=fe(V.mark(function v(w){var x=this;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return this.static().ignoringTimestamps.set(this,!0),j.t0=Ve,j.next=4,w();case 4:return j.t1=j.sent,j.t2=function(){return x.static().ignoringTimestamps.delete(x)},j.abrupt("return",(0,j.t0)(j.t1,j.t2));case 7:case"end":return j.stop()}},v,this)})),function(v){return R.apply(this,arguments)})},{key:"getAttribute",value:function(v){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.hasAttributeGetter(v)?this.callAttributeGetter(v):this.getAttributeValue(v,w)}},{key:"getAttributeValue",value:function(v){for(var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=v.split("."),j=this.getAttributes(w);x.length>0;){var C=j[x.shift()];if(!yt(C))return C;j=C}return j}},{key:"getAttributes",value:function(){var v=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return v?Nn(this._attributes):bf(this._attributes,this.static("fields"))}},{key:"hasAttributeGetter",value:function(v){return this.static("__attributeGetters").has(v)}},{key:"callAttributeGetter",value:function(v){var w=this.static("__attributeGetters").get(v);return w==null?void 0:w.call(this)}},{key:"unsetAttribute",value:function(v){Xf(this._attributes,v)&&(v in this.static("fields")?this._attributes[v]=void 0:delete this._attributes[v],this._originalAttributes[v]!==void 0&&(this._dirtyAttributes[v]=void 0))}},{key:"is",value:function(v){return this.getPrimaryKey()===v.getPrimaryKey()}},{key:"isDirty",value:function(v){return v?v in this._dirtyAttributes:Object.values(this._dirtyAttributes).length>0}},{key:"cleanDirty",value:function(){this._originalAttributes=Nn(this._attributes),this._dirtyAttributes={},this._exists=!0}},{key:"getPrimaryKey",value:function(){var v;return(v=this._attributes[this.static("primaryKey")])!==null&&v!==void 0?v:null}},{key:"getSerializedPrimaryKey",value:function(){var v=this.getPrimaryKey();return v?this.serializeKey(v):null}},{key:"delete",value:(O=fe(V.mark(function v(){return V.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(this._exists){w.next=2;break}return w.abrupt("return",this);case 2:return w.next=4,this.performDelete();case 4:return w.next=6,this.emit("deleted");case 6:return w.abrupt("return",this);case 7:case"end":return w.stop()}},v,this)})),function(){return O.apply(this,arguments)})},{key:"save",value:(_=fe(V.mark(function v(){var w;return V.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(PP(this._attributes,this.static("fields")),!(w=this.exists())||this.isDirty()){x.next=4;break}return x.abrupt("return",this);case 4:return x.next=6,this.beforeSave();case 6:return x.next=8,this.performSave();case 8:return x.next=10,this.afterSave();case 10:return x.next=12,this.emit(w?"updated":"created");case 12:return x.abrupt("return",this);case 13:case"end":return x.stop()}},v,this)})),function(){return _.apply(this,arguments)})},{key:"fixMalformedAttributes",value:function(){this.performMalformedAttributeFixes(),this._malformedDocumentAttributes={}}},{key:"touch",value:function(){this.setAttribute(_t.UpdatedAt,new Date)}},{key:"setExists",value:function(v){this._exists=v}},{key:"exists",value:function(){return this._exists}},{key:"wasRecentlyCreated",value:function(){return this._wasRecentlyCreated}},{key:"clone",value:function(){var v,w,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=(v=x.clones)!==null&&v!==void 0?v:new WeakMap;if(j.has(this))return j.get(this);var C=x.constructors,B=Array.isArray(C)?Ve(new WeakMap,function(g){C.forEach(function(A){var M=Me(A,2),W=M[0],Z=M[1];return g.set(W,Z)})}):C??new WeakMap,X=(w=B.get(this.static()))!==null&&w!==void 0?w:this.static(),K=new X(this.getAttributes());j.set(this,K);for(var F=0,U=Object.entries(this._relations);F<U.length;F++){var z=Me(U[F],2),H=z[0],q=z[1];K._relations[H]=Ve(q.clone({clones:j,constructors:B}),function(g){return g.parent=K})}return x.clean&&K.cleanDirty(),K}},{key:"initialize",value:function(v,w){this._exists=w,this._wasRecentlyCreated=!1,this.initializeAttributes(v,w),this.initializeRelations()}},{key:"initializeProxy",value:function(){this._proxy=new Proxy(this,{get:function(v,w,x){if(typeof w!="string"||w in v||v.static("classFields").indexOf(w)!==-1)return Reflect.get(v,w,x);if(v.hasRelation(w))return v._proxy.isRelationLoaded(w)?v._proxy.requireRelation(w).related:void 0;if(w.startsWith("related")){var j=Gi(w.substr(7));if(v._proxy.hasRelation(j))return v._relations[j]}return v._proxy.getAttribute(w)},set:function(v,w,x,j){return typeof w!="string"||w in v||v.static("classFields").indexOf(w)!==-1?Reflect.set(v,w,x,j):v._proxy.hasRelation(w)?(v._proxy.requireRelation(w).related=x,!0):(v._proxy.setAttribute(w,x),!0)},deleteProperty:function(v,w){return typeof w!="string"||w in v?Reflect.deleteProperty(v,w):v._proxy.hasRelation(w)?(v._proxy.unloadRelation(w),!0):w in v._attributes&&v.static("classFields").indexOf(w)===-1?(v._proxy.unsetAttribute(w),!0):Reflect.deleteProperty(v,w)}})}},{key:"initializeAttributes",value:function(v,w){var x=this.static("fields");this._malformedDocumentAttributes={},this._attributes=Nn(v),this._attributes=this.castAttributes(TP(this._attributes,x),x,this._malformedDocumentAttributes),this._originalAttributes=w?Nn(this._attributes):{},this._dirtyAttributes=w?{}:Nn(this._attributes),delete this._malformedDocumentAttributes[this.static("primaryKey")]}},{key:"initializeRelations",value:function(){var v=this;this._relations=this.static("relations").reduce(function(w,x){var j,C=v._proxy,B=(j=C[Gi(x)+"Relationship"])===null||j===void 0?void 0:j.call(C);return B.name=x,w[x]=B,w},{})}},{key:"getDefaultCollection",value:function(){return this.static("modelName").toLowerCase()+"s"}},{key:"createFromEngineDocument",value:(b=fe(V.mark(function v(w,x){var j;return V.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.parseEngineDocumentAttributes(w,x);case 2:return(j=C.sent)[this.static("primaryKey")]=w,C.abrupt("return",this.newInstance(j,!0));case 5:case"end":return C.stop()}},v,this)})),function(v,w){return b.apply(this,arguments)})},{key:"createManyFromEngineDocuments",value:($=fe(V.mark(function v(w){var x=this;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Promise.all(Object.entries(w).map(function(C){var B=Me(C,2),X=B[0],K=B[1];return x.createFromEngineDocument(x.parseKey(X),K)})));case 1:case"end":return j.stop()}},v)})),function(v){return $.apply(this,arguments)})},{key:"beforeSave",value:(k=fe(V.mark(function v(){var w,x,j,C;return V.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:w=new Date,(x=this.static().ignoringTimestamps).has(this)||x.has(this.static())||(this.static().hasAutomaticTimestamp(_t.CreatedAt)&&this.setAttribute(_t.CreatedAt,(j=this.getAttribute(_t.CreatedAt))!==null&&j!==void 0?j:w),this.static().hasAutomaticTimestamp(_t.UpdatedAt)&&(C=this.isDirty(_t.UpdatedAt)?this.getAttribute(_t.UpdatedAt):w,this.setAttribute(_t.UpdatedAt,C??w)));case 3:case"end":return B.stop()}},v,this)})),function(){return k.apply(this,arguments)})},{key:"performSave",value:(y=fe(V.mark(function v(){var w,x;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return w=this.exists(),j.next=3,this.syncDirty();case 3:x=j.sent,this._wasRecentlyCreated=this._wasRecentlyCreated||!w,this._attributes[this.static("primaryKey")]=this.parseKey(x);case 6:case"end":return j.stop()}},v,this)})),function(){return y.apply(this,arguments)})},{key:"afterSave",value:(p=fe(V.mark(function v(){return V.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.cleanDirty(),w.next=3,this.loadEmptyRelations();case 3:case"end":return w.stop()}},v,this)})),function(){return p.apply(this,arguments)})},{key:"performDelete",value:(h=fe(V.mark(function v(){var w;return V.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.getCascadeModels();case 2:return w=x.sent,x.next=5,this.deleteModelsFromEngine(w);case 5:w.forEach(function(j){return j.reset()});case 6:case"end":return x.stop()}},v,this)})),function(){return h.apply(this,arguments)})},{key:"performMalformedAttributeFixes",value:function(){for(var v=this,w=Object.keys(this._malformedDocumentAttributes),x=function(K,F){return F.type===xe.Array?w.some(function(U){return U.startsWith("".concat(K,"."))}):K in v._malformedDocumentAttributes},j=0,C=Object.entries(this.static("fields"));j<C.length;j++){var B=Me(C[j],2),X=B[0];x(X,B[1])&&(this._dirtyAttributes[X]=this._attributes[X])}}},{key:"emit",value:(d=fe(V.mark(function v(){var w,x,j,C=arguments;return V.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:for(w=C.length,x=new Array(w),j=0;j<w;j++)x[j]=C[j];return B.abrupt("return",Bae.apply(void 0,[this].concat(x)));case 2:case"end":return B.stop()}},v,this)})),function(){return d.apply(this,arguments)})},{key:"syncDirty",value:(f=fe(V.mark(function v(){var w,x;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(this.exists()){j.next=2;break}return j.abrupt("return",this.requireEngine().create(this.static("collection"),this.toEngineDocument(),this.getSerializedPrimaryKey()||void 0));case 2:return w=this.getDirtyEngineDocumentUpdates(),x=this.getSerializedPrimaryKey(),j.next=6,this.requireEngine().update(this.static("collection"),x,w);case 6:return j.abrupt("return",x);case 7:case"end":return j.stop()}},v,this)})),function(){return f.apply(this,arguments)})},{key:"getCascadeModels",value:(c=fe(V.mark(function v(){var w,x,j,C=this;return V.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return w=this.static("relations").map(function(X){return C.requireRelation(X)}).filter(function(X){return X.enabled&&X.deleteStrategy==="cascade"}).map(function(){var X=fe(V.mark(function K(F){var U;return V.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,F.getModels();case 2:return U=z.sent,z.abrupt("return",U.map(function(H){return H.getCascadeModels()}));case 4:case"end":return z.stop()}},K)}));return function(K){return X.apply(this,arguments)}}()),B.next=3,Promise.all(w);case 3:return x=B.sent,B.next=6,Promise.all(x.flat());case 6:return j=B.sent,B.abrupt("return",[].concat(Pt(j.flat()),[this]).filter(function(X){return X.exists()}));case 8:case"end":return B.stop()}},v,this)})),function(){return c.apply(this,arguments)})},{key:"deleteModelsFromEngine",value:(u=fe(V.mark(function v(w){var x,j=this;return V.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return x=w.map(function(B){return[B.static("collection"),B.getSerializedPrimaryKey()]}),C.next=3,Promise.all(x.map(function(B){var X=Me(B,2),K=X[0],F=X[1];return j.requireEngine().delete(K,F)}));case 3:case"end":return C.stop()}},v)})),function(v){return u.apply(this,arguments)})},{key:"resetEngineData",value:function(){this.reset()}},{key:"reset",value:function(){delete this._attributes[this.static("primaryKey")],this._exists=!1,this._dirtyAttributes=Nn(this._attributes)}},{key:"hasOne",value:function(v,w,x){return new Dl(this,v,w,x)}},{key:"belongsToOne",value:function(v,w,x){return new Pl(this,v,w,x)}},{key:"hasMany",value:function(v,w,x){return new Cl(this,v,w,x)}},{key:"belongsToMany",value:function(v,w,x){return new to(this,v,w,x)}},{key:"loadEmptyRelations",value:(l=fe(V.mark(function v(){return V.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Promise.all(Object.values(this._relations).filter(function(x){return x.enabled&&!x.loaded&&x.isEmpty()}).map(function(x){return x.load()}));case 2:case"end":return w.stop()}},v,this)})),function(){return l.apply(this,arguments)})},{key:"attributeValueChanged",value:function(v,w){return v instanceof ln?At(v)!==At(w):!jb(v,w)}},{key:"markAttributeDirty",value:function(v,w,x){return this.attributeValueChanged(w,x)}},{key:"castAttributes",value:function(v,w,x){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",C={};for(var B in v)C[B]=this.castAttribute(v[B],{field:j+B,malformedAttributes:x,definition:w[B]});return C}},{key:"castAttribute",value:function(v){var w=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=x.field,C=x.definition,B=x.malformedAttributes;if(eg(v))return v;if(C===void 0)switch(wr(v)){case"object":return Array.isArray(v)?v.map(function(U,z){return w.castAttribute(U,{field:j&&"".concat(j,".").concat(z),malformedAttributes:B})}):v instanceof Date||v instanceof ln?v:At(v);case"symbol":case"function":case"undefined":return;default:return v}switch(C.type){case xe.Date:if(!(["string","number"].includes(wr(v))||v instanceof Date))throw new ze("Invalid Date value: ".concat(v));return new Date(v);case xe.Object:if(!yt(v))throw new ze("Invalid Object value: ".concat(v));return this.castAttributes(v,C.fields,B,j&&"".concat(j,"."));case xe.Array:if(!Array.isArray(v))throw new ze("Invalid Array value: ".concat(v));return v.map(function(U,z){return w.castAttribute(U,{field:j&&"".concat(j,".").concat(z),definition:C.items,malformedAttributes:B})});case xe.Boolean:return!!v;case xe.Number:var X=parseFloat(v);if(isNaN(X))throw new ze("Invalid Number value: ".concat(v));return X;case xe.String:return At(v);case xe.Key:if(v instanceof ln)return At(v);if(j&&B){var K,F=(K=B[j])!==null&&K!==void 0?K:[];B[j]=[].concat(Pt(F),["malformed-key"])}return v;default:return v}}},{key:"toEngineDocument",value:function(){return bf(this._attributes,this.static("fields"))}},{key:"getDirtyEngineDocumentUpdates",value:function(){var v=Nn(this._dirtyAttributes);for(var w in v)v[w]===void 0&&(v[w]={$unset:!0});return v}},{key:"parseEngineDocumentAttributes",value:(o=fe(V.mark(function v(w,x){return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",zae({},x));case 1:case"end":return j.stop()}},v)})),function(v,w){return o.apply(this,arguments)})},{key:"serializeKey",value:function(v){return At(v)}},{key:"parseKey",value:function(v){return v}}],[{key:"boot",value:function(v){var w,x;this.bootedModels.set(this,!0);var j=this,C=j.pureInstance(),B={},X=Object.getOwnPropertyDescriptor(j,"modelName");if(j.modelName=(w=(x=X==null?void 0:X.value)!==null&&x!==void 0?x:v)!==null&&w!==void 0?w:j.name,j.bootCollection(),typeof j.timestamps=="boolean"||j.timestamps===void 0)if(j.timestamps===void 0||j.timestamps){var K,F=Av(Ev);try{for(F.s();!(K=F.n()).done;)B[K.value]={type:xe.Date,required:!1}}catch(re){F.e(re)}finally{F.f()}j.timestamps=Ev}else j.timestamps=[];else{if(!Array.isArray(j.timestamps))throw new ni(j.modelName,"Invalid timestamps definition");var U,z=Av(j.timestamps);try{for(z.s();!(U=z.n()).done;){var H=U.value;if(!Ev.includes(H))throw new ni(j.modelName,"Invalid timestamp field defined (".concat(H,")"));B[H]={type:xe.Date,required:!1}}}catch(re){z.e(re)}finally{z.f()}}if(this.fields!==void 0)for(var q=0,g=Object.entries(this.fields);q<g.length;q++){var A,M,W=Me(g[q],2),Z=W[0],N=W[1];if(Xf(this.fields,Z)&&(B[Z]=dg(j.modelName,Z,N),j.timestamps.includes(Z)&&(((A=B[Z])===null||A===void 0?void 0:A.type)!==xe.Date||(M=B[Z])!==null&&M!==void 0&&M.required)))throw new ni(j.modelName,"Field ".concat(Z," definition must be type Date and not required ")+"because it is used an automatic timestamp. Learn more at https://soukai.js.org/guide/defining-models.html#automatic-timestamps")}j.primaryKey in B||(B[j.primaryKey]={type:xe.Key,required:!1});for(var ee=Object.getOwnPropertyNames(C).concat(["_engine"]),ne=[],m=new Map,E=new Map,D=Object.getPrototypeOf(C);D!==t.prototype;){D.constructor.classFields&&ee.push.apply(ee,Pt(D.constructor.classFields));for(var S=0,I=Object.entries(Object.getOwnPropertyDescriptors(D));S<I.length;S++){var L=Me(I[S],2),Q=L[0];typeof L[1].value=="function"&&(Q.endsWith("Relationship")?ne.push(Q.slice(0,-12)):Q.match(/get.+Attribute/)?m.set(Gi(Q.slice(3,-9)),C[Q]):Q.match(/set.+Attribute/)&&E.set(Gi(Q.slice(3,-9)),C[Q]))}D=Object.getPrototypeOf(D)}this.classFields=cn(ee),this.relations=cn(ne),this.__attributeGetters=m,this.__attributeSetters=E,this.fields=B}},{key:"create",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=new this(v);return w.save()}},{key:"createFromEngineDocument",value:function(v,w){return this.instance().createFromEngineDocument(v,w)}},{key:"createManyFromEngineDocuments",value:function(v){return this.instance().createManyFromEngineDocuments(v)}},{key:"findOrFail",value:(s=fe(V.mark(function v(w){var x;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,this.find(w);case 2:return x=j.sent,j.abrupt("return",x??tt("Failed getting required model ".concat(w)));case 4:case"end":return j.stop()}},v,this)})),function(v){return s.apply(this,arguments)})},{key:"find",value:(i=fe(V.mark(function v(w){var x,j;return V.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.ensureBooted(),C.prev=1,C.next=4,this.requireEngine().readOne(this.collection,this.instance().serializeKey(w));case 4:return x=C.sent,C.next=7,this.createFromEngineDocument(w,x);case 7:return j=C.sent,C.abrupt("return",j);case 11:return C.prev=11,C.t0=C.catch(1),C.abrupt("return",null);case 14:case"end":return C.stop()}},v,this,[[1,11]])})),function(v){return i.apply(this,arguments)})},{key:"all",value:(a=fe(V.mark(function v(w){var x,j,C;return V.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.ensureBooted(),x=this.requireEngine(),B.next=4,x.readMany(this.collection,w);case 4:return j=B.sent,B.next=7,this.createManyFromEngineDocuments(j);case 7:return C=B.sent,B.abrupt("return",C);case 9:case"end":return B.stop()}},v,this)})),function(v){return a.apply(this,arguments)})},{key:"first",value:(n=fe(V.mark(function v(w){var x,j,C;return V.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.all(w);case 2:return x=B.sent,j=Me(x,1),C=j[0],B.abrupt("return",C||null);case 6:case"end":return B.stop()}},v,this)})),function(v){return n.apply(this,arguments)})},{key:"newInstance",value:function(){var v;return(v=this.instance()).newInstance.apply(v,arguments)}},{key:"on",value:function(v,w){return Uae(this,v,w)}},{key:"instance",value:function(){return this.instances.has(this)||this.instances.set(this,new this),this.instances.get(this)}},{key:"hasAutomaticTimestamp",value:function(v){return this.timestamps.indexOf(v)!==-1}},{key:"hasAutomaticTimestamps",value:function(){return this.timestamps.length>0}},{key:"getEngine",value:function(){var v;return(v=this.engines.get(this))!==null&&v!==void 0?v:kP()}},{key:"getFinalEngine",value:function(){var v=this.getEngine();return v&&zc(v)}},{key:"requireEngine",value:function(){var v;return(v=this.engines.get(this))!==null&&v!==void 0?v:Wb()}},{key:"requireFinalEngine",value:function(){return zc(this.requireEngine())}},{key:"setEngine",value:function(v){v?this.engines.set(this,v):this.engines.delete(this)}},{key:"withEngine",value:function(v,w){var x=this;return MS({target:this,getTargetEngine:function(){return x.engines.get(x)},engine:v,operation:w})}},{key:"withCollection",value:(r=fe(V.mark(function v(){var w,x,j,C,B=arguments;return V.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(w=B.length>0&&B[0]!==void 0?B[0]:"",x=B.length>1?B[1]:void 0,j=this.collection,typeof w!="string"&&(x=w,w=""),x){X.next=6;break}throw new ze("Invalid method given to withCollection (this is an internal error, please report this bug)");case 6:return this.collection=w||j,X.prev=7,X.next=10,x();case 10:return C=X.sent,X.abrupt("return",C);case 12:return X.prev=12,this.collection=j,X.finish(12);case 15:case"end":return X.stop()}},v,this,[[7,,12,15]])})),function(){return r.apply(this,arguments)})},{key:"withoutTimestamps",value:(e=fe(V.mark(function v(w){var x=this;return V.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return this.ignoringTimestamps.set(this,!0),j.t0=Ve,j.next=4,w();case 4:return j.t1=j.sent,j.t2=function(){return x.ignoringTimestamps.delete(x)},j.abrupt("return",(0,j.t0)(j.t1,j.t2));case 7:case"end":return j.stop()}},v,this)})),function(v){return e.apply(this,arguments)})},{key:"pureInstance",value:function(){return this.pureInstances.has(this)||this.pureInstances.set(this,new this({__pureInstance:!0})),this.pureInstances.get(this)}},{key:"ensureBooted",value:function(){this.bootedModels.has(this)||this.boot()}},{key:"bootCollection",value:function(){for(var v,w=this;w!==t&&(!w.hasOwnProperty("collection")||US.has(w));)w=Object.getPrototypeOf(w);w===t&&US.add(this),this.collection=(v=w.collection)!==null&&v!==void 0?v:this.pureInstance().getDefaultCollection()}}]),t}();function Gae(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}function CP(t,e){return Ve(function(r){ot(a,r);var n=Gae(a);function a(){return Te(this,a),n.apply(this,arguments)}return Fe(a)}(e?t:nr),function(r){Object.assign(r,e??t)})}J(nr,"collection",void 0),J(nr,"primaryKey","id"),J(nr,"timestamps",void 0),J(nr,"fields",void 0),J(nr,"modelName",void 0),J(nr,"classFields",[]),J(nr,"relations",[]),J(nr,"__attributeGetters",new Map),J(nr,"__attributeSetters",new Map),J(nr,"instances",new WeakMap),J(nr,"pureInstances",new WeakMap),J(nr,"bootedModels",new WeakMap),J(nr,"engines",new WeakMap),J(nr,"ignoringTimestamps",new WeakMap),Dl.inverseRelationClasses=[Pl,to],Cl.inverseRelationClasses=[Pl,to],Pl.inverseRelationClasses=[Dl,Cl],to.inverseRelationClasses=[Dl,Cl];var DP=new Map;function Bt(t){var e;return(e=DP.get(t))!==null&&e!==void 0?e:tt(ze,"Could not find Model with name '".concat(t,"', are you sure it's booted?"))}function Yb(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=Me(r[e],2),a=n[0],i=n[1];i.boot(a),DP.set(a,i)}}function qae(t){for(var e=Object.getPrototypeOf(t);e;){if(e===nr)return!0;e=Object.getPrototypeOf(e)}return!1}function Hae(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[".schema",".test"],r={},n=function(){var s,o=Me(i[a],2),l=o[0],u=o[1],c=(l.match(/^(.*\/)?(.+)\.(j|t)s$/)||[])[2];if(c===void 0||e.some(function(d){return c.endsWith(d)}))return"continue";var f=(s=u.default)!==null&&s!==void 0?s:u[Object.keys(u)[0]];if(!f||!qae(f))return"continue";r[c]=f},a=0,i=Object.entries(t);a<i.length;a++)n();return r}function Vae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[".schema"],r=Hae(t,e);Yb(r)}var Wae=function(){function t(){Te(this,t),J(this,"_bootedModels",{})}var e;return Fe(t,[{key:"engine",get:function(){return kP()}},{key:"requireEngine",value:function(){return Wb()}},{key:"useEngine",value:function(r){Kb(r)}},{key:"closeConnections",value:(e=fe(V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pae();case 2:case"end":return n.stop()}},r)})),function(){return e.apply(this,arguments)})},{key:"model",value:function(r){return this._bootedModels[r]}},{key:"loadModel",value:function(r,n){n.boot(r)}},{key:"loadModels",value:function(r){for(var n=0,a=Object.entries(r);n<a.length;n++){var i=Me(a[n],2),s=i[0],o=i[1];o.boot(s),r[s]=o}}}]),t}();new Wae;let Kae=class{constructor(e,r){this.resourceUrl=e,this.newResourceUrl=r,this.type=2}};const Jae={crdt:"https://vocab.noeldemartin.com/crdt/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"};function Ot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(/^https?:\/\//.test(t))return t;const n=t.indexOf(":");if(n===-1)return r+t;e={...Jae,...e};const a=t.slice(0,n);return a in e?e[a]+t.slice(a.length+1):t}const Yi=Ot("ldp:Container"),jP=Ot("ldp:contains"),LP=Ot("rdf:type");let MP=class{constructor(e){this.name=e}};const Yae=Ot("xsd:dateTime"),Qae=Ot("xsd:integer"),Xae=Ot("xsd:boolean"),Zae=Ot("xsd:decimal"),eie=Ot("xsd:float"),tie=Ot("xsd:double");let Tr=class _f{constructor(e,r,n){this.resourceUrl=e,this.name=r,this.value=n}static fromStatement(e){const r=e.subject.termType==="NamedNode"?e.subject.value:null;return e.predicate.value===LP?this.type(r,e.object.value):e.object.termType==="NamedNode"?this.reference(r,e.predicate.value,decodeURI(e.object.value)):e.object.termType==="BlankNode"?this.reference(r,e.predicate.value,null):e.object.termType==="Variable"?this.reference(r,e.predicate.value,new MP(e.object.value)):this.literal(r,e.predicate.value,this.castLiteralValue(e.object.value,e.object.datatype.value))}static literal(e,r,n){return new rie(e,r,n)}static reference(e,r,n){return new nie(e,r,n)}static type(e,r){return new aie(e,r)}static toTurtle(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.map(n=>n.toTurtle(r)+" .").join(`
`)}static castLiteralValue(e,r){switch(r){case Yae:return new Date(e);case Qae:case Zae:return parseInt(e);case Xae:return e==="true"||e==="1";case eie:case tie:return parseFloat(e)}return e}toTurtle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return`${this.getTurtleSubject(e)} ${this.getTurtlePredicate()} ${this.getTurtleObject(e)}`}clone(e){switch(e=e??this.resourceUrl,this.type){case 2:return _f.literal(e,this.name,this.value);case 0:return _f.type(e,this.value);case 1:return _f.reference(e,this.name,this.value)}}valueEquals(e){return(this.value instanceof Date?this.value.getTime():this.value)===(e.value instanceof Date?e.value.getTime():e.value)}getTurtleReference(e,r){const n=(e==null?void 0:e.indexOf("#"))??-1;return e&&e!==r?r!==null&&e.startsWith(r)&&n!==-1?`<#${e.slice(n+1)}>`:`<${encodeURI(e)}>`:"<>"}getTurtleSubject(e){return this.getTurtleReference(this.resourceUrl,e)}getTurtlePredicate(){return`<${encodeURI(this.name)}>`}},rie=class extends Tr{constructor(e,r,n){super(e,r,n),this.type=2}getTurtleObject(){if(this.value instanceof Date){const e=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return n.map(i=>i.toString().padStart(2,"0"))};return`"${e(this.value.getUTCFullYear(),this.value.getUTCMonth()+1,this.value.getUTCDate()).join("-")}T${e(this.value.getUTCHours(),this.value.getUTCMinutes(),this.value.getUTCSeconds()).join(":")}.${this.value.getUTCMilliseconds().toString().padStart(3,"0")}Z"^^<${Ot("xsd:dateTime")}>`}return JSON.stringify(this.value)}},nie=class extends Tr{constructor(e,r,n){super(e,r,n),this.type=1}getTurtleObject(e){return this.value instanceof MP?this.value.name:this.getTurtleReference(this.value,e)}},aie=class extends Tr{constructor(e,r){super(e,LP,r),this.type=0}getTurtlePredicate(){return"a"}getTurtleObject(){return`<${encodeURI(this.value)}>`}},iie=class{constructor(e){this.url=e,this.statements=[],this.types=[],this.properties=[],this.propertiesIndex={}}get name(){return this.getPropertyValue(Ot("foaf:name"))}get label(){return this.getPropertyValue(Ot("rdfs:label"))}isType(e){return this.types.indexOf(Ot(e))!==-1}getPropertyValue(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const[n]=this.propertiesIndex[Ot(e)]||[];return n?n.value:r}getPropertyValues(e){return(this.propertiesIndex[Ot(e)]||[]).map(r=>r.value)}addStatement(e){if(e.subject.value!==this.url)return;const r=Tr.fromStatement(e);r.type===0&&this.types.push(r.value),this.statements.push(e),this.properties.push(r),this.propertiesIndex[r.name]=[...this.propertiesIndex[r.name]||[],r]}},mr=class $f{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.url=e,this.statements=r,this.metadata=n,this.resourcesIndex=this.statements.reduce((a,i)=>{const s=i.subject.value;return(a[s]=a[s]??new iie(s)).addStatement(i),a},{}),this.resources=Object.values(this.resourcesIndex),this.properties=this.resources.reduce((a,i)=>a.concat(i.properties),[])}static async fromTurtle(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=await oP(e,{baseIRI:r.baseIRI});return new $f(r.baseIRI||"",n.quads,{containsRelativeIRIs:n.containsRelativeIRIs,describedBy:sie(r),headers:r.headers})}static async resourceFromJsonLDGraph(e,r,n){return(this.documentsCache.get(e)??await this.fromJsonLD(n??e["@graph"].find(a=>a["@id"]===r)??tt(ze,`Resource '${r}' not found on document`))).requireResource(r)}static async fromJsonLD(e,r){return this.documentsCache.get(e)??await this.getFromJsonLD(e,r)}static reduceJsonLDGraph(e,r){return Ve({"@graph":e["@graph"].filter(n=>n["@id"]!==r)},n=>{const a=this.documentsCache.get(e);a&&this.cacheJsonLD(n,a.clone({removeResourceUrls:[r]}))})}static cacheJsonLD(e,r){this.documentsCache.set(e,r)}static async getFromJsonLD(e,r){const n=await Gb(e,r);return Ve(new $f(e["@id"]?xa(e["@id"]):null,n),a=>{this.documentsCache.set(e,a)})}isEmpty(){return this.statements.length===0}hasProperty(e,r){const n=this.resourcesIndex[e];return!!n&&r in n.propertiesIndex}async toJsonLD(){return Zd(this.statements)}resource(e){return this.resourcesIndex[e]??null}requireResource(e){const r=this.resource(e);if(!r)throw new ze(`Resource '${e}' not found`);return r}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ve(new $f(e.changeUrl??this.url,[],this.metadata),r=>{const n=e.removeResourceUrls;if(!n)return r.statements=this.statements.slice(0),r.properties=this.properties.slice(0),r.resources=this.resources.slice(0),void(r.resourcesIndex={...this.resourcesIndex});r.statements=this.statements.filter(a=>!n.includes(a.subject.value)),r.properties=this.properties.filter(a=>!a.resourceUrl||!n.includes(a.resourceUrl)),r.resources=this.resources.filter(a=>!n.includes(a.url)),r.resourcesIndex=$re(r.resources,"url")})}};function sie(){var r,n;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!((r=t.headers)!=null&&r.has("Link")))return;const e=(n=t.headers.get("Link"))==null?void 0:n.match(/<([^>]+)>;\s*rel="describedBy"/i);return e?yo(t.baseIRI||"",e[1]):void 0}mr.documentsCache=new WeakMap;let jl=class{constructor(e,r,n){this.resourceUrl=e,this.property=r,this.value=n,this.type=1}},Ll=class{constructor(e){if(this.type=0,this.propertyOrProperties=e,!Array.isArray(e))return;const[r,...n]=e;if(!r)throw new Error("Cannot create an UpdatePropertyOperation with an empty array");const{resourceUrl:a,name:i,type:s}=r;if(n.some(o=>o.resourceUrl!==a||o.name!==i||o.type!==s))throw new Error("All properties in an UpdatePropertyOperation must have the same resourceUrl, name and type")}get propertyResourceUrl(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].resourceUrl:this.propertyOrProperties.resourceUrl}get propertyName(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].name:this.propertyOrProperties.name}get propertyType(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].type:this.propertyOrProperties.type}};function BS(t){return t.reduce((e,r)=>{switch(r.type){case 0:e[0].push(r.propertyOrProperties);break;case 1:e[1].push(yr([r.resourceUrl,r.property,r.value]))}return e},[[],[]])}const oie=[jP,Ot("posix:mtime"),Ot("posix:size"),Ot("purl:modified")],lie=[Yi,Ot("ldp:BasicContainer")],zS=new Map;let uie=class{constructor(e){const r=e??(window==null?void 0:window.fetch)??(global==null?void 0:global.fetch);this.fetch=async(n,a)=>{try{return await r(n,a)}catch(i){const s=typeof n=="object"?n.url:n;throw new eP(s,{cause:i})}},this.config={useGlobbing:!1,concurrentFetchBatchSize:5}}getFetch(){return this.fetch}setConfig(e){Object.assign(this.config,e)}async createDocument(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&n.some(i=>i.resourceUrl===r&&i.type===0&&i.value===Yi)?this.createContainerDocument(e,r,n):this.createNonContainerDocument(e,r,n,a)}async getDocument(e){const r=await this.fetch(e,{headers:{Accept:"text/turtle"}});if(r.status!==200)return null;const n=await r.text();return await mr.fromTurtle(n,{headers:r.headers,baseIRI:e})}async getDocuments(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];try{return this.config.useGlobbing&&!r?await this.getContainerDocumentsUsingGlobbing(e):await this.getContainerDocuments(e)}catch(n){if(this.config.useGlobbing)return console.error(n),[];throw n}}async updateDocument(e,r){var i;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r.length===0)return;e=zS.get(e)??e;const a=await this.getDocument(e);if(a===null)throw new Vr(e);this.processChangeUrlOperations(a,r),this.processUpdatePropertyOperations(a,r),r.length!==0&&((i=a.resource(e))!=null&&i.isType(Yi)?await this.updateContainerDocument(a,r):await this.updateNonContainerDocument(a,r,n))}async overwriteDocument(e,r){const n=await this.getDocument(e);if(n===null)throw new Vr(e);const a=await this.fetch(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:`
                DELETE DATA { ${Tr.toTurtle(n.properties,e)} } ;
                INSERT DATA { ${Tr.toTurtle(r,e)} }
            `});this.assertSuccessfulResponse(a,`Error overwriting document at ${n.url}`)}async deleteDocument(e,r){var i;const n=r??await this.getDocument(e);if(n===null)return;if((i=n.resource(e))!=null&&i.isType(Yi)){const s=this.config.useGlobbing?await this.getContainerDocumentsUsingGlobbing(e):await this.getDocumentsFromContainer(e,n);await Promise.all(s.map(o=>this.deleteDocument(o.url,o)))}const a=await this.fetch(e,{method:"DELETE"});this.assertSuccessfulResponse(a,`Error deleting document at ${e}`)}async documentExists(e){const r=await this.fetch(e,{headers:{Accept:"text/turtle"}});if(r.status===200)return(await r.text()).length>0;if(r.status===404)return!1;throw new ze(`Couldn't determine if document at ${e} exists, got ${r.status} response`)}async createContainerDocument(e,r,n){if(await this.createContainerFolder(e,r),n.length!==0){const a=this.withoutReservedContainerProperties(r,n).map(i=>new Ll(i));await this.updateDocument(r,a)}return r}async createContainerFolder(e,r){if(!r.startsWith(e))throw new ze("Explicit document url should start with the parent url");if(!r.endsWith("/"))throw new ze(`Container urls must end with a trailing slash, given ${r}`);const n=await this.fetch(r,{method:"PUT",headers:{"Content-Type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}});if(this.isInternalErrorResponse(n))return this.createContainerDocumentUsingPOST(r);this.assertSuccessfulResponse(n,`Error creating container folder at ${r}`)}async createContainerDocumentUsingPOST(e){let r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const n=Wr(e),a=await this.fetch(n,{method:"POST",headers:{"Content-Type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',Slug:nne(e),"If-None-Match":"*"}});if(a.status===404&&r)return await this.createContainerDocumentUsingPOST(n),this.createContainerDocumentUsingPOST(e,!1);this.assertSuccessfulResponse(a,`Error creating container at ${e}`)}async createNonContainerDocument(e,r,n){var s;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!r||((s=a.method)==null?void 0:s.toLowerCase())==="post"){const o=a.format??"text/turtle",l=await this.renderProperties(r,n,o),u={"Content-Type":o};r&&(u.Slug=WT(r));const c=await this.fetch(e,{method:a.method??"POST",headers:u,body:l});return this.assertSuccessfulResponse(c,`Error creating document under ${e}`),yo(e,c.headers.get("Location")||"")}if(!r.startsWith(e))throw new ze("A minted document url should start with the parent url");const i=await this.fetch(r,{method:"PATCH",headers:{"Content-Type":"application/sparql-update","If-None-Match":"*"},body:`INSERT DATA { ${Tr.toTurtle(n,r)} }`});return this.assertSuccessfulResponse(i,`Error creating document at ${r}`),r}async getContainerDocuments(e){const r=await this.fetch(e,{headers:{Accept:"text/turtle"}}),n=await r.text(),a=await mr.fromTurtle(n,{baseIRI:e});return this.getDocumentsFromContainer(e,a)}async getDocumentsFromContainer(e,r){var i;const n=[],a=((i=r.resource(e))==null?void 0:i.getPropertyValues("ldp:contains"))??[];for(;a.length>0;){const s=a.splice(0,this.config.concurrentFetchBatchSize||a.length),o=await Promise.all(s.map(l=>this.getDocument(l)));n.push(...o)}return n.filter(s=>!!s)}async getContainerDocumentsUsingGlobbing(e){const r=await this.fetch(e+"*",{headers:{Accept:"text/turtle"}});this.assertSuccessfulResponse(r,`Error getting container documents using globbing from ${e}`);const n=await r.text(),a=(await mr.fromTurtle(n,{baseIRI:e})).statements.reduce((i,s)=>{const o=Bb(s.subject.value,{fragment:!1});return(i[o]=i[o]??[]).push(s),i},{});return Object.entries(a).map(i=>{let[s,o]=i;return new mr(s,o)})}async updateContainerDocument(e,r){const n=e.metadata.describedBy||`${e.url}.meta`;e.url&&zS.set(e.url,n),await this.updateNonContainerDocument(e.clone({changeUrl:n}),r)}async updateNonContainerDocument(e,r){const n=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).format??"application/sparql-update";switch(n){case"application/sparql-update":return this.updateNonContainerDocumentWithSparql(e,r);case"application/ld+json":return this.updateNonContainerDocumentWithJsonLD(e,r)}throw new Error(`Unsupported update format: '${n}'`)}async updateNonContainerDocumentWithSparql(e,r){const[n,a]=BS(r),i=n.flat().map(l=>l.toTurtle(e.url)+" ."),s=e.properties.filter(l=>a.some(u=>{let[c,f,d]=u;return!(c!==l.resourceUrl||f&&f!==l.name||d&&d!==l.value)})).map(l=>l.toTurtle(e.url)+" ."),o=await this.fetch(e.url,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:yr([s.length>0&&`DELETE DATA { ${s.join(`
`)} }`,i.length>0&&`INSERT DATA { ${i.join(`
`)} }`]).join(" ; ")});this.assertSuccessfulResponse(o,`Error updating document at ${e.url}`)}async updateNonContainerDocumentWithJsonLD(e,r){if(!e.url)throw new Error("Missing document url for JsonLD update");const[n,a]=BS(r),i=e.properties.filter(o=>!a.some(l=>{let[u,c,f]=l;return!(u!==o.resourceUrl||c&&c!==o.name||f&&f!==o.value)})).concat(n.flat()),s=await this.fetch(e.url,{headers:{"Content-Type":"application/ld+json"},method:"PUT",body:await this.renderProperties(e.url,i,"application/ld+json")});this.assertSuccessfulResponse(s,`Error updating document at ${e.url}`)}withoutReservedContainerProperties(e,r){return r.filter(n=>n.resourceUrl!==e||!(a=>oie.includes(a.name))(n)&&!(a=>a.type===0&&lie.includes(a.value))(n))}processChangeUrlOperations(e,r){const n=function(a){return a.reduce((i,s)=>(i[s.type].push(s),i),{0:[],1:[],2:[]})}(r);for(const a of n[2]){const i=e.resource(a.resourceUrl);if(!i)continue;const s=n[0].filter(l=>l.propertyResourceUrl===a.resourceUrl),o=n[1].filter(l=>l.resourceUrl===a.resourceUrl);s.forEach(l=>{l.propertyOrProperties=Array.isArray(l.propertyOrProperties)?l.propertyOrProperties.map(u=>u.clone(a.newResourceUrl)):l.propertyOrProperties.clone(a.newResourceUrl)}),o.forEach(l=>l.resourceUrl=a.newResourceUrl),r.push(new jl(a.resourceUrl)),r.push(...i.properties.filter(l=>!s.some(u=>u.propertyName===l.name)&&!o.some(u=>!u.property||u.property===l.name)).map(l=>new Ll(l.clone(a.newResourceUrl)))),Dr(r,a)}}processUpdatePropertyOperations(e,r){var o;const n=[],a=[],i=[];for(let l=0;l<r.length;l++){const u=r[l];if(u.type!==0||u.propertyResourceUrl===null)continue;if(!Array.isArray(u.propertyOrProperties)){const y=u.propertyOrProperties,[k,...$]=((o=e.resource(y.resourceUrl??""))==null?void 0:o.propertiesIndex[y.name])??[];k&&$.length===0&&y.type===k.type&&y.valueEquals(k)&&a.push(u);continue}const c=e.statements.filter(y=>y.subject.value===u.propertyResourceUrl&&y.predicate.value===u.propertyName).map(y=>y.object),f=u.propertyOrProperties[0].type===2,d=y=>"type"in y?y.type===1:y.termType==="NamedNode",{added:h,removed:p}=Nb(c,u.propertyOrProperties,(y,k)=>y.value===k.value&&d(y)===d(k));h.forEach(y=>r.push(new Ll(f?Tr.literal(u.propertyResourceUrl,u.propertyName,y.value):Tr.reference(u.propertyResourceUrl,u.propertyName,y.value)))),p.forEach(y=>r.push(new jl(u.propertyResourceUrl,u.propertyName,y.value))),n.push(u),i.push(`${u.propertyResourceUrl}-${u.propertyName}`)}n.forEach(l=>Dr(r,l)),a.forEach(l=>Dr(r,l));const s=r.filter(l=>l.type===0&&l.propertyType!==0&&e.hasProperty(l.propertyResourceUrl,l.propertyName));for(const l of s)i.includes(`${l.propertyResourceUrl}-${l.propertyName}`)||r.push(new jl(l.propertyResourceUrl,l.propertyName))}async renderProperties(e,r,n){switch(n){case"text/turtle":return Tr.toTurtle(r,e);case"application/ld+json":{const a=await qb(Tr.toTurtle(r,e)),i=await Zd(a);if(i["@graph"].length!==1)throw new Error("Cannot render JSONLD with multiple or no subjects");const s=i["@graph"][0];return Qf(s["@id"])&&delete s["@id"],JSON.stringify(s)}}throw new Error(`Unsupported render format: '${n}'`)}assertSuccessfulResponse(e,r){if(Math.floor(e.status/100)!==2)throw new Ene(r,e)}isInternalErrorResponse(e){return Math.floor(e.status/100)===5}};const cie={activityPods:!1};function fie(t){return cie[t]}function Vt(){return fie("activityPods")}let bo=class{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.cache=new Map,this.listeners=[],this.helper=new Fo,this.config={useGlobbing:!1,globbingBatchSize:5,concurrentFetchBatchSize:10,cachesDocuments:!1,...r},this.client=new uie(e),this.client.setConfig({useGlobbing:this.config.useGlobbing,concurrentFetchBatchSize:this.config.concurrentFetchBatchSize})}setConfig(e){Object.assign(this.config,e)}getFetch(){return this.client.getFetch()}async create(e,r,n){if(this.validateJsonLDGraph(r),n&&await this.client.documentExists(n))throw new zu(n);const a=await this.getJsonLDGraphProperties(r);return await this.client.createDocument(e,n,a,Vt()?{method:"post",format:"application/ld+json"}:{})}async readOne(e,r){const n=await this.getDocument(r);if(n===null)throw new Vr(r);const a=await this.convertToEngineDocument(n);return this.emit("onRDFDocumentLoaded",n.url,n.metadata),a}async readMany(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=await this.getDocumentsForFilters(e,r),a={};return await Promise.all(n.map(async i=>{a[i.url]=await this.convertToEngineDocument(i),this.emit("onRDFDocumentLoaded",i.url,i.metadata)})),this.helper.filterDocuments(a,r)}async update(e,r,n){if("$overwrite"in n){const i=await this.getJsonLDGraphProperties(n.$overwrite);return void await this.client.overwriteDocument(r,i)}const a=await this.extractJsonLDGraphUpdate(n);await this.client.updateDocument(r,a,Vt()?{format:"application/ld+json"}:{})}async delete(e,r){await this.client.deleteDocument(r)}addListener(e){return this.listeners.push(e),()=>this.removeListener(e)}removeListener(e){const r=this.listeners.indexOf(e);r!==-1&&this.listeners.splice(r,1)}clearCache(){this.cache=new Map}async getDocument(e){var r;if(!this.config.cachesDocuments)return this.client.getDocument(e);if(!this.cache.has(e)){const n=await this.client.getDocument(e);this.cache.set(e,n)}return((r=this.cache.get(e))==null?void 0:r.clone())??null}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.listeners.forEach(i=>{var s;return(s=i[e])==null?void 0:s.call(i,...n)})}async getDocumentsForFilters(e,r){const n=this.extractJsonLDGraphTypes(r);return r.$in?await this.getDocumentsFromUrls(r.$in.map(At),n):await this.client.getDocuments(e,n.includes(Yi))}async getDocumentsFromUrls(e,r){const n=e.reduce((i,s)=>{const o=ia(s)??Ma(s);return{...i,[o]:[...i[o]||[],s]}},{}),a=Object.entries(n).map(async i=>{let[s,o]=i;if(this.config.useGlobbing&&this.config.globbingBatchSize!==null&&this.config.globbingBatchSize<=o.length)return this.client.getDocuments(s,r.includes(Yi));const l=o.map(u=>this.getDocument(u));return(await Promise.all(l)).filter(u=>u!=null)});return(await Promise.all(a)).flat()}async convertToEngineDocument(e){const r=await Zd(e.statements);return await Cne(r)}validateJsonLDGraph(e){if(!Array.isArray(e["@graph"]))throw new ze("Invalid JSON-LD graph provided for SolidEngine. Are you using a model that isn't a SolidModel?")}async extractJsonLDGraphUpdate(e){if(!this.isJsonLDGraphUpdate(e))throw new ze("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");const r=[],n="$apply"in e["@graph"]?e["@graph"].$apply:[e["@graph"]];for(const a of n)if(a.$updateItems&&r.push(...Cr(a.$updateItems).map(i=>this.extractJsonLDGraphItemsUpdate(i)).flat()),a.$push){const i=await this.extractJsonLDGraphItemPush(a.$push);r.push(...i)}return r}extractJsonLDGraphItemsUpdate(e){let{$where:r,$update:n,$unset:a}=e;if(!r||!("@id"in r))throw new ze("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");if(a){const l=r["@id"];return(typeof l=="string"?[l]:l.$in).map(u=>new jl(u))}const i=r["@id"],s=n,o=[];for(const[l,u]of Object.entries(s)){if(u===null)throw new ze("SolidEngine doesn't support setting properties to null, delete");typeof u=="object"&&"$unset"in u?o.push(new jl(i,l)):l!=="@id"?o.push(new Ll(this.getUpdatePropertyOperationProperty(i,l,u))):o.push(new Kae(i,u))}return o}getUpdatePropertyOperationProperty(e,r,n){let a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return r==="@type"?Tr.type(e,n):Array.isArray(n)?a?n.map(i=>this.getUpdatePropertyOperationProperty(e,r,i,!1)):fail("Cannot have nested array values"):yt(n)&&"@id"in n?Tr.reference(e,r,n["@id"]):yt(n)&&"@type"in n&&n["@type"]==="http://www.w3.org/2001/XMLSchema#dateTime"?Tr.literal(e,r,new Date(n["@value"])):Tr.literal(e,r,n)}async extractJsonLDGraphItemPush(e){return(await this.getJsonLDGraphProperties(e)).map(r=>new Ll(r))}extractJsonLDGraphTypes(e){if(!this.isJsonLDGraphTypesFilter(e))return[];const r=e["@graph"].$contains["@type"].$or.reduce((n,a)=>("$contains"in a&&n.push(...a.$contains),"$eq"in a&&n.push(a.$eq),n),[]);return cn(r.filter(n=>n.startsWith("http")))}async getJsonLDGraphProperties(e){return(await mr.fromJsonLD(e)).properties}isJsonLDGraphUpdate(e){const r=e["@graph"];return yt(r)?!(r.$apply??[r]).some(n=>{const a=Object.keys(n);return a.length!==1||!["$updateItems","$push"].includes(a[0]??"")}):!1}isJsonLDGraphTypesFilter(e){const r=e["@graph"];return yt(r)&&yt(r.$contains)&&yt(r.$contains["@type"])&&Array.isArray(r.$contains["@type"].$or)}};function die(){const t=function(){var e;return typeof globalThis=="object"&&"Cypress"in globalThis?"testing":typeof window=="object"&&"$app"in window&&((e=window.$app)!=null&&e.environment)?window.$app.environment:typeof process=="object"&&process.env?{}.VITEST?"testing":"production":null}();return t==="development"||t==="testing"}let Qb=class{get protectedSolidBelongsTo(){return this}async __loadDocumentModels(e,r){const n=new Fo,a=this.parent.getAttribute(this.foreignKeyName),i=Array.isArray(a)?a:a?[a]:[],s=this.relatedClass.prepareEngineFilters(),o=mr.reduceJsonLDGraph(r,this.parent.url),l=r["@graph"].filter(f=>i.indexOf(f["@id"])!==-1).reduce((f,d)=>(f[d["@id"]]={"@graph":[d]},f),{}),u=await Promise.all(Object.keys(n.filterDocuments(l,s)).map(f=>this.relatedClass.createFromEngineDocument(e,o,f))),c=i.filter(f=>!u.some(d=>d.url===f)&&xa(f)!==e);this.protectedSolidBelongsTo.loadDocumentModels(u,c)}};var Ml,NP=new class{getJsonLDProperty(t,e){if((e=Ot(e))in t)return this.getJsonLDPropertyValue(t[e]);if(!("@context"in t))return null;const r=t["@context"],n=Object.entries(r).find(i=>{let[s,o]=i;return e.startsWith(o)});if(!n)return null;const a=t[(n[0]==="@vocab"?"":`${n[0]}:`)+e.slice(n[1].length)];return this.getJsonLDPropertyValue(a)}getJsonLDPropertyValue(t){return t===void 0?null:Array.isArray(t)&&t.length===1?t[0]:t}};let Xb=class{get protectedSolidHas(){return this}async __loadDocumentModels(e,r){var c;const n=new Fo,a=(c=this.relatedClass.fields[this.foreignKeyName])==null?void 0:c.rdfProperty,i=this.relatedClass.prepareEngineFilters(),s=mr.reduceJsonLDGraph(r,this.parent.url),o=r["@graph"].filter(f=>{const d=NP.getJsonLDProperty(f,a);return typeof d=="object"&&d!==null&&"@id"in d&&d["@id"]===this.parent.url}).reduce((f,d)=>(f[d["@id"]]={"@graph":[d]},f),{}),l=await Promise.all(Object.keys(n.filterDocuments(o,i)).map(f=>this.relatedClass.createFromEngineDocument(e,s,f))),u=Object.keys(o).filter(f=>!l.some(d=>d.url===f)&&xa(f)!==e);this.protectedSolidHas.loadDocumentModels(l,u)}};function hie(t){return"__beforeParentCreate"in t}function Wa(t){return"useSameDocument"in t}function pie(t){return Qd(t,Qb)}function Zb(t){return Qd(t,Xb)}function GS(t){return"__synchronizeRelated"in t}let FP=class{constructor(){this.useSameDocument=!1,this.documentModelsLoaded=!1}usingSameDocument(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.useSameDocument=e,this}};class e0 extends FP{constructor(){super(...arguments),this.__newModels=[],this.__removedDocumentModels=[]}get protectedSolidMulti(){return this}get super(){var e=this;return new Proxy(this,{get:(r,n)=>function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return ui.prototype[n].call(e,...i)}})}isEmpty(){var e,r,n;return!this.documentModelsLoaded&&this.parent.exists()?null:(((e=this.__modelsInSameDocument)==null?void 0:e.length)||0)+(((r=this.__modelsInOtherDocumentIds)==null?void 0:r.length)||0)+this.__newModels.length+(((n=this.related)==null?void 0:n.length)||0)===0}async create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.protectedSolidMulti.assertLoaded("create");const r=this.relatedClass.newInstance(e);return await this.save(r),r}async save(e){return this.protectedSolidMulti.assertLoaded("save"),this.attach(e),!this.useSameDocument||Vt()?(await e.save(),this.setForeignAttributes(e)):this.parent.exists()&&await this.parent.save(),e}async remove(e){this.detach(e),await this.parent.save()}detach(e){var a,i,s,o;const r=typeof e=="string"?e:e.getAttribute(this.localKeyName),n=(a=this.related)==null?void 0:a.find(l=>l.getAttribute(this.localKeyName)===r);n&&(this.related=(i=this.related)==null?void 0:i.filter(l=>l.getAttribute(this.localKeyName)!==r),this.__newModels=this.__newModels.filter(l=>l.getAttribute(this.localKeyName)!==r),this.__modelsInSameDocument=(s=this.__modelsInSameDocument)==null?void 0:s.filter(l=>l.getAttribute(this.localKeyName)!==r),this.__modelsInOtherDocumentIds=(o=this.__modelsInOtherDocumentIds)==null?void 0:o.filter(l=>l!==r),n.getDocumentUrl()!==this.parent.getDocumentUrl()||this.parent.tracksHistory()||this.__removedDocumentModels.push(n),Zb(this)&&n.setAttribute(this.foreignKeyName,null),pie(this)&&this.parent.setAttribute(this.foreignKeyName,this.parent.getAttribute(this.foreignKeyName).filter(l=>l!==r)))}addRelated(e){this.super.addRelated(e),e.exists()||this.__newModels.push(e)}isRelated(e){return this.super.isRelated(e)||this.__newModels.includes(e)}cloneSolidData(e){const r=e.related??[];e.useSameDocument=this.useSameDocument,e.documentModelsLoaded=this.documentModelsLoaded,e.__newModels=[],e.__removedDocumentModels=[];for(const n of this.__newModels)e.__newModels.push(r.find(a=>a.is(n))??Ve(n.clone(),a=>r.push(a)));for(const n of this.__removedDocumentModels)e.__removedDocumentModels.push(r.find(a=>a.is(n))??Ve(n.clone(),a=>r.push(a)));this.__modelsInSameDocument&&(e.__modelsInSameDocument=this.__modelsInSameDocument.map(n=>r.find(a=>a.is(n))??n.clone())),this.__modelsInOtherDocumentIds&&(e.__modelsInOtherDocumentIds=this.__modelsInOtherDocumentIds)}loadDocumentModels(e,r){this.__modelsInSameDocument=e,this.__modelsInOtherDocumentIds=r,this.__modelsInOtherDocumentIds.length===0&&(this.related=cn([...this.related??[],...this.__modelsInSameDocument])),this.documentModelsLoaded=!0}}let t0=class extends FP{get super(){var e=this;return new Proxy(this,{get:(r,n)=>function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return Uo.prototype[n].call(e,...i)}})}isEmpty(){return!this.documentModelsLoaded&&this.parent.exists()?null:!(this.__modelInSameDocument||this.__modelInOtherDocumentId||this.__newModel||this.related)}async create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.assertNotLoaded("create");const r=this.relatedClass.newInstance(e);return await this.save(r),r}async save(e){return this.assertNotLoaded("save"),this.attach(e),!this.useSameDocument||Vt()?await e.save():this.parent.exists()&&await this.parent.save(),e}addRelated(e){this.super.addRelated(e),e.exists()||(this.__newModel=e)}isRelated(e){return this.super.isRelated(e)||this.__newModel===e}cloneSolidData(e){let r=e.related??null;e.useSameDocument=this.useSameDocument,e.documentModelsLoaded=this.documentModelsLoaded,this.__newModel&&(this.__newModel=r??Ve(this.__newModel.clone(),n=>r=n)),this.__modelInSameDocument&&(e.__modelInSameDocument=r??this.__modelInSameDocument.clone()),this.__modelInOtherDocumentId&&(e.__modelInOtherDocumentId=this.__modelInOtherDocumentId)}loadDocumentModels(e,r){var n;return e.length+r.length>1&&console.warn(`The ${this.name} relationship in ${this.parent.static("modelName")} has been declared as hasOne, but more than one related model were found.`),e.length>0?(this.__modelInSameDocument=e[0],this.related=this.__modelInSameDocument,this.documentModelsLoaded=!0,(n=this.__modelInSameDocument)!=null&&n.exists()?void delete this.__newModel:void(this.__newModel=this.__modelInSameDocument)):r.length>0?(this.__modelInOtherDocumentId=r[0],void(this.documentModelsLoaded=!0)):void(this.documentModelsLoaded=!0)}assertNotLoaded(e){if(this.loaded)throw new ze(`The "${e}" method can't be called because a related model already exists, use a hasMany relationship if you want to support multiple related models.`)}};function Gc(t){return Qd(t,e0)}function Ov(t){return Qd(t,t0)}let xf=class extends ui{constructor(e,r){super(e,r)}setForeignAttributes(){}async load(){return this.related??(this.related=[]),this.related}create(e){return Ve(this.attach(e??{}),()=>this.parent.save())}async __loadDocumentModels(e,r){const n=await mr.fromJsonLD(r),a=mr.reduceJsonLDGraph(r,this.parent.url);this.related=yr(await Promise.all(this.relatedClass.findMatchingResourceIds(n.statements).map(i=>{const s=a["@graph"].find(o=>o["@id"]===i);return s&&this.relatedClass.createFromEngineDocument(e,a,s["@id"])})))}};function td(t,e,r,n){const a=i=>In({type:i,rdfProperty:e,rdfPropertyAliases:r,required:n});switch(typeof t){case"string":return a(xe.String);case"number":case"bigint":return a(xe.Number);case"boolean":return a(xe.Boolean);case"object":return t===null?a(xe.Any):t instanceof ln?a(xe.Key):t instanceof Date?a(xe.Date):Array.isArray(t)?In({required:n,rdfProperty:e,type:xe.Array,items:t.length>0?td(t[0]):a(xe.Any)}):In({required:n,rdfProperty:e,type:xe.Object,fields:Object.entries(t).reduce((i,s)=>{let[o,l]=s;return i[o]=td(l),i},{})});default:return a(xe.Any)}}let qS=class{};(function(t){t.Compacted="compacted",t.Expanded="expanded"})(Ml||(Ml={}));let vie=class UP{constructor(e){this.terms=e,this.reverseProperties=new Map}static fromRdfClasses(e,r){const[n,...a]=Object.entries(e),i={name:"@vocab",compactingPrefix:"",value:n==null?void 0:n[1],used:!0},s=a.reduce((o,l)=>{let[u,c]=l;return c!==i.value&&o.push({name:u,value:c,compactingPrefix:`${u}:`,used:r.some(f=>f.startsWith(c))}),o},[i]);return new UP(s)}addReverseProperty(e,r){this.reverseProperties.set(e,r)}addTerms(e,r){for(const[n,a]of Object.entries(e)){const i=this.terms.find(l=>l.value===a);if(i){i.used||(i.used=r.some(l=>l.startsWith(a)));continue}let s=n,o=1;for(;this.terms.some(l=>l.name===s);)s=`${n}${++o}`;this.terms.push({name:n,value:a,compactingPrefix:`${n}`,used:r.some(l=>l.startsWith(a))})}}getTermForExpandedIRI(e){return this.terms.find(r=>e.startsWith(r.value))??null}render(){const e=this.terms.reduce((r,n)=>(n.used&&(r[n.name]=n.value),r),{});return this.reverseProperties.forEach((r,n)=>{e[n]={"@reverse":r}}),e}},Sf=class BP{constructor(e,r){this.context=e,this.iriFormat=r}static forModel(e){let r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const n=e.fields,a=yr(Object.values(n).map(s=>s.rdfProperty)),i=vie.fromRdfClasses(e.rdfContexts,a);return new BP(i,r?Ml.Compacted:Ml.Expanded)}serialize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=r.attributes??e.getAttributes(),a=new Set(r.ignoreModels??[]),i={"@context":{},"@type":null};a.add(e);for(const[s,o]of Object.entries(n))this.setJsonLDField(i,e,s,o,r);if(!(e.static("primaryKey")in n)&&r.includeAnonymousHashes){const s=e.static("defaultResourceHash");s&&!Vt()&&(i["@id"]=`#${s}`)}return(r.includeRelations??1)&&this.setJsonLDRelations(i,e,a),r.includeTypes??1?this.setJsonLDTypes(i,e):delete i["@type"],r.includeContext??1?this.setJsonLDContext(i):delete i["@context"],i}processExpandedIRI(e){return this.iriFormat===Ml.Expanded?e:this.compactExpandedIRI(e)}compactExpandedIRI(e){const r=this.context.getTermForExpandedIRI(e);return r?Ve(r.compactingPrefix+e.slice(r.value.length),()=>r.used=!0):e}setJsonLDField(e,r,n,a,i){if(n===r.static("primaryKey"))return void(e["@id"]=At(a));const s=r.static().getFieldRdfProperty(n);s&&this.setJsonLDProperty(e,r,this.processExpandedIRI(s),n,a,i)}setJsonLDRelations(e,r,n){for(const a of r.static("relations")){const i=r.requireRelation(a),s=i.getLoadedModels()[0];if(!i.enabled||!i.loaded||!Wa(i)||i.isEmpty()||s&&n.has(s))continue;const o=i.relatedClass.fields,l=yr(Object.values(o).map(u=>u.rdfProperty));this.context.addTerms(i.relatedClass.rdfContexts,l),this.setJsonLDRelation(e,i,n)}}setJsonLDRelation(e,r,n){const a=r.relatedClass.instance(),i=r.related,s=Zb(r),o=s?a.static().getFieldRdfProperty(r.foreignKeyName):r.parent.static().getFieldRdfProperty(r.foreignKeyName),l=this.processExpandedIRI(o),u={ignoreModels:n,includeRelations:!0,includeContext:!1},c=s?f=>Ve(this.serialize(f,u),d=>{delete d[l]}):f=>this.serialize(f,u);i&&(s&&this.context.addReverseProperty(r.name,l),e[s?r.name:l]=Array.isArray(i)?i.map(f=>c(f)):c(i))}setJsonLDTypes(e,r){const n=r.static("rdfsClasses").map(a=>this.processExpandedIRI(a));e["@type"]=n.length===1?n[0]:n}setJsonLDContext(e){e["@context"]=this.context.render()}setJsonLDProperty(e,r,n,a,i,s){(i=this.castJsonLDValue(i,r.static().getFieldDefinition(a,i)))instanceof qS?s.keepEmptyValues&&(e[n]=null):e[n]=i}castJsonLDValue(e,r){switch(r.type){case xe.Any:{const n=td(e,r.rdfProperty,r.rdfPropertyAliases,r.required);if(n.type===xe.Any)throw new ze("Couldn't infer field definition for a field declared as any");return this.castJsonLDValue(e,n)}case xe.Key:return{"@id":At(e)};case xe.Date:return typeof e=="object"&&e!==null&&"$unset"in e?e:{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":new Date(e).toISOString()};case xe.Array:{const n=e,a=r.items;switch(n.length){case 0:return new qS;case 1:return this.castJsonLDValue(n[0],a);default:return n.map(i=>this.castJsonLDValue(i,a))}}default:return JSON.parse(JSON.stringify(e))}}},mie;function ro(t){return r0()[t]}function r0(){return mie??(mie={Operation:Bt("Operation"),PropertyOperation:Bt("PropertyOperation"),AddPropertyOperation:Bt("AddPropertyOperation"),RemovePropertyOperation:Bt("RemovePropertyOperation"),SetPropertyOperation:Bt("SetPropertyOperation"),UnsetPropertyOperation:Bt("UnsetPropertyOperation"),DeleteOperation:Bt("DeleteOperation")})}const gie=Yd(Cl,[e0,Xb]);let zP=class extends gie{async load(){if(this.isEmpty())return this.related=[];if(!this.__modelsInSameDocument||!this.__modelsInOtherDocumentIds)return this.related=[];const e=await this.loadRelatedModels(this.__modelsInOtherDocumentIds);return this.related=[...this.__modelsInSameDocument,...e],this.related}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.related=[],this.__newModels=[],this.__modelsInSameDocument=[],e.forEach(r=>{var n;r.unsetAttribute(this.foreignKeyName),(n=this.related)==null||n.push(r),this.__newModels.push(r)})}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ve(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){this.documentModelsLoaded||this.loadDocumentModels([],[])}loadRelatedModels(e){return this.relatedClass.all({$in:e})}},yie=class If extends zP{constructor(e){super(e,ro("Operation"),"resourceUrl")}attach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;const n=ro("Operation"),a=e instanceof n?e:ro(r??"SetPropertyOperation").newInstance(e);if(a.constructor===n)throw new Error("Creating base operations is meaningless, you should create a specific operation instead (add property, remove property, etc.)");return super.attach(a)}attachAddOperation(e){return this.attach(e,"AddPropertyOperation")}attachRemoveOperation(e){return this.attach(e,"RemovePropertyOperation")}attachSetOperation(e){return this.attach(e,"SetPropertyOperation")}attachUnsetOperation(e){return this.attach(e,"UnsetPropertyOperation")}attachDeleteOperation(e){return this.attach(e,"DeleteOperation")}async __loadDocumentModels(e,r){var l;const n=(l=this.relatedClass.fields[this.foreignKeyName])==null?void 0:l.rdfProperty,a=mr.reduceJsonLDGraph(r,this.parent.url),i=r["@graph"].filter(u=>{const c=NP.getJsonLDProperty(u,n);return typeof c=="object"&&c!==null&&"@id"in c&&c["@id"]===this.parent.url}),s=yr(await Promise.all(i.map(async u=>{var c;return(c=this.getOperationClass(u))==null?void 0:c.createFromEngineDocument(e,a,u["@id"])}))),o=i.map(u=>u["@id"]).filter(u=>!s.some(c=>c.url===u)&&xa(u)!==e);this.protectedSolidHas.loadDocumentModels(s,o)}async loadRelatedModels(){throw new Error("loading operations from different documents has not been implemented yet")}getOperationClass(e){var a;const r=this.getOperationMatchers(),n=Cr(e["@type"]??[]);return(a=r.find(i=>i.match(n)))==null?void 0:a.operation}getOperationMatchers(){return If.operationMatchers??(If.operationMatchers=Object.values(r0()).map(e=>{const r=Sf.forModel(e),n=e.rdfsClasses,a=n.map(s=>r.processExpandedIRI(s)),i=[...n,...a];return{operation:e,match:s=>i.some(o=>s.includes(o))}}))}},bie=class extends ui{constructor(e){super(e,Bt("SolidACLAuthorization"))}requireACLUrl(){return this.aclUrl??fail("Could not get ACL Url")}isDocumentACL(){return this.aclUrl&&this.effectiveACLUrl?this.aclUrl===this.effectiveACLUrl:null}setForeignAttributes(){}async load(){const e=Bt("SolidACLAuthorization"),r=await tae(this.parent.requireDocumentUrl(),e.requireFetch()),n=await Zd(r.document.statements()),a=await Promise.all(r.document.statements(void 0,"rdf:type","acl:Authorization").map(i=>{let{subject:s}=i;return e.createFromEngineDocument(r.effectiveUrl,n,s.value)}));return this.aclUrl=r.url,this.effectiveACLUrl=r.effectiveUrl,this.related=a,a}};const wie=Yd(to,[e0,Qb]);let GP=class extends wie{async load(){var n;if(this.__modelsInSameDocument&&this.__modelsInOtherDocumentIds||(this.__modelsInSameDocument=[],this.__modelsInOtherDocumentIds=this.parent.getAttribute(this.foreignKeyName)),this.isEmpty())return this.related=[];const e={};for(const a of this.__modelsInOtherDocumentIds??[]){const i=ia(a)??Ma(a);i in e||(e[i]=new Set),(n=e[i])==null||n.add(xa(a))}const r=(await Promise.all(Object.entries(e).map(a=>{let[i,s]=a;return this.relatedClass.from(i).all({$in:[...s]})}))).reduce((a,i)=>(a.push(...i),a),[]);return this.related=[...this.__modelsInSameDocument,...this.__newModels,...r],this.related}associate(e){const r=this.parent.getAttribute(this.foreignKeyName),n=ln.from(e);this.parent.setAttribute(this.foreignKeyName,r.concat(n))}disassociate(e){const r=this.parent.getAttribute(this.foreignKeyName),n=ln.from(e);this.parent.setAttribute(this.foreignKeyName,r.filter(a=>!n.equals(ln.from(a))))}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.related=[],this.__newModels=[],this.__modelsInSameDocument=[];const r=this.parent.getAttribute(this.foreignKeyName);e.forEach(n=>{var a;Dr(r,n.getAttribute(this.localKeyName)),(a=this.related)==null||a.push(n),this.__newModels.push(n)}),this.parent.setAttribute(this.foreignKeyName,r)}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ve(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){if(this.documentModelsLoaded)return;const e=this.parent.getAttribute(this.foreignKeyName);if(!Array.isArray(e))throw new Error(`Foreign key (${this.foreignKeyName}) for '${this.name}' relation in '${this.parent.static("modelName")}' model is missing.`);this.loadDocumentModels([],e)}async __synchronizeRelated(e){const{SetPropertyOperation:r,AddPropertyOperation:n,RemovePropertyOperation:a}=r0(),i=this.parent.static().getFieldRdfProperty(this.foreignKeyName),s=this.localKeyName,o=ar(this.related??[],s),l=ar(e.related??[],s),u=Ve(new WeakMap,f=>f.set(e.parent,this.parent));this.parent.operations.filter(f=>!f.exists()&&(f instanceof r||f instanceof n||f instanceof a)&&f.property===i).map(f=>Cr(f.value)).flat().map(f=>l.get(f instanceof ln?f.toString():f)).filter(f=>!!f).forEach(f=>{var h;if(o.hasKey(f.getAttribute(s)))return;const d=f.clone({clones:u});(h=this.related)==null||h.push(d),o.add(d)});const c=await Promise.all(this.parent.getAttribute(this.foreignKeyName).map(async f=>{const d=o.get(f),h=l.get(f);return d&&h&&await d.static().synchronize(d,h),d}));this.related=[...yr(c),...this.__newModels]}};const _ie=Yd(Pl,[t0,Qb]);let $ie=class extends _ie{async load(){if(this.__modelInSameDocument)return this.related=this.__modelInSameDocument;const e=this.__modelInOtherDocumentId??this.parent.getAttribute(this.foreignKeyName);if(!e)return this.related=null;const r=await this.relatedClass.find(e);return this.related=r}reset(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[])[0];delete this.related,delete this.__modelInSameDocument,delete this.__modelInSameDocument,e&&(this.parent.unsetAttribute(this.foreignKeyName),this.related=e,this.__newModel=e)}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ve(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){if(this.documentModelsLoaded)return;const e=this.parent.getAttribute(this.foreignKeyName);this.loadDocumentModels([],e?[e]:[])}async __synchronizeRelated(e){if(!this.related||!e.related||this.related.url!==e.related.url)return;const r=this.parent.getAttribute(this.foreignKeyName);await this.related.static().synchronize(this.related,e.related),this.__newModel||this.related.url===r?this.related=this.__newModel??this.related:e.related.url===r&&(this.related=e.related.clone({clones:Ve(new WeakMap,n=>n.set(e.parent,this.parent))}))}};const xie=Yd(Dl,[t0,Xb]);let Sie=class extends xie{async load(){return this.isEmpty()?this.related=null:!this.__modelInSameDocument&&!this.__modelInOtherDocumentId?this.related=null:(this.related=await(async()=>this.__modelInSameDocument?this.__modelInSameDocument:this.__modelInOtherDocumentId?this.relatedClass.find(this.__modelInOtherDocumentId):null)(),this.related)}reset(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[])[0];delete this.related,delete this.__newModel,delete this.__modelInSameDocument,e&&(e.unsetAttribute(this.foreignKeyName),this.related=e,this.__newModel=e)}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ve(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){this.documentModelsLoaded||this.loadDocumentModels([],[])}},pg=class extends Uo{constructor(e,r){super(e,r,"resourceUrls","url")}isEmpty(){return!1}setForeignAttributes(e){const r=this.parent.getDocumentUrl();if(!this.parent.url||r&&e.resourceUrls.includes(r))return;const n=cn([...e.resourceUrls,this.parent.getDocumentUrl()]);this.parent.usingSolidEngine()?e.setOriginalAttribute("resourceUrls",n):e.setAttribute("resourceUrls",n)}async load(){const e=this.relatedClass.collection,r=Wr(this.parent.url);return this.related=await this.relatedClass.from(ia(r)??Ma(r)).find(r),this.relatedClass.collection=e,this.related}},Iie=class extends Uo{constructor(e){super(e,Bt("Tombstone"))}create(){const e=Bt("Tombstone");this.related=new e({url:this.parent.metadata.url,resourceUrl:this.parent.url,deletedAt:new Date})}async load(){return null}setForeignAttributes(){}};const Eie=qT(nr,[class{async deleteModels(t){const e=this.decantDocumentModelsByContainer(t);await Promise.all(Object.entries(e).map(r=>{let[n,a]=r;return this.deleteContainerDocumentsModels(n,a)}))}decantDocumentModelsByContainer(t){const e=this.decantModelsByDocument(t);return Object.entries(e).reduce((r,n)=>{let[a,i]=n;const s=ia(a)??Ma(a);return(r[s]=r[s]??[]).push({documentUrl:a,models:i}),r},{})}decantModelsByDocument(t){return t.reduce((e,r)=>{const n=r.requireDocumentUrl();return(e[n]=e[n]??[]).push(r),e},{})}async deleteContainerDocumentsModels(t,e){const r=await this.requireEngine().readMany(t,{$in:e.map(n=>{let{documentUrl:a}=n;return a})});await Promise.all(e.map(n=>{let{documentUrl:a,models:i}=n;return this.deleteDocumentModels(r,t,a,i)}))}async deleteDocumentModels(t,e,r,n){const a=t[r];if(!a)return;const i=this.requireEngine(),s=n.filter(o=>o.exists()).map(o=>o.url);if(!a["@graph"].some(o=>!s.some(l=>l===o["@id"]))){const o=n.filter(l=>l.isRelationLoaded("tombstone")).map(l=>l.tombstone);return o.length===0?await i.delete(e,r):await i.update(e,r,{$overwrite:{"@graph":o.map(l=>l.serializeToJsonLD({includeRelations:!1}))}}),void n.forEach(l=>l.setDocumentExists(!1))}await i.update(e,r,{"@graph":{$updateItems:{$where:{"@id":{$in:s}},$unset:!0}}})}},class{serializeToJsonLD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.includeRelations??(t.includeRelations=!0),Sf.forModel(this.static()).serialize(this,t)}async parseEngineDocumentAttributesFromJsonLD(t,e){const r=t,n=r["@graph"].find(o=>o["@id"]===e)??tt(ze,`Resource '${e}' not found on document`),a=await mr.resourceFromJsonLDGraph(r,e,n),i=this.static("fields"),s={};s[this.static("primaryKey")]=e;for(const[o,l]of Object.entries(i)){if(!l.rdfProperty)continue;const u=(a.propertiesIndex[l.rdfProperty]??l.rdfPropertyAliases.reduce((d,h)=>d.concat(a.propertiesIndex[h]??[]),[])).map(d=>d.type===1?new ln(d.value):d.value),[c,...f]=u;c!==void 0&&(s[o]=f.length>0?[c,...f]:c)}return s}convertEngineFiltersToJsonLD(t,e){const r={},n=Sf.forModel(this.static()),a=this.static("rdfsClasses"),i=a.map(l=>n.processExpandedIRI(l)),s=[];a.length>0&&(s.push({$contains:i}),s.push({$contains:a})),a.length===1&&(s.push({$eq:i[0]}),s.push({$eq:a[0]})),this.static("rdfsClassesAliases").forEach(l=>{l.length>0&&s.push({$contains:l}),l.length===1&&s.push({$eq:l[0]})}),t.$in&&(r.$in=t.$in,delete t.$in);const o=this.convertAttributeValuesToJsonLD(t,{compactIRIs:e,keepEmptyValues:!1});return s.length>0&&(o["@type"]={$or:s}),Object.keys(o).length>0&&(r["@graph"]={$contains:o}),r}convertEngineUpdatesToJsonLD(t,e){const r=this.convertAttributeValuesToJsonLD(t,{compactIRIs:e,keepEmptyValues:!0});for(const[n,a]of Object.entries(r))a===null&&(r[n]={$unset:!0});return r}convertAttributeValuesToJsonLD(t,e){return Sf.forModel(this.static(),e.compactIRIs).serialize(this,{includeContext:!1,includeTypes:!1,includeRelations:!1,keepEmptyValues:e.keepEmptyValues,attributes:t})}},class{get isPublic(){var t;return((t=this._publicPermissions)==null?void 0:t.includes(Hr.Read))??null}get isPrivate(){return this._publicPermissions?!this._publicPermissions.includes(Hr.Read):null}async fetchPublicPermissionsIfMissing(){this._publicPermissions||await this.fetchPublicPermissions()}async fetchPublicPermissions(){const t=Bt("SolidACLAuthorization"),e=this.requireDocumentUrl(),r=t.requireFetch(),n=await r(e,{method:"HEAD"}),a=new ed(e,[],n.headers);this._publicPermissions=a.getPublicPermissions()}async updatePublicPermissions(t){const e=Bt("SolidACLAuthorization");await this.withEngine(e.requireEngine(),()=>this.updateAuthorizations(t)),this._publicPermissions=t}trackPublicPermissions(){const t=this.static().requireFinalEngine();if(!(t instanceof bo))return{documentPermissions:{},stopTracking(){}};const e={},r=t.addListener({onRDFDocumentLoaded(n,a){if(!a.headers)return;const i=new ed(n,[],a.headers);e[n]=i.getPublicPermissions()}});return{documentPermissions:e,stopTracking:r}}async updateAuthorizations(t){this.relatedAuthorizations.enable();const e=await this.loadRelationIfUnloaded("authorizations"),r=Bt("SolidACLAuthorization"),n=t.map(s=>r.modeFromSolidDocumentPermission(s)),a=e.filter(s=>s.agentClasses.includes(li("foaf:Agent"))),i=a.map(s=>s.modes).flat();if(n.length!==i.length||n.some(s=>i.includes(s)))if(this.relatedAuthorizations.isDocumentACL())if(n.length!==0)if(a.length!==0)for(const s of a)await s.update({modes:n});else await this.createPublicAuthorization(n);else{for(const s of a)await s.delete();this.relatedAuthorizations.related=Fu(e,a)}else await this.createDocumentACLResource(n)}async createDocumentACLResource(t){this.relatedAuthorizations.enable();const e=Bt("SolidACLAuthorization"),r=this.authorizations.filter(n=>n.modes.includes(e.rdfTerm("acl:Control"))).map(n=>Ve(new e(n.getAttributes()),a=>{var i;a.accessTo=[this.requireDocumentUrl()],a.accessToClasses=[],a.default=[],a.mintUrl(this.relatedAuthorizations.requireACLUrl(),!1,((i=Uu(n.url))==null?void 0:i.fragment)??dn())}));for(const n of r)await n.save();this.relatedAuthorizations.related=r,this.relatedAuthorizations.effectiveACLUrl=this.relatedAuthorizations.aclUrl,await this.createPublicAuthorization(t)}async createPublicAuthorization(t){var n;this.relatedAuthorizations.enable();const e=Bt("SolidACLAuthorization"),r=await e.createInDocument({agentClasses:[e.rdfTerm("foaf:Agent")],accessTo:[this.requireDocumentUrl()],modes:t},this.relatedAuthorizations.requireACLUrl(),"public");(n=this.relatedAuthorizations.related)==null||n.push(r)}}]);let Kt=class extends Eie{constructor(){super(...arguments),this._sourceSubject={},this._lock=new Lb}static getFieldDefinition(e,r){if(e.endsWith(".*")){const n=this.getFieldDefinition(e.slice(0,-2),Array.isArray(r)&&r.length>0?r[0]:void 0);if(!LS(n))throw new ze("Can't get item field definition for non-array field");return{type:n.items.type,rdfProperty:n.rdfProperty,rdfPropertyAliases:n.rdfPropertyAliases,required:!1}}return this.fields[e]??td(r,this.getDefaultRdfContext()+e,[],!1)}static getFieldRdfProperty(e){const r=this.fields[e];return r&&!r.rdfProperty?null:(r==null?void 0:r.rdfProperty)??this.getDefaultRdfContext()+e}static getRdfPropertyField(e){return(this.rdfPropertyFields??(this.rdfPropertyFields=yre(ar(Object.keys(this.fields),r=>this.getFieldRdfProperty(r)))))[e]??null}static requireFetch(){if(!this.usingSolidEngine())throw new ze(`Could not get fetch from ${this.modelName} model`);return this.requireFinalEngine().getFetch()}static requireFieldRdfProperty(e){return this.getFieldRdfProperty(e)??tt(`Couldn't get required property for rdf field '${e}'`)}static usingSolidEngine(){return this.requireFinalEngine()instanceof bo}static from(e){return this.collection=e,this}static at(e){return this.from(e)}static boot(e){super.boot(e);const r=this;if(!r.collection.match(/^\w+:\/\/.*\/$/))throw new ni(r.name,`SolidModel collections must be valid container urls (ending with a trailing slash), '${r.collection}' isn't.`);r.rdfContexts=this.bootRdfContexts(),r.rdfsClasses=this.bootRdfsClasses(),r.rdfsClassesAliases=r.rdfsClassesAliases.map(n=>cn(n.map(a=>Ot(a,r.rdfContexts,r.getDefaultRdfContext()))??[])),r.fields=this.bootFields()}static aliasRdfPrefixes(e){var r;this.ensureBooted();for(const[n,a]of Object.entries(e)){const i=this.rdfsClasses.reduce((s,o)=>(o.startsWith(n)&&s.push(o.replace(n,a)),s),[]);i.length>0&&this.rdfsClassesAliases.push(i);for(const s of Object.values(this.fields))(r=s.rdfProperty)!=null&&r.startsWith(n)&&s.rdfPropertyAliases.push(s.rdfProperty.replace(n,a))}}static resetRdfAliases(){this.rdfsClassesAliases=[];for(const e of Object.values(this.fields))e.rdfPropertyAliases&&(e.rdfPropertyAliases=[])}static replaceRdfPrefixes(e){var r;this.ensureBooted();for(const[n,a]of Object.entries(e)){this.rdfsClasses=this.rdfsClasses.map(i=>i.replace(n,a));for(const i of Object.values(this.fields))(r=i.rdfProperty)!=null&&r.startsWith(n)&&(i.rdfProperty=i.rdfProperty.replace(n,a))}}static createFromEngineDocument(e,r,n){return this.instance().createFromEngineDocument(e,r,n)}static async find(e){const r=this.instance().serializeKey(e),n=xa(r),a=ia(n)??Ma(n);this.ensureBooted();try{const{documentPermissions:i,stopTracking:s}=this.instance().trackPublicPermissions(),o=await this.requireEngine().readOne(a,n),l=await this.instance().createFromEngineDocument(n,o,r);return s(),l._publicPermissions=i[n],l}catch(i){if(die()&&!$l(i,Vr))throw i;return null}}static async all(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=this.prepareEngineFilters(e);const{documentPermissions:r,stopTracking:n}=this.instance().trackPublicPermissions(),a=await this.withCollection(()=>super.all(e));return n(),a.forEach(i=>i._publicPermissions=r[i.requireDocumentUrl()]),a}static prepareEngineFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=!this.usingSolidEngine();return this.instance().convertEngineFiltersToJsonLD(e,r)}static rdfTerm(e){return li(e,{extraContext:this.rdfContexts,defaultPrefix:Object.values(this.rdfContexts).shift()})}static async newFromJsonLD(e,r,n){const a=Wne(e),i=await mr.fromJsonLD(a,r??this.collection),s=await i.toJsonLD(),o=n??this.findMatchingResourceIds(i.statements,r)[0]??tt(ze,"Couldn't find matching resource in JSON-LD"),l=i.resource(o),u=r||xa(o),c=await this.instance().parseEngineDocumentAttributes(u,s,o);return this.hasAutomaticTimestamp(_t.CreatedAt)&&(c.createdAt=l==null?void 0:l.getPropertyValue(Ot("purl:created"))),this.hasAutomaticTimestamp(_t.UpdatedAt)&&(c.updatedAt=l==null?void 0:l.getPropertyValue(Ot("purl:modified"))),Ve(this.newInstance(In(c)),async f=>{await f.loadDocumentModels(u,s),f.reset(),f._sourceSubject=e["@id"]?Kne(e["@id"]):{};for(const d of this.relations){const h=f.requireRelation(d),p=h.getLoadedModels();h.enabled&&(bv(h,Wa).reset(p),p.forEach(y=>y.reset()))}})}static async createFromJsonLD(e,r,n){return Ve(await this.newFromJsonLD(e,r,n),a=>a.save(r))}static async createInDocument(e,r,n){return Ve(new this(e),a=>a.saveInDocument(r,n))}static async synchronize(e,r){if(this!==e.static())return e.static().synchronize(e,r);if(e.getPrimaryKey()!==r.getPrimaryKey())throw new ze("Can't synchronize different models");if(await e.loadRelationIfUnloaded("operations"),await r.loadRelationIfUnloaded("operations"),(e.operations.length!==0||r.operations.length!==0)&&e.getHistoryHash()!==r.getHistoryHash()){e.addHistoryOperations(r.operations),r.addHistoryOperations(e.operations);for(const n of Fu(this.relations,this.reservedRelations)){const a=e.requireRelation(n),i=r.requireRelation(n);a.enabled&&i.enabled&&(await bv(a,GS).__synchronizeRelated(i),await bv(i,GS).__synchronizeRelated(a))}}}static findMatchingResourceIds(e,r){const n=e.reduce((a,i)=>{var s;return i.predicate.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&(a[i.subject.value]=a[i.subject.value]??[],(s=a[i.subject.value])==null||s.push(i.object.value)),a},{});return Object.entries(n).filter(a=>{let[i,s]=a;return!this.rdfsClasses.some(o=>!s.includes(o))}).map(a=>{let[i]=a;return r?yo(r,i):i})}static bootRdfContexts(e){var l,u,c;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e??this,a=Object.getPrototypeOf(n),i=(l=Object.getOwnPropertyDescriptor(n,"rdfContext"))==null?void 0:l.value,s={...r,...((u=Object.getOwnPropertyDescriptor(n,"rdfContexts"))==null?void 0:u.value)??{}},o={crdt:"https://vocab.noeldemartin.com/crdt/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"};return s.default??(s.default=i??((c=Object.entries({...s,...o}).find(f=>{var p,y;let[d,h]=f;return((p=n.rdfsClass)==null?void 0:p.startsWith(`${d}:`))||((y=n.rdfsClass)==null?void 0:y.startsWith(At(h)))}))==null?void 0:c[1])??Object.values(s).find(f=>!!f)),a?this.bootRdfContexts(a,s):{...s,...o,default:s.default??"http://www.w3.org/ns/solid/terms#"}}static bootRdfsClasses(e){var s,o;const r=e??this,n=(s=Object.getOwnPropertyDescriptor(r,"rdfsClass"))==null?void 0:s.value,a=(o=Object.getOwnPropertyDescriptor(r,"rdfsClasses"))==null?void 0:o.value;if(a&&a.length>0)return cn((a==null?void 0:a.map(l=>this.rdfTerm(l)))??[]);if(n)return[this.rdfTerm(n)];const i=Object.getPrototypeOf(r);return i?this.bootRdfsClasses(i):[this.rdfTerm(this.getDefaultRdfContext()+this.modelName)]}static bootFields(){var i,s,o;const e=this,r=e.pureInstance(),n=e.fields,a=e.getDefaultRdfContext();r.static().hasAutomaticTimestamp(_t.CreatedAt)&&delete n[_t.CreatedAt],r.static().hasAutomaticTimestamp(_t.UpdatedAt)&&delete n[_t.UpdatedAt];for(const[l,u]of Object.entries(n))u.rdfProperty=Ot(u.rdfProperty??`${a}${l}`,e.rdfContexts,a),u.rdfPropertyAliases=((i=u.rdfPropertyAliases)==null?void 0:i.map(c=>Ot(c,e.rdfContexts,a)))??[];return(s=n[e.primaryKey])==null||delete s.rdfProperty,(o=n[e.primaryKey])==null||delete o.rdfPropertyAliases,n}static getDefaultRdfContext(){return this.rdfContexts.default??""}initialize(e,r){this._documentExists=r,this._sourceDocumentUrl=this._sourceDocumentUrl??null,this._trackedDirtyAttributes={},this._removedResourceUrls=[],this._usesRdfAliases=!1,super.initialize(e,r)}initializeRelations(){super.initializeRelations(),this.initializeRelationsEnabling(),this.initializeMetadataRelation()}initializeRelationsEnabling(){this.static().hasAutomaticTimestamps()||this._proxy.relatedMetadata.disable(),this._proxy.tracksHistory()||(this._proxy.relatedOperations.disable(),this._proxy.relatedTombstone.disable()),this._proxy.relatedAuthorizations.disable()}initializeMetadataRelation(){if(!this._proxy.relatedMetadata.enabled)return;const e=Bt("Metadata").newInstance(In({resourceUrl:this._attributes[this.static("primaryKey")],createdAt:this._attributes.createdAt,updatedAt:this._attributes.updatedAt}),!1);e.resourceUrl&&e.mintUrl(this.getDocumentUrl()||void 0,this._documentExists),this._proxy.relatedMetadata.attach(e),delete this._attributes.createdAt,delete this._attributes.updatedAt,delete this._originalAttributes.createdAt,delete this._originalAttributes.updatedAt}static(e){return super.static(e)}update(e){return this._lock.run(()=>super.update(e))}save(e){return this.static().withCollection(e||this.guessCollection(),()=>super.save())}async saveInDocument(e,r){return this.exists()?gre(this.getDocumentUrl()===e,ze,"Model already exists and is not stored in the given document"):this.mintUrl(e,!0,r),await this.save(),this}delete(){return this.static().withCollection(this.guessCollection(),()=>super.delete())}async softDelete(){if(!this.static().hasAutomaticTimestamps())throw new ze("Cannot soft delete a model without automatic timestamps");if(this.isSoftDeleted())return this;const e=new Date;return this.metadata.setAttribute(_t.UpdatedAt,e),this.metadata.setAttribute("deletedAt",e),await this.save(),this}async registerInTypeIndex(e){await new(Bt("SolidDocument"))({url:this.getDocumentUrl()}).register(e,this.static())}mintUrl(e,r,n){this.setAttribute(this.static("primaryKey"),this.newUrl(e,n)),e&&(this._documentExists=r??!0)}toJsonLD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e={ids:!0,timestamps:!0,history:!0,...e};const r=this.clone();return e.ids||r.getRelatedModels().forEach(n=>n.setAttribute("url",null)),e.timestamps||r.getRelatedModels().forEach(n=>{n.relatedMetadata.related=null,delete n.relatedMetadata.__modelInSameDocument,delete n.relatedMetadata.__modelInOtherDocumentId,delete n.relatedMetadata.__newModel}),e.history||r.getRelatedModels().forEach(n=>{n.relatedOperations.related=[],n.relatedOperations.__newModels=[],delete n.relatedOperations.__modelsInSameDocument,delete n.relatedOperations.__modelsInOtherDocumentIds}),r.serializeToJsonLD()}async toTurtle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=await Gb(this.toJsonLD(e));return zne(r)}getIdAttribute(){return this.getAttribute("url")}setExists(e){this._documentExists=e&&this._documentExists,super.setExists(e)}documentExists(){return this._documentExists}setDocumentExists(e){this._documentExists=e,Object.values(this._relations).filter(Wa).filter(r=>r.enabled&&r.useSameDocument&&!Vt()).map(r=>r.getLoadedModels()).flat().forEach(r=>r.setDocumentExists(e))}isDirty(e,r){var i,s;if(e)return this.static("timestamps").includes(e)&&((i=this.metadata)==null?void 0:i.isDirty(e))||super.isDirty(e);if(super.isDirty())return!0;if(r)return(s=this.metadata)==null?void 0:s.isDirty("deletedAt");const n=this.getDocumentModels().filter(o=>o.isDirty(void 0,!0)),a=this.getRemovedDocumentModels();return n.length+a.length>0}isSoftDeleted(){var e;return!!((e=this.metadata)!=null&&e.deletedAt)}enableHistory(){this._history=!0}disableHistory(){this._history=!1}disableTombstone(){this._tombstone=!1}enableTombstone(){this._tombstone=!0}leavesTombstone(){return this._tombstone??this.static("tombstone")}cleanDirty(e){super.cleanDirty(),this._documentExists=!0,this._trackedDirtyAttributes={},this._removedResourceUrls=[],Object.values(this._relations).filter(Gc).filter(r=>r.enabled&&r.useSameDocument&&!Vt()).forEach(r=>{r.__modelsInSameDocument=r.__modelsInSameDocument||[],r.__modelsInSameDocument.push(...r.__newModels),r.__newModels=[]}),Object.values(this._relations).filter(Ov).filter(r=>r.useSameDocument&&r.enabled&&!!r.__newModel&&!Vt()).forEach(r=>{r.__modelInSameDocument=r.__newModel,delete r.__newModel}),e||this.getDocumentModels().forEach(r=>r.cleanDirty(!0))}fixMalformedAttributes(){super.fixMalformedAttributes(),this.relatedMetadata.enabled&&(this.static().hasAutomaticTimestamp(_t.CreatedAt)&&(this.metadata.createdAt=this.getAttribute("createdAt")??new Date),this.static().hasAutomaticTimestamp(_t.UpdatedAt)&&(this.metadata.updatedAt=this.getAttribute("updatedAt")??this.getAttribute("createdAt")??new Date))}tracksHistory(){return!this.static().historyDisabled.has(this)&&(this._history??this.static("history"))}withoutTrackingHistory(e){if(!this.tracksHistory())return e();const r=()=>(this.static().historyDisabled.delete(this),!0);this.static().historyDisabled.set(this);const n=e();return Xre(n)?n.then(a=>r()&&a):r()&&n}ignoreRdfPropertyHistory(e,r){return!1}getHistoryHash(){const e=this.getRelatedModels().map(r=>r.operations??[]).flat();return e.length===0?null:Nre(gf(e,"url").reduce((r,n)=>r+n.url,""))}rebuildAttributesFromHistory(){var i,s;if(!this.hasRelation("operations")||!this.isRelationLoaded("operations"))throw new ze("Can't rebuild attributes from history if 'operations'  relation isn't loaded");if(this.operations.length===0)return;const e=ro("PropertyOperation"),r=gf(this.operations,"date"),n=new Set(Object.keys(this._attributes)),a=Object.entries(this.static("fields")).filter(o=>{let[l,u]=o;return u.type===xe.Array}).map(o=>{let[l]=o;return l});n.delete(this.static("primaryKey")),n.delete(_t.CreatedAt),n.delete(_t.UpdatedAt),a.forEach(o=>this.setAttribute(o,[])),r.forEach(o=>{if(o instanceof e){const l=this.static().getRdfPropertyField(o.property);l&&n.delete(l)}o.apply(this)}),n.forEach(o=>this.unsetAttribute(o)),this.setAttribute("createdAt",(i=r[0])==null?void 0:i.date),this.setAttribute("updatedAt",(s=r[r.length-1])==null?void 0:s.date)}getDocumentUrl(){return this.url?xa(this.url):null}requireDocumentUrl(){return this.getDocumentUrl()??tt(ze,"Failed getting required document url")}usesRdfAliases(){return this._usesRdfAliases}getSourceDocumentUrl(){return this._sourceDocumentUrl}setSourceDocumentUrl(e){this._sourceDocumentUrl=e}requireContainerUrl(){return this.getContainerUrl()??tt(ze,"Failed getting required container url")}getContainerUrl(){const e=this.getDocumentUrl();return e?ia(e):null}getSourceContainerUrl(){const e=this.getSourceDocumentUrl();return e?ia(e):null}setAttribute(e,r){const n=this.getPrimaryKey();super.setAttribute(e,r);const a=this.getPrimaryKey();n!==a&&this.onPrimaryKeyUpdated(a,n)}unsetAttribute(e){var r,n;return((n=(r=this.static("fields"))==null?void 0:r[e])==null?void 0:n.type)===xe.Array?this.setAttributeValue(e,[]):super.unsetAttribute(e)}setCreatedAtAttribute(e){(this.metadata??this).setAttributeValue("createdAt",e)}setUpdatedAtAttribute(e){(this.metadata??this).setAttributeValue("updatedAt",e)}getCreatedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("createdAt"))??super.getAttributeValue("createdAt")}getUpdatedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("updatedAt"))??super.getAttributeValue("updatedAt")}getDeletedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("deletedAt"))??super.getAttributeValue("deletedAt")}getDocumentModels(e){const r=e??new Set;if(r.has(this))return[...r];const n=this.getDocumentUrl(),a=i=>i.forEach(s=>r.add(s));r.add(this);for(const i of Object.values(this._relations)){const s=i instanceof xf;i.enabled&&i.loaded&&(s||Wa(i))&&(!Wa(i)||i.useSameDocument&&!Vt())&&(Ov(i)&&i.__newModel&&a(i.__newModel.getDocumentModels(r)),Gc(i)&&a(i.__newModels.map(o=>o.getDocumentModels(r)).flat()),a(i.getLoadedModels().filter(o=>s||o.getDocumentUrl()===n).map(o=>o.getDocumentModels(r)).flat()))}return[...r]}getRemovedDocumentModels(){const e=new Set;for(const r of Object.values(this._relations))r.enabled&&r.loaded&&Wa(r)&&Gc(r)&&r.__removedDocumentModels.forEach(n=>e.add(n));return[...e]}getDirtyDocumentModels(){return this.getDocumentModels().filter(e=>e.isDirty())}requireRelation(e){return super.requireRelation(e)}getRelationModel(e){return super.getRelationModel(e)}getRelationModels(e){return super.getRelationModels(e)}setRelationModel(e,r){return super.setRelationModel(e,r)}setRelationModels(e,r){return super.setRelationModels(e,r)}getRelatedModels(e){const r=e??new Set;if(r.has(this))return[...r];r.add(this);for(const n of Object.values(this._relations))n.enabled&&[...Ov(n)&&n.__newModel?n.__newModel.getRelatedModels(r):[],...Gc(n)?n.__newModels.map(a=>a.getRelatedModels(r)).flat():[],...n.getLoadedModels().map(a=>a.getRelatedModels(r)).flat()].forEach(a=>r.add(a));return[...r]}usingSolidEngine(){return this.requireFinalEngine()instanceof bo}metadataRelationship(){const e=Bt("Metadata");return this.hasOne(e,"resourceUrl").usingSameDocument(!Vt()).onDelete("cascade")}operationsRelationship(){return new yie(this).usingSameDocument(!Vt()).onDelete("cascade")}tombstoneRelationship(){return new Iie(this)}authorizationsRelationship(){return new bie(this)}onMoved(e,r){r&&this.setSourceDocumentUrl(r),this.setAttribute("url",e),this.cleanDirty()}getDefaultCollection(){return`solid://${super.getDefaultCollection()}/`}async createFromEngineDocument(e,r,n){const a=At(e),i=await mr.resourceFromJsonLDGraph(r,n||a),s=await(async()=>{const o=await this.parseEngineDocumentAttributes(e,r,n);return o[this.static("primaryKey")]=new ln(n||e),this.newInstance(o,!0)})();return await s.loadDocumentModels(a,r),Ve(s,o=>{o._sourceDocumentUrl=Bb(a,{fragment:!1}),o._usesRdfAliases=this.static("rdfsClassesAliases").some(l=>!l.some(u=>!i.isType(u)))})}async createManyFromEngineDocuments(e){const r=[this.static("rdfsClasses"),...this.static("rdfsClassesAliases")];return(await Promise.all(Object.entries(e).map(async n=>{let[a,i]=n;const s=await mr.fromJsonLD(i);return Promise.all(s.resources.filter(o=>!!o.url&&r.some(l=>!l.some(u=>!o.isType(u)))).map(async o=>this.createFromEngineDocument(a,i,o.url)))}))).flat()}async loadDocumentModels(e,r){const n=this.requireEngine();await Promise.all(Object.values(this._relations).filter(a=>a.enabled&&(Wa(a)||a instanceof xf)).map(async a=>a.relatedClass.withEngine(n,()=>a.__loadDocumentModels(e,r))))}async beforeSave(e){var n;const r=this.isDirty(_t.UpdatedAt)||!!((n=this.metadata)!=null&&n.isDirty(_t.UpdatedAt));await super.beforeSave(),this.url||!this.static("mintsUrls")||Vt()||this.mintUrl(),e||(await Promise.all(this.getDirtyDocumentModels().map(async a=>a.exists()||a.beforeCreate())),await this.beforeDocumentSave(),await Promise.all(this.getDirtyDocumentModels().map(async a=>a.exists()&&a.beforeUpdate())),this.reconcileModelTimestamps(r))}async beforeDocumentSave(){let e=[];const r=new Set,n=()=>(e=this.getDirtyDocumentModels().filter(a=>!r.has(a)),e.length>0);for(;n();)this.static("mintsUrls")&&!Vt()&&this.mintDocumentModelsKeys(e),await Promise.all(e.map(async a=>{a!==this&&a.isDirty()&&await a.beforeSave(!0),r.add(a)}))}async beforeCreate(){for(const e of Object.values(this._relations))e.enabled&&hie(e)&&e.__beforeParentCreate();this.metadata&&!this.metadata.resourceUrl&&this.static("defaultResourceHash")&&!Vt()&&(this.metadata.resourceUrl=this.url??`#${this.static("defaultResourceHash")}`,this.metadata.mintUrl(this.getDocumentUrl()||void 0,this._documentExists))}async beforeUpdate(){this.tracksHistory()&&this.isDirty(void 0,!0)&&(await this.addDirtyHistoryOperations(),await Promise.all(this.operations.map(async e=>{e.exists()||(await e.beforeCreate(),await e.beforeSave(!0),this.mintDocumentModelsKeys([e]))})))}async performSave(){const e=this.getDirtyDocumentModels().map(r=>[r,r.exists()]);try{await super.performSave()}catch(r){if(!(r instanceof zu))throw r;this.url=this.newUniqueUrl(this.url),await super.performSave()}e.forEach(r=>{let[n,a]=r;n._wasRecentlyCreated=n._wasRecentlyCreated||!a})}async performDelete(){this.tracksHistory()&&this.leavesTombstone()&&this.relatedTombstone.create(),await super.performDelete()}async afterSave(e){await super.afterSave(),e||(this.metadata&&this.metadata.resourceUrl!==this.url&&(this.metadata.resourceUrl=this.url,Vt()||this.metadata.mintUrl(this.getDocumentUrl()||void 0,this._documentExists)),await Promise.all(this.getDirtyDocumentModels().map(r=>r.afterSave(!0))))}onPrimaryKeyUpdated(e,r){var s,o;const n=this.getDocumentUrl()||void 0,a=this.documentExists(),i=Object.values(this._relations).filter(l=>l.enabled&&Zb(l));for(const l of i)l.getLoadedModels().forEach(u=>{const c=u.getAttribute(l.foreignKeyName);u.setAttribute(l.foreignKeyName,Array.isArray(c)?Ve(c.slice(0),f=>NT(f,r,e)):e)});Vt()||((s=this.metadata)==null||s.mintUrl(n,a),(o=this.operations)==null||o.map(l=>l.mintUrl(n,a)))}async syncDirty(){const e=this.getDocumentUrl(),r=()=>this.requireEngine().create(e?Wr(e):this.static("collection"),this.toEngineDocument(),e||void 0),n=()=>this.requireEngine().update(Wr(e),e,{"@graph":{$push:this.serializeToJsonLD()}}),a=()=>this.requireEngine().update(Wr(e),e,this.getDirtyEngineDocumentUpdates());return await(async()=>{if(!this._documentExists){const i=this.static("defaultResourceHash"),s=await r();return this.getSerializedPrimaryKey()??(i&&!Vt()?`${s}#${i}`:s)}return this._exists?(await a(),this.getSerializedPrimaryKey()):(await n(),this.getSerializedPrimaryKey())})()??tt(ze,"Missing primary key")}async deleteModelsFromEngine(e){await this.deleteModels(e)}async addDirtyHistoryOperations(){if(await this.loadRelationIfUnloaded("operations"),"url"in this._dirtyAttributes)throw new ze(`It wasn't possible to generate the changes history for a model because its primary key was modified from '${this.url}' to '${this._originalAttributes.url}'.`);if(this.operations.length===0){const e=In(Ra(this._originalAttributes,[this.static("primaryKey")]));for(const[r,n]of Object.entries(e)){if(n===null||Array.isArray(n)&&n.length===0||r in this._trackedDirtyAttributes&&this._trackedDirtyAttributes[r]===n)continue;const a=this.static().getFieldRdfProperty(r);a&&this.ignoreRdfPropertyHistory(a)||this.relatedOperations.attachSetOperation({property:this.static().requireFieldRdfProperty(r),date:this.metadata.createdAt,value:this.getOperationValue(r,n)})}}for(const[e,r]of Object.entries(this._dirtyAttributes)){if(e in this._trackedDirtyAttributes&&this._trackedDirtyAttributes[e]===r)continue;const n=this.static().getFieldRdfProperty(e);n&&this.ignoreRdfPropertyHistory(n)||(Array.isArray(r)?this.addArrayHistoryOperations(e,r,this._originalAttributes[e]):this.relatedOperations.attachSetOperation({property:this.static().requireFieldRdfProperty(e),date:this.metadata.updatedAt,value:this.getOperationValue(e,r)}))}this.metadata.isDirty("deletedAt")&&this.metadata.deletedAt&&this.relatedOperations.attachDeleteOperation({date:this.metadata.deletedAt})}addHistoryOperations(e){const r=ro("PropertyOperation"),n=new Set(this.operations.map(o=>o.url)),a=[],i=new Set,s=Object.keys(this.static("fields")).reduce((o,l)=>{const u=this.static().getFieldRdfProperty(l);return u&&(o[u]=l),o},{});for(const o of e){if(n.has(o.url)||o instanceof r&&this.ignoreRdfPropertyHistory(o.property))continue;const l=o.clone();l.reset(),l.url=o.url,a.push(l),o instanceof r&&o.property in s&&i.add(o.property)}if(a.some(o=>!o.isInception(this))){this.setRelationModels("operations",gf([...this.operations,...a],["date","url"])),this.removeDuplicatedHistoryOperations(),this.rebuildAttributesFromHistory();for(const o of i){const l=s[o];this._trackedDirtyAttributes[l]=this._dirtyAttributes[l]}}}removeDuplicatedHistoryOperations(){const e=ro("PropertyOperation"),r=[],n=[],a=this.operations.filter(i=>i.isInception(this));for(const i of a)i instanceof e&&(r.includes(i.property)?(n.push(i.url),i.exists()&&this._removedResourceUrls.push(i.url)):r.push(i.property));this.setRelationModels("operations",this.operations.filter(i=>!n.includes(i.url)))}hasOne(e,r,n){return new Sie(this,e,r,n)}hasMany(e,r,n){return new zP(this,e,r,n)}belongsToOne(e,r,n){return new $ie(this,e,r,n)}belongsToMany(e,r,n){return new GP(this,e,r,n)}isContainedBy(e){return new pg(this,e)}documentContainsMany(e){return new xf(this,e)}toEngineDocument(){return{"@graph":[...this.getDirtyDocumentModels().map(e=>e.serializeToJsonLD({includeRelations:!1,includeAnonymousHashes:!0}))]}}getDirtyEngineDocumentUpdates(e){const r=[],n=this.requireEngine(),a=this.getDirtyDocumentModels(),i=this.getRemovedDocumentModels();if(!e){for(const s of a){if(s===this)continue;if(!s.exists()){r.push({$push:s.serializeToJsonLD({includeRelations:!1})});continue}const o=s.withEngine(n,l=>l.getDirtyEngineDocumentUpdates(!0))["@graph"];"$apply"in o?r.push(...o.$apply):r.push(o)}for(const s of i)s.getDocumentModels().forEach(o=>r.push({$updateItems:{$where:{"@id":o.url},$unset:!0}}))}if(super.isDirty()&&this.url){const s=super.getDirtyEngineDocumentUpdates(),o=!this.usingSolidEngine();r.push({$updateItems:{$where:{"@id":this.url},$update:this.convertEngineUpdatesToJsonLD(s,o)}})}return this._removedResourceUrls.forEach(s=>r.push({$updateItems:{$where:{"@id":s},$unset:!0}})),r.length===1?{"@graph":r[0]}:{"@graph":{$apply:r}}}async parseEngineDocumentAttributes(e,r,n){return this.parseEngineDocumentAttributesFromJsonLD(r,n||e)}castAttribute(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return super.castAttribute((()=>{var a;const n=e==null;switch((a=r.definition)==null?void 0:a.type){case xe.Array:{const i=n?[]:Cr(e),s=cn(i);return i.length!==s.length&&console.warn("An array field had duplicate values, this is not supported in Solid models."),s}case xe.Any:if(!Array.isArray(e))return e;if(e.length===0)return;if(e.length===1)return e[0]}return n?void 0:e})(),r)}newUrl(e,r){return e=e??this.newUrlDocumentUrl(),(r=r??this.newUrlResourceHash())?`${e}#${r}`:e}newUrlDocumentUrl(){var r;const e=((r=this._sourceSubject)==null?void 0:r.documentName)??this.newUrlDocumentUrlSlug()??dn();return yo(this.static("collection"),e)}newUrlDocumentUrlSlug(){const e=this.static("slugField"),r=e&&this.getAttribute(e);return(r&&Xd(r))??null}newUrlResourceHash(){var e;return((e=this._sourceSubject)==null?void 0:e.resourceHash)??this.static("defaultResourceHash")}newUniqueUrl(e){var n;e=e??this.newUrl();const r=(n=Uu(e))==null?void 0:n.fragment;return`${xa(e)}-${UT()}${r?`#${r}`:""}`}guessCollection(){if(this.url)return ia(this.url)??void 0}mintDocumentModelsKeys(e){const r=this.requireDocumentUrl(),n=this._documentExists;for(const a of e)a.url||a.mintUrl(r,n,dn());for(const a of e)for(const i of Object.values(a._relations))i.enabled&&i.getLoadedModels().forEach(s=>i.setForeignAttributes(s))}getOperationValue(e,r){const n=this.static().getFieldDefinition(e,r);return LS(n)?yr(Cr(r,!0).map(a=>this.getOperationValue(`${e}.*`,a))):r&&n.type===xe.Key?new ln(r):r}addArrayHistoryOperations(e,r,n){const a=Cr(this.getOperationValue(e,n),!0),i=Cr(this.getOperationValue(e,r),!0),{added:s,removed:o}=Nb(a,i,(l,u)=>l instanceof ln&&u instanceof ln?l.equals(u):l===u);s.length>0&&this.relatedOperations.attachAddOperation({property:this.static().getFieldRdfProperty(e),date:this.metadata.updatedAt,value:yr(s)}),o.length>0&&this.relatedOperations.attachRemoveOperation({property:this.static().getFieldRdfProperty(e),date:this.metadata.updatedAt,value:yr(o)})}reconcileModelTimestamps(e){var s;const[r,...n]=this.operations??[];if(r)return void this.setAttribute(_t.UpdatedAt,n.reduce((o,l)=>o>l.date?o:l.date,r.date));if(e)return;const a=this._originalAttributes[_t.UpdatedAt]??((s=this.metadata)==null?void 0:s._originalAttributes[_t.UpdatedAt]);if(!a)return;const i=Object.keys(this._dirtyAttributes);i[1]||i[0]&&i[0]!==_t.UpdatedAt||this.setAttribute(_t.UpdatedAt,a)}};function Fr(t,e){return CP(e?t:Kt,e??t)}Kt.primaryKey="url",Kt.classFields=["_history","_publicPermissions","_tombstone"],Kt.rdfContexts={},Kt.rdfsClasses=[],Kt.rdfsClassesAliases=[],Kt.reservedRelations=["metadata","operations","tombstone","authorizations"],Kt.defaultResourceHash="it",Kt.mintsUrls=!0,Kt.history=!1,Kt.tombstone=!0,Kt.historyDisabled=new WeakMap;const qP={resourceUrl:{type:xe.Key,required:!0,rdfProperty:"resource"},date:{type:xe.Date,required:!0}};var Aie=Fr({rdfContexts:{crdt:"https://vocab.noeldemartin.com/crdt/"},rdfsClass:"Operation",timestamps:!1,fields:qP});let eh=class extends Aie{apply(e){}isInception(e){var r,n;return((n=(r=e.metadata)==null?void 0:r.createdAt)==null?void 0:n.getTime())===this.date.getTime()}newUrl(e,r){if(!this.resourceUrl)return super.newUrl(e,r);const n=r??dn();return this.resourceUrl.endsWith("/")?`${this.resourceUrl}#operation-${n}`:`${this.resourceUrl}-operation-${n}`}};const th={...qP,property:{type:xe.Key,required:!0}};var Oie=Fr(eh,{rdfsClass:"PropertyOperation",fields:th});let bs=class extends Oie{apply(e){const r=e.static().getRdfPropertyField(this.property);r&&this.applyPropertyUpdate(e,r)}applyPropertyUpdate(e,r){}};var kie=Fr(bs,{rdfsClass:"AddPropertyOperation",fields:{...th,value:{type:xe.Any,required:!0}}});let Rie=class extends kie{applyPropertyUpdate(e,r){const n=e.getAttributeValue(r);if(!Array.isArray(n))throw new ze("Can't apply Add operation to non-array field (should be Set instead)");e.setAttributeValue(r,[...n,...Cr(this.value)])}};var Tie=Fr(eh,{rdfsClass:"DeleteOperation"});let Pie=class extends Tie{apply(e){e.metadata.setAttribute("deletedAt",this.date)}};var Cie=Fr({rdfContexts:{crdt:"https://vocab.noeldemartin.com/crdt/"},rdfsClass:"Metadata",timestamps:!1,fields:{resourceUrl:{type:xe.Key,required:!0,rdfProperty:"resource"},createdAt:xe.Date,updatedAt:xe.Date,deletedAt:xe.Date}});let n0=class extends Cie{getCreatedAtAttribute(){return this.getAttributeValue("createdAt")}getUpdatedAtAttribute(){return this.getAttributeValue("updatedAt")}newUrl(e,r){return this.resourceUrl?this.resourceUrl.endsWith("/")?`${this.resourceUrl}#metadata`:`${this.resourceUrl}-metadata`:super.newUrl(e,r)}};var Die=Fr(bs,{rdfsClass:"RemovePropertyOperation",fields:{...th,value:{type:xe.Any,required:!0}}});let HP=class vg extends Die{applyPropertyUpdate(e,r){const n=e.getAttributeValue(r);if(!Array.isArray(n))throw new ze("Can't apply Remove operation to non-array field (use Unset instead)");e.setAttributeValue(r,Fu(n,this.castModelAttribute(e,r,Cr(this.value))))}castModelAttribute(e,r,n){const a=e.constructor;return(vg.attributeCasters.get(a)??this.createAttributeCaster(a))(r,n)}createAttributeCaster(e){const r=(class extends e{castAttribute(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return super.castAttribute(n,a)}}).pureInstance();return Ve((n,a)=>r.castAttribute(a,{definition:r.static().getFieldDefinition(n)}),n=>vg.attributeCasters.set(e,n))}};HP.attributeCasters=new WeakMap;var jie=Fr(bs,{rdfsClass:"SetPropertyOperation",fields:{...th,value:{type:xe.Any,required:!0}}});let Lie=class extends jie{applyPropertyUpdate(e,r){e.setAttributeValue(r,this.value)}},wo=class extends n0{};wo.rdfsClass="Tombstone";var Mie=Fr(bs,{rdfsClass:"UnSetPropertyOperation"});let Nie=class extends Mie{};const Fie={AddPropertyOperation:Rie,DeleteOperation:Pie,Metadata:n0,Operation:eh,PropertyOperation:bs,RemovePropertyOperation:HP,SetPropertyOperation:Lie,Tombstone:wo,UnsetPropertyOperation:Nie};var Uie=Fr({rdfContexts:{acl:"http://www.w3.org/ns/auth/acl#"},rdfsClass:"Authorization",timestamps:!1,fields:{agents:{rdfProperty:"agent",type:xe.Array,items:xe.Key},agentClasses:{rdfProperty:"agentClass",type:xe.Array,items:xe.Key},agentGroups:{rdfProperty:"agentGroup",type:xe.Array,items:xe.Key},accessTo:{type:xe.Array,items:xe.Key},accessToClasses:{rdfProperty:"accessToClass",type:xe.Array,items:xe.Key},default:{type:xe.Array,items:xe.Key},modes:{rdfProperty:"mode",type:xe.Array,items:xe.Key}}});const Bie={[Hr.Read]:"http://www.w3.org/ns/auth/acl#Read",[Hr.Write]:"http://www.w3.org/ns/auth/acl#Write",[Hr.Append]:"http://www.w3.org/ns/auth/acl#Append",[Hr.Control]:"http://www.w3.org/ns/auth/acl#Control"};let a0=class extends Uie{static get fetch(){return this.requireFetch()}static modeFromSolidDocumentPermission(e){return Bie[e]}};var zie=Fr({rdfsClass:"ldp:Resource",timestamps:!1,fields:{updatedAt:{type:xe.Date,rdfProperty:"purl:modified"}}}),Gie=Fr({rdfContexts:{solid:"http://www.w3.org/ns/solid/terms#"},rdfsClass:"TypeRegistration",timestamps:!1,fields:{forClass:{type:xe.Array,items:xe.Key},instance:xe.Key,instanceContainer:xe.Key}});let tu=class extends Gie{},Ws=class extends zie{static async fromTypeIndex(e,r){const n=this.requireFinalEngine(),a=n instanceof bo?n.getFetch():void 0;return(await Zne(e,r.rdfsClasses,a)).map(i=>this.newInstance({url:i},!0))}async register(e,r){const n=new tu({forClass:r.rdfsClasses[0],instance:this.url});if(typeof e=="string")return n.mintUrl(e,!0,dn()),void await n.withEngine(this.requireEngine(),()=>n.save(Wr(e)));await e.withEngine(this.requireEngine(),async()=>{await e.loadRelationIfUnloaded("registrations"),await e.relatedRegistrations.create(n)})}};const qie=["http://www.w3.org/ns/iana/media-types/text/turtle#Resource","http://www.w3.org/ns/iana/media-types/application/rdf+xml#Resource","http://www.w3.org/ns/iana/media-types/application/ld+json#Resource","http://www.w3.org/ns/ldp#Container","http://www.w3.org/ns/ldp#BasicContainer"];let Hie=class extends GP{constructor(e){super(e,Ws,"resourceUrls")}get container(){return this.parent}async load(){if(this.isEmpty())return this.related=[];if(this.parent.usingSolidEngine())return super.load();const e=this.parent.requireEngine(),r=await e.readMany(this.container.requireDocumentUrl());return this.related=Object.entries(r).map(n=>{let[a,i]=n;return new Ws({url:a,updatedAt:this.getLatestUpdateDate(i["@graph"])})}),this.related}async __loadDocumentModels(e,r){if(!Ws.usingSolidEngine())return super.__loadDocumentModels(e,r);const n=this.parent.resourceUrls,a=mr.reduceJsonLDGraph(r,this.parent.url),i=r["@graph"].filter(o=>{if(n.indexOf(o["@id"])===-1)return!1;const l=Cr(o["@type"]??[]);return qie.some(u=>l.includes(u))}).map(o=>o["@id"]),s=await Promise.all(i.map(o=>Ws.createFromEngineDocument(e,a,o)));this.protectedSolidBelongsTo.loadDocumentModels(s,[])}getLatestUpdateDate(e){const r=e.reduce((n,a)=>{const{"@value":i}=a["purl:modified"]??a["http://purl.org/dc/terms/modified"]??a["purl:created"]??a["http://purl.org/dc/terms/created"]??{"@value":0},s=new Date(i).getTime();return Math.max(n,s)},0);return new Date(r)}},ru=class extends to{constructor(e,r){super(e,r,"resourceUrls","url")}setForeignAttributes(e){const r=e.getDocumentUrl();if(!e.url||r&&this.parent.resourceUrls.includes(r))return;const n=cn([...this.parent.resourceUrls,e.getDocumentUrl()]);this.parent.usingSolidEngine()?this.parent.setOriginalAttribute("resourceUrls",n):this.parent.setAttribute("resourceUrls",n)}async load(){return this.related=this.isEmpty()?[]:await this.relatedClass.from(this.parent.url).all({$in:this.parent.resourceUrls}),this.related}async create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.assertParentExists();const r=this.relatedClass.newInstance(e);return r.url||!r.static("mintsUrls")||Vt()||this.relatedClass.withCollection(this.parent.url,()=>r.mintUrl()),Ve(this.attach(r),n=>this.save(n))}async save(e){return this.assertParentExists(),Ve(e,async()=>{await e.save(this.parent.url),this.setForeignAttributes(e),await this.parent.save()})}assertParentExists(){if(!this.parent.exists())throw new ze("Cannot save a model because the container doesn't exist")}};const Vie={name:{type:xe.String,rdfProperty:"rdfs:label"},description:{type:xe.String,rdfProperty:"rdfs:comment"},resourceUrls:{type:xe.Array,rdfProperty:"ldp:contains",items:xe.Key},createdAt:{type:xe.Date,rdfProperty:"purl:created"},updatedAt:{type:xe.Date,rdfProperty:"purl:modified"}};var Wie=Fr({rdfsClass:"ldp:Container",timestamps:!1,fields:Vie});let En=class extends Wie{static boot(e){super.boot(e),this.slugField=this.slugField??"name"}static async fromTypeIndex(e,r){const n=this.requireFinalEngine(),a=n instanceof bo?n.getFetch():void 0;return(await Xne(e,r.rdfsClasses,a)).map(i=>this.newInstance({url:i},!0))}documentsRelationship(){return new Hie(this)}markAttributeDirty(e,r,n){return(e!=="resourceUrls"||!this.usingSolidEngine())&&super.markAttributeDirty(e,r,n)}async register(e,r){const n=new tu({forClass:Cr(r).map(a=>a.rdfsClasses).flat(),instanceContainer:this.url});if(typeof e=="string")return n.mintUrl(e,!0,dn()),void await n.withEngine(this.requireEngine(),()=>n.save(Wr(e)));await e.withEngine(this.requireEngine(),async()=>{await e.loadRelationIfUnloaded("registrations"),await e.relatedRegistrations.create(n)})}static(e){return super.static(e)}ignoreRdfPropertyHistory(e,r){return r??(r=this.usingSolidEngine()),r&&e===jP}contains(e){return new ru(this,e)}newUrl(){return eu(this.newUrlDocumentUrl())}newUniqueUrl(e){e=e??this.newUrl();const r=VT(e);return eu(Wr(e),`${r}-${UT()}`)}};En.defaultResourceHash=null;var Kie=Fr({rdfContext:"http://www.w3.org/ns/solid/terms#",rdfsClass:"TypeIndex",timestamps:!1,fields:{registrationUrls:{type:xe.Array,items:xe.Key,rdfProperty:"hasTypeRegistration"}}});let Bs=class mg extends Kie{static async createPublic(e){const r=await Yne(e,mg.requireFetch()),n=await this.findOrFail(r);return await n.updatePublicPermissions([Hr.Read]),n}static async createPrivate(e){const r=await Qne(e,mg.requireFetch());return await this.findOrFail(r)}registrationsRelationship(){return Vt()?this.belongsToMany(tu,"registrationUrls"):new xf(this,tu)}async findContainer(e,r){await this.loadRelationIfUnloaded("registrations");const n=this.registrations.filter(a=>a.instanceContainer&&MT(a.forClass,e.rdfsClasses));return Qre(n,async a=>a!=null&&a.instanceContainer?(r??En).find(a.instanceContainer):null)}};function qi(t){return t instanceof En}function no(t){return t.rdfsClasses.includes(Yi)}function Jie(){Yb({...Fie,SolidACLAuthorization:a0,SolidContainer:En,SolidDocument:Ws,SolidTypeIndex:Bs,SolidTypeRegistration:tu})}ru.inverseRelationClasses=[pg],pg.inverseRelationClasses=[ru];const VP=Fr({rdfsClass:"schema:Action",fields:{name:{type:xe.String,required:!0}}}),Yie=Object.freeze(Object.defineProperty({__proto__:null,default:VP},Symbol.toStringTag,{value:"Module"}));class ai extends VP{}const Qie=Object.freeze(Object.defineProperty({__proto__:null,default:ai},Symbol.toStringTag,{value:"Module"})),WP=Fr(ai,{history:!0,tombstone:!1}),Xie=Object.freeze(Object.defineProperty({__proto__:null,default:WP},Symbol.toStringTag,{value:"Module"}));class Nl extends WP{}const Zie=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),KP=CP({fields:{name:{type:xe.String,required:!0}}}),ese=Object.freeze(Object.defineProperty({__proto__:null,default:KP},Symbol.toStringTag,{value:"Module"}));class gg extends KP{}const tse=Object.freeze(Object.defineProperty({__proto__:null,default:gg},Symbol.toStringTag,{value:"Module"})),Ni={name:"Aerogel Playground",environment:"production",version:"?",sourceHash:`7565eaf09eff59deca419f7c11039c611f395e13
`,basePath:"/playground/",sourceUrl:"https://github.com/noeldemartin/aerogel"};/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function i0(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const Et={},ao=[],un=()=>{},rse=()=>!1,rh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),s0=t=>t.startsWith("onUpdate:"),sr=Object.assign,o0=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},nse=Object.prototype.hasOwnProperty,ct=(t,e)=>nse.call(t,e),Ge=Array.isArray,io=t=>nh(t)==="[object Map]",JP=t=>nh(t)==="[object Set]",Ke=t=>typeof t=="function",Lt=t=>typeof t=="string",Bo=t=>typeof t=="symbol",Rt=t=>t!==null&&typeof t=="object",YP=t=>(Rt(t)||Ke(t))&&Ke(t.then)&&Ke(t.catch),QP=Object.prototype.toString,nh=t=>QP.call(t),ase=t=>nh(t).slice(8,-1),XP=t=>nh(t)==="[object Object]",l0=t=>Lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ef=i0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ah=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},ise=/-(\w)/g,ha=ah(t=>t.replace(ise,(e,r)=>r?r.toUpperCase():"")),sse=/\B([A-Z])/g,zo=ah(t=>t.replace(sse,"-$1").toLowerCase()),ih=ah(t=>t.charAt(0).toUpperCase()+t.slice(1)),kv=ah(t=>t?`on${ih(t)}`:""),mi=(t,e)=>!Object.is(t,e),Rv=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},rd=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},ose=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let HS;const u0=()=>HS||(HS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sh(t){if(Ge(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=Lt(n)?fse(n):sh(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(Lt(t)||Rt(t))return t}const lse=/;(?![^(]*\))/g,use=/:([^]+)/,cse=/\/\*[^]*?\*\//g;function fse(t){const e={};return t.replace(cse,"").split(lse).forEach(r=>{if(r){const n=r.split(use);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ht(t){let e="";if(Lt(t))e=t;else if(Ge(t))for(let r=0;r<t.length;r++){const n=Ht(t[r]);n&&(e+=n+" ")}else if(Rt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function dse(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Lt(e)&&(t.class=Ht(e)),r&&(t.style=sh(r)),t}const hse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pse=i0(hse);function ZP(t){return!!t||t===""}const we=t=>Lt(t)?t:t==null?"":Ge(t)||Rt(t)&&(t.toString===QP||!Ke(t.toString))?JSON.stringify(t,eC,2):String(t),eC=(t,e)=>e&&e.__v_isRef?eC(t,e.value):io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[Tv(n,i)+" =>"]=a,r),{})}:JP(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Tv(r))}:Bo(e)?Tv(e):Rt(e)&&!Ge(e)&&!XP(e)?String(e):e,Tv=(t,e="")=>{var r;return Bo(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rn;class tC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rn,!e&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=rn;try{return rn=this,e()}finally{rn=r}}}on(){rn=this}off(){rn=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function c0(t){return new tC(t)}function vse(t,e=rn){e&&e.active&&e.effects.push(t)}function rC(){return rn}function mse(t){rn&&rn.cleanups.push(t)}let Qi;class f0{constructor(e,r,n,a){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vse(this,a)}get dirty(){if(this._dirtyLevel===1){ws();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(gse(r.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),_s()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ci,r=Qi;try{return ci=!0,Qi=this,this._runnings++,VS(this),this.fn()}finally{WS(this),this._runnings--,Qi=r,ci=e}}stop(){var e;this.active&&(VS(this),WS(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function gse(t){return t.value}function VS(t){t._trackId++,t._depsLength=0}function WS(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)nC(t.deps[e],t);t.deps.length=t._depsLength}}function nC(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let ci=!0,yg=0;const aC=[];function ws(){aC.push(ci),ci=!1}function _s(){const t=aC.pop();ci=t===void 0?!0:t}function d0(){yg++}function h0(){for(yg--;!yg&&bg.length;)bg.shift()()}function iC(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&nC(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const bg=[];function sC(t,e,r){d0();for(const n of t.keys())if(n._dirtyLevel<e&&t.get(n)===n._trackId){const a=n._dirtyLevel;n._dirtyLevel=e,a===0&&(n._shouldSchedule=!0,n.trigger())}oC(t),h0()}function oC(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,bg.push(e.scheduler))}const lC=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},nd=new WeakMap,Xi=Symbol(""),wg=Symbol("");function Kr(t,e,r){if(ci&&Qi){let n=nd.get(t);n||nd.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=lC(()=>n.delete(r))),iC(Qi,a)}}function Aa(t,e,r,n,a,i){const s=nd.get(t);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(r==="length"&&Ge(t)){const l=Number(n);s.forEach((u,c)=>{(c==="length"||!Bo(c)&&c>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(s.get(r)),e){case"add":Ge(t)?l0(r)&&o.push(s.get("length")):(o.push(s.get(Xi)),io(t)&&o.push(s.get(wg)));break;case"delete":Ge(t)||(o.push(s.get(Xi)),io(t)&&o.push(s.get(wg)));break;case"set":io(t)&&o.push(s.get(Xi));break}d0();for(const l of o)l&&sC(l,2);h0()}function yse(t,e){var r;return(r=nd.get(t))==null?void 0:r.get(e)}const bse=i0("__proto__,__v_isRef,__isVue"),uC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bo)),KS=wse();function wse(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=He(this);for(let i=0,s=this.length;i<s;i++)Kr(n,"get",i+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(He)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){ws(),d0();const n=He(this)[e].apply(this,r);return h0(),_s(),n}}),t}function _se(t){const e=He(this);return Kr(e,"has",t),e.hasOwnProperty(t)}class cC{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,n){const a=this._isReadonly,i=this._shallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?Dse:pC:i?hC:dC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=Ge(e);if(!a){if(s&&ct(KS,r))return Reflect.get(KS,r,n);if(r==="hasOwnProperty")return _se}const o=Reflect.get(e,r,n);return(Bo(r)?uC.has(r):bse(r))||(a||Kr(e,"get",r),i)?o:Ft(o)?s&&l0(r)?o:o.value:Rt(o)?a?lh(o):Ta(o):o}}class fC extends cC{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._shallow){const l=_o(i);if(!ad(n)&&!_o(n)&&(i=He(i),n=He(n)),!Ge(e)&&Ft(i)&&!Ft(n))return l?!1:(i.value=n,!0)}const s=Ge(e)&&l0(r)?Number(r)<e.length:ct(e,r),o=Reflect.set(e,r,n,a);return e===He(a)&&(s?mi(n,i)&&Aa(e,"set",r,n):Aa(e,"add",r,n)),o}deleteProperty(e,r){const n=ct(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&Aa(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!Bo(r)||!uC.has(r))&&Kr(e,"has",r),n}ownKeys(e){return Kr(e,"iterate",Ge(e)?"length":Xi),Reflect.ownKeys(e)}}class $se extends cC{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const xse=new fC,Sse=new $se,Ise=new fC(!0),p0=t=>t,oh=t=>Reflect.getPrototypeOf(t);function qc(t,e,r=!1,n=!1){t=t.__v_raw;const a=He(t),i=He(e);r||(mi(e,i)&&Kr(a,"get",e),Kr(a,"get",i));const{has:s}=oh(a),o=n?p0:r?g0:nu;if(s.call(a,e))return o(t.get(e));if(s.call(a,i))return o(t.get(i));t!==a&&t.get(e)}function Hc(t,e=!1){const r=this.__v_raw,n=He(r),a=He(t);return e||(mi(t,a)&&Kr(n,"has",t),Kr(n,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function Vc(t,e=!1){return t=t.__v_raw,!e&&Kr(He(t),"iterate",Xi),Reflect.get(t,"size",t)}function JS(t){t=He(t);const e=He(this);return oh(e).has.call(e,t)||(e.add(t),Aa(e,"add",t,t)),this}function YS(t,e){e=He(e);const r=He(this),{has:n,get:a}=oh(r);let i=n.call(r,t);i||(t=He(t),i=n.call(r,t));const s=a.call(r,t);return r.set(t,e),i?mi(e,s)&&Aa(r,"set",t,e):Aa(r,"add",t,e),this}function QS(t){const e=He(this),{has:r,get:n}=oh(e);let a=r.call(e,t);a||(t=He(t),a=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return a&&Aa(e,"delete",t,void 0),i}function XS(){const t=He(this),e=t.size!==0,r=t.clear();return e&&Aa(t,"clear",void 0,void 0),r}function Wc(t,e){return function(n,a){const i=this,s=i.__v_raw,o=He(s),l=e?p0:t?g0:nu;return!t&&Kr(o,"iterate",Xi),s.forEach((u,c)=>n.call(a,l(u),l(c),i))}}function Kc(t,e,r){return function(...n){const a=this.__v_raw,i=He(a),s=io(i),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=a[t](...n),c=r?p0:e?g0:nu;return!e&&Kr(i,"iterate",l?wg:Xi),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function qa(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ese(){const t={get(i){return qc(this,i)},get size(){return Vc(this)},has:Hc,add:JS,set:YS,delete:QS,clear:XS,forEach:Wc(!1,!1)},e={get(i){return qc(this,i,!1,!0)},get size(){return Vc(this)},has:Hc,add:JS,set:YS,delete:QS,clear:XS,forEach:Wc(!1,!0)},r={get(i){return qc(this,i,!0)},get size(){return Vc(this,!0)},has(i){return Hc.call(this,i,!0)},add:qa("add"),set:qa("set"),delete:qa("delete"),clear:qa("clear"),forEach:Wc(!0,!1)},n={get(i){return qc(this,i,!0,!0)},get size(){return Vc(this,!0)},has(i){return Hc.call(this,i,!0)},add:qa("add"),set:qa("set"),delete:qa("delete"),clear:qa("clear"),forEach:Wc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Kc(i,!1,!1),r[i]=Kc(i,!0,!1),e[i]=Kc(i,!1,!0),n[i]=Kc(i,!0,!0)}),[t,r,e,n]}const[Ase,Ose,kse,Rse]=Ese();function v0(t,e){const r=e?t?Rse:kse:t?Ose:Ase;return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(ct(r,a)&&a in n?r:n,a,i)}const Tse={get:v0(!1,!1)},Pse={get:v0(!1,!0)},Cse={get:v0(!0,!1)},dC=new WeakMap,hC=new WeakMap,pC=new WeakMap,Dse=new WeakMap;function jse(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lse(t){return t.__v_skip||!Object.isExtensible(t)?0:jse(ase(t))}function Ta(t){return _o(t)?t:m0(t,!1,xse,Tse,dC)}function vC(t){return m0(t,!1,Ise,Pse,hC)}function lh(t){return m0(t,!0,Sse,Cse,pC)}function m0(t,e,r,n,a){if(!Rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=a.get(t);if(i)return i;const s=Lse(t);if(s===0)return t;const o=new Proxy(t,s===2?n:r);return a.set(t,o),o}function fi(t){return _o(t)?fi(t.__v_raw):!!(t&&t.__v_isReactive)}function _o(t){return!!(t&&t.__v_isReadonly)}function ad(t){return!!(t&&t.__v_isShallow)}function mC(t){return fi(t)||_o(t)}function He(t){const e=t&&t.__v_raw;return e?He(e):t}function $o(t){return rd(t,"__v_skip",!0),t}const nu=t=>Rt(t)?Ta(t):t,g0=t=>Rt(t)?lh(t):t;class gC{constructor(e,r,n,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new f0(()=>e(this._value),()=>so(this,1),()=>this.dep&&oC(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=He(this);return(!e._cacheable||e.effect.dirty)&&mi(e._value,e._value=e.effect.run())&&so(e,2),y0(e),e.effect._dirtyLevel>=1&&so(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Mse(t,e,r=!1){let n,a;const i=Ke(t);return i?(n=t,a=un):(n=t.get,a=t.set),new gC(n,a,i||!a,r)}function y0(t){ci&&Qi&&(t=He(t),iC(Qi,t.dep||(t.dep=lC(()=>t.dep=void 0,t instanceof gC?t:void 0))))}function so(t,e=2,r){t=He(t);const n=t.dep;n&&sC(n,e)}function Ft(t){return!!(t&&t.__v_isRef===!0)}function Pe(t){return yC(t,!1)}function au(t){return yC(t,!0)}function yC(t,e){return Ft(t)?t:new Nse(t,e)}class Nse{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:He(e),this._value=r?e:nu(e)}get value(){return y0(this),this._value}set value(e){const r=this.__v_isShallow||ad(e)||_o(e);e=r?e:He(e),mi(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:nu(e),so(this,2))}}function Pv(t){so(t,2)}function oe(t){return Ft(t)?t.value:t}const Fse={get:(t,e,r)=>oe(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return Ft(a)&&!Ft(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function bC(t){return fi(t)?t:new Proxy(t,Fse)}class Use{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>y0(this),()=>so(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Bse(t){return new Use(t)}function zse(t){const e=Ge(t)?new Array(t.length):{};for(const r in t)e[r]=wC(t,r);return e}class Gse{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yse(He(this._object),this._key)}}class qse{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _g(t,e,r){return Ft(t)?t:Ke(t)?new qse(t):Rt(t)&&arguments.length>1?wC(t,e,r):Pe(t)}function wC(t,e,r){const n=t[e];return Ft(n)?n:new Gse(t,e,r)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function di(t,e,r,n){let a;try{a=n?t(...n):t()}catch(i){uh(i,e,r)}return a}function Gn(t,e,r,n){if(Ke(t)){const i=di(t,e,r,n);return i&&YP(i)&&i.catch(s=>{uh(s,e,r)}),i}const a=[];for(let i=0;i<t.length;i++)a.push(Gn(t[i],e,r,n));return a}function uh(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,o)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){di(l,null,10,[t,s,o]);return}}Hse(t,r,a,n)}function Hse(t,e,r,n=!0){console.error(t)}let iu=!1,$g=!1;const vr=[];let aa=0;const oo=[];let Ka=null,Fi=0;const _C=Promise.resolve();let b0=null;function fn(t){const e=b0||_C;return t?e.then(this?t.bind(this):t):e}function Vse(t){let e=aa+1,r=vr.length;for(;e<r;){const n=e+r>>>1,a=vr[n],i=su(a);i<t||i===t&&a.pre?e=n+1:r=n}return e}function w0(t){(!vr.length||!vr.includes(t,iu&&t.allowRecurse?aa+1:aa))&&(t.id==null?vr.push(t):vr.splice(Vse(t.id),0,t),$C())}function $C(){!iu&&!$g&&($g=!0,b0=_C.then(SC))}function Wse(t){const e=vr.indexOf(t);e>aa&&vr.splice(e,1)}function Kse(t){Ge(t)?oo.push(...t):(!Ka||!Ka.includes(t,t.allowRecurse?Fi+1:Fi))&&oo.push(t),$C()}function ZS(t,e,r=iu?aa+1:0){for(;r<vr.length;r++){const n=vr[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;vr.splice(r,1),r--,n()}}}function xC(t){if(oo.length){const e=[...new Set(oo)].sort((r,n)=>su(r)-su(n));if(oo.length=0,Ka){Ka.push(...e);return}for(Ka=e,Fi=0;Fi<Ka.length;Fi++)Ka[Fi]();Ka=null,Fi=0}}const su=t=>t.id==null?1/0:t.id,Jse=(t,e)=>{const r=su(t)-su(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function SC(t){$g=!1,iu=!0,vr.sort(Jse);const e=un;try{for(aa=0;aa<vr.length;aa++){const r=vr[aa];r&&r.active!==!1&&di(r,null,14)}}finally{aa=0,vr.length=0,xC(),iu=!1,b0=null,(vr.length||oo.length)&&SC()}}function Yse(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Et;let a=r;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=n[c]||Et;d&&(a=r.map(h=>Lt(h)?h.trim():h)),f&&(a=r.map(ose))}let o,l=n[o=kv(e)]||n[o=kv(ha(e))];!l&&i&&(l=n[o=kv(zo(e))]),l&&Gn(l,t,6,a);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Gn(u,t,6,a)}}function IC(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let s={},o=!1;if(!Ke(t)){const l=u=>{const c=IC(u,e,!0);c&&(o=!0,sr(s,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(Rt(t)&&n.set(t,null),null):(Ge(i)?i.forEach(l=>s[l]=null):sr(s,i),Rt(t)&&n.set(t,s),s)}function ch(t,e){return!t||!rh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(t,e[0].toLowerCase()+e.slice(1))||ct(t,zo(e))||ct(t,e))}let qt=null,EC=null;function id(t){const e=qt;return qt=t,EC=t&&t.type.__scopeId||null,e}function le(t,e=qt,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&dI(-1);const i=id(e);let s;try{s=t(...a)}finally{id(i),n._d&&dI(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Cv(t){const{type:e,vnode:r,proxy:n,withProxy:a,props:i,propsOptions:[s],slots:o,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:p,inheritAttrs:y}=t;let k,$;const b=id(t);try{if(r.shapeFlag&4){const O=a||n,R=O;k=ra(c.call(R,O,f,i,h,d,p)),$=l}else{const O=e;k=ra(O.length>1?O(i,{attrs:l,slots:o,emit:u}):O(i,null)),$=e.props?l:Qse(l)}}catch(O){zl.length=0,uh(O,t,1),k=te(gi)}let _=k;if($&&y!==!1){const O=Object.keys($),{shapeFlag:R}=_;O.length&&R&7&&(s&&O.some(s0)&&($=Xse($,s)),_=as(_,$))}return r.dirs&&(_=as(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),k=_,id(b),k}const Qse=t=>{let e;for(const r in t)(r==="class"||r==="style"||rh(r))&&((e||(e={}))[r]=t[r]);return e},Xse=(t,e)=>{const r={};for(const n in t)(!s0(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Zse(t,e,r){const{props:n,children:a,component:i}=t,{props:s,children:o,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?eI(n,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==n[d]&&!ch(u,d))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?eI(n,s,u):!0:!!s;return!1}function eI(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!ch(r,i))return!0}return!1}function eoe({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const _0="components",toe="directives";function $0(t,e){return S0(_0,t,!0,e)||t}const AC=Symbol.for("v-ndc");function $i(t){return Lt(t)?S0(_0,t,!1)||t:t||AC}function x0(t){return S0(toe,t)}function S0(t,e,r=!0,n=!1){const a=qt||Zt;if(a){const i=a.type;if(t===_0){const o=Joe(i,!1);if(o&&(o===e||o===ha(e)||o===ih(ha(e))))return i}const s=tI(a[t]||i[t],e)||tI(a.appContext[t],e);return!s&&n?i:s}}function tI(t,e){return t&&(t[e]||t[ha(e)]||t[ih(ha(e))])}const roe=t=>t.__isSuspense;function noe(t,e){e&&e.pendingBranch?Ge(t)?e.effects.push(...t):e.effects.push(t):Kse(t)}const aoe=Symbol.for("v-scx"),ioe=()=>kt(aoe);function _r(t,e){return I0(t,null,e)}const Jc={};function jr(t,e,r){return I0(t,e,r)}function I0(t,e,{immediate:r,deep:n,flush:a,once:i,onTrack:s,onTrigger:o}=Et){if(e&&i){const P=e;e=(...T)=>{P(...T),R()}}const l=Zt,u=P=>n===!0?P:Hi(P,n===!1?1:void 0);let c,f=!1,d=!1;if(Ft(t)?(c=()=>t.value,f=ad(t)):fi(t)?(c=()=>u(t),f=!0):Ge(t)?(d=!0,f=t.some(P=>fi(P)||ad(P)),c=()=>t.map(P=>{if(Ft(P))return P.value;if(fi(P))return u(P);if(Ke(P))return di(P,l,2)})):Ke(t)?e?c=()=>di(t,l,2):c=()=>(h&&h(),Gn(t,l,3,[p])):c=un,e&&n){const P=c;c=()=>Hi(P())}let h,p=P=>{h=_.onStop=()=>{di(P,l,4),h=_.onStop=void 0}},y;if(ph)if(p=un,e?r&&Gn(e,l,3,[c(),d?[]:void 0,p]):c(),a==="sync"){const P=ioe();y=P.__watcherHandles||(P.__watcherHandles=[])}else return un;let k=d?new Array(t.length).fill(Jc):Jc;const $=()=>{if(!(!_.active||!_.dirty))if(e){const P=_.run();(n||f||(d?P.some((T,G)=>mi(T,k[G])):mi(P,k)))&&(h&&h(),Gn(e,l,3,[P,k===Jc?void 0:d&&k[0]===Jc?[]:k,p]),k=P)}else _.run()};$.allowRecurse=!!e;let b;a==="sync"?b=$:a==="post"?b=()=>Gr($,l&&l.suspense):($.pre=!0,l&&($.id=l.uid),b=()=>w0($));const _=new f0(c,un,b),O=rC(),R=()=>{_.stop(),O&&o0(O.effects,_)};return e?r?$():k=_.run():a==="post"?Gr(_.run.bind(_),l&&l.suspense):_.run(),y&&y.push(R),R}function soe(t,e,r){const n=this.proxy,a=Lt(t)?t.includes(".")?OC(n,t):()=>n[t]:t.bind(n,n);let i;Ke(e)?i=e:(i=e.handler,r=e);const s=qu(this),o=I0(a,i.bind(n),r);return s(),o}function OC(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Hi(t,e,r=0,n){if(!Rt(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(n=n||new Set,n.has(t))return t;if(n.add(t),Ft(t))Hi(t.value,e,r,n);else if(Ge(t))for(let a=0;a<t.length;a++)Hi(t[a],e,r,n);else if(JP(t)||io(t))t.forEach(a=>{Hi(a,e,r,n)});else if(XP(t))for(const a in t)Hi(t[a],e,r,n);return t}function E0(t,e){if(qt===null)return t;const r=vh(qt)||qt.proxy,n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,s,o,l=Et]=e[a];i&&(Ke(i)&&(i={mounted:i,updated:i}),i.deep&&Hi(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ci(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let s=0;s<a.length;s++){const o=a[s];i&&(o.oldValue=i[s].value);let l=o.dir[n];l&&(ws(),Gn(l,r,8,[t.el,o,t,e]),_s())}}/*! #__NO_SIDE_EFFECTS__ */function $e(t,e){return Ke(t)?(()=>sr({name:t.name},e,{setup:t}))():t}const Fl=t=>!!t.type.__asyncLoader,kC=t=>t.type.__isKeepAlive;function ooe(t,e){RC(t,"a",e)}function loe(t,e){RC(t,"da",e)}function RC(t,e,r=Zt){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(fh(e,n,r),r){let a=r.parent;for(;a&&a.parent;)kC(a.parent.vnode)&&uoe(n,e,r,a),a=a.parent}}function uoe(t,e,r,n){const a=fh(e,t,n,!0);Mr(()=>{o0(n[e],a)},r)}function fh(t,e,r=Zt,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;ws();const o=qu(r),l=Gn(e,r,t,s);return o(),_s(),l});return n?a.unshift(i):a.push(i),i}}const Na=t=>(e,r=Zt)=>(!ph||t==="sp")&&fh(t,(...n)=>e(...n),r),coe=Na("bm"),$r=Na("m"),foe=Na("bu"),doe=Na("u"),hoe=Na("bum"),Mr=Na("um"),poe=Na("sp"),voe=Na("rtg"),moe=Na("rtc");function goe(t,e=Zt){fh("ec",t,e)}function Fa(t,e,r,n){let a;const i=r&&r[n];if(Ge(t)||Lt(t)){a=new Array(t.length);for(let s=0,o=t.length;s<o;s++)a[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){a=new Array(t);for(let s=0;s<t;s++)a[s]=e(s+1,s,void 0,i&&i[s])}else if(Rt(t))if(t[Symbol.iterator])a=Array.from(t,(s,o)=>e(s,o,void 0,i&&i[o]));else{const s=Object.keys(t);a=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const u=s[o];a[o]=e(t[u],u,o,i&&i[o])}}else a=[];return r&&(r[n]=a),a}function ft(t,e,r={},n,a){if(qt.isCE||qt.parent&&Fl(qt.parent)&&qt.parent.isCE)return e!=="default"&&(r.name=e),te("slot",r,n&&n());let i=t[e];i&&i._c&&(i._d=!1),se();const s=i&&TC(i(r)),o=Re(Xe,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&t._===1?64:-2);return!a&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),i&&i._c&&(i._d=!0),o}function TC(t){return t.some(e=>od(e)?!(e.type===gi||e.type===Xe&&!TC(e.children)):!0)?t:null}const xg=t=>t?KC(t)?vh(t)||t.proxy:xg(t.parent):null,Ul=sr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xg(t.parent),$root:t=>xg(t.root),$emit:t=>t.emit,$options:t=>A0(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w0(t.update)}),$nextTick:t=>t.n||(t.n=fn.bind(t.proxy)),$watch:t=>soe.bind(t)}),Dv=(t,e)=>t!==Et&&!t.__isScriptSetup&&ct(t,e),yoe={get({_:t},e){const{ctx:r,setupState:n,data:a,props:i,accessCache:s,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(Dv(n,e))return s[e]=1,n[e];if(a!==Et&&ct(a,e))return s[e]=2,a[e];if((u=t.propsOptions[0])&&ct(u,e))return s[e]=3,i[e];if(r!==Et&&ct(r,e))return s[e]=4,r[e];Sg&&(s[e]=0)}}const c=Ul[e];let f,d;if(c)return e==="$attrs"&&Kr(t,"get",e),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==Et&&ct(r,e))return s[e]=4,r[e];if(d=l.config.globalProperties,ct(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return Dv(a,e)?(a[e]=r,!0):n!==Et&&ct(n,e)?(n[e]=r,!0):ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},s){let o;return!!r[s]||t!==Et&&ct(t,s)||Dv(e,s)||(o=i[0])&&ct(o,s)||ct(n,s)||ct(Ul,s)||ct(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ct(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function PC(){return DC().slots}function CC(){return DC().attrs}function DC(){const t=hh();return t.setupContext||(t.setupContext=YC(t))}function rI(t){return Ge(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Sg=!0;function boe(t){const e=A0(t),r=t.proxy,n=t.ctx;Sg=!1,e.beforeCreate&&nI(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:y,deactivated:k,beforeDestroy:$,beforeUnmount:b,destroyed:_,unmounted:O,render:R,renderTracked:P,renderTriggered:T,errorCaptured:G,serverPrefetch:v,expose:w,inheritAttrs:x,components:j,directives:C,filters:B}=e;if(u&&woe(u,n,null),s)for(const F in s){const U=s[F];Ke(U)&&(n[F]=U.bind(r))}if(a){const F=a.call(r,r);Rt(F)&&(t.data=Ta(F))}if(Sg=!0,i)for(const F in i){const U=i[F],z=Ke(U)?U.bind(r,r):Ke(U.get)?U.get.bind(r,r):un,H=!Ke(U)&&Ke(U.set)?U.set.bind(r):un,q=de({get:z,set:H});Object.defineProperty(n,F,{enumerable:!0,configurable:!0,get:()=>q.value,set:g=>q.value=g})}if(o)for(const F in o)jC(o[F],n,r,F);if(l){const F=Ke(l)?l.call(r):l;Reflect.ownKeys(F).forEach(U=>{br(U,F[U])})}c&&nI(c,t,"c");function K(F,U){Ge(U)?U.forEach(z=>F(z.bind(r))):U&&F(U.bind(r))}if(K(coe,f),K($r,d),K(foe,h),K(doe,p),K(ooe,y),K(loe,k),K(goe,G),K(moe,P),K(voe,T),K(hoe,b),K(Mr,O),K(poe,v),Ge(w))if(w.length){const F=t.exposed||(t.exposed={});w.forEach(U=>{Object.defineProperty(F,U,{get:()=>r[U],set:z=>r[U]=z})})}else t.exposed||(t.exposed={});R&&t.render===un&&(t.render=R),x!=null&&(t.inheritAttrs=x),j&&(t.components=j),C&&(t.directives=C)}function woe(t,e,r=un){Ge(t)&&(t=Ig(t));for(const n in t){const a=t[n];let i;Rt(a)?"default"in a?i=kt(a.from||n,a.default,!0):i=kt(a.from||n):i=kt(a),Ft(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[n]=i}}function nI(t,e,r){Gn(Ge(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function jC(t,e,r,n){const a=n.includes(".")?OC(r,n):()=>r[n];if(Lt(t)){const i=e[t];Ke(i)&&jr(a,i)}else if(Ke(t))jr(a,t.bind(r));else if(Rt(t))if(Ge(t))t.forEach(i=>jC(i,e,r,n));else{const i=Ke(t.handler)?t.handler.bind(r):e[t.handler];Ke(i)&&jr(a,i,t)}}function A0(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,o=i.get(e);let l;return o?l=o:!a.length&&!r&&!n?l=e:(l={},a.length&&a.forEach(u=>sd(l,u,s,!0)),sd(l,e,s)),Rt(e)&&i.set(e,l),l}function sd(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&sd(t,i,r,!0),a&&a.forEach(s=>sd(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=_oe[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const _oe={data:aI,props:iI,emits:iI,methods:Sl,computed:Sl,beforeCreate:Or,created:Or,beforeMount:Or,mounted:Or,beforeUpdate:Or,updated:Or,beforeDestroy:Or,beforeUnmount:Or,destroyed:Or,unmounted:Or,activated:Or,deactivated:Or,errorCaptured:Or,serverPrefetch:Or,components:Sl,directives:Sl,watch:xoe,provide:aI,inject:$oe};function aI(t,e){return e?t?function(){return sr(Ke(t)?t.call(this,this):t,Ke(e)?e.call(this,this):e)}:e:t}function $oe(t,e){return Sl(Ig(t),Ig(e))}function Ig(t){if(Ge(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Or(t,e){return t?[...new Set([].concat(t,e))]:e}function Sl(t,e){return t?sr(Object.create(null),t,e):e}function iI(t,e){return t?Ge(t)&&Ge(e)?[...new Set([...t,...e])]:sr(Object.create(null),rI(t),rI(e??{})):e}function xoe(t,e){if(!t)return e;if(!e)return t;const r=sr(Object.create(null),t);for(const n in e)r[n]=Or(t[n],e[n]);return r}function LC(){return{app:null,config:{isNativeTag:rse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Soe=0;function Ioe(t,e){return function(n,a=null){Ke(n)||(n=sr({},n)),a!=null&&!Rt(a)&&(a=null);const i=LC(),s=new WeakSet;let o=!1;const l=i.app={_uid:Soe++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:Qoe,get config(){return i.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ke(u.install)?(s.add(u),u.install(l,...c)):Ke(u)&&(s.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!o){const d=te(n,a);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,u):t(d,u,f),o=!0,l._container=u,u.__vue_app__=l,vh(d.component)||d.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){ou=l;try{return u()}finally{ou=null}}};return l}}let ou=null;function br(t,e){if(Zt){let r=Zt.provides;const n=Zt.parent&&Zt.parent.provides;n===r&&(r=Zt.provides=Object.create(n)),r[t]=e}}function kt(t,e,r=!1){const n=Zt||qt;if(n||ou){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:ou._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Ke(e)?e.call(n&&n.proxy):e}}function Eoe(){return!!(Zt||qt||ou)}function Aoe(t,e,r,n=!1){const a={},i={};rd(i,dh,1),t.propsDefaults=Object.create(null),MC(t,e,a,i);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=n?a:vC(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function Ooe(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:s}}=t,o=He(a),[l]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(ch(t.emitsOptions,d))continue;const h=e[d];if(l)if(ct(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const p=ha(d);a[p]=Eg(l,o,p,h,t,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{MC(t,e,a,i)&&(u=!0);let c;for(const f in o)(!e||!ct(e,f)&&((c=zo(f))===f||!ct(e,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=Eg(l,o,f,void 0,t,!0)):delete a[f]);if(i!==o)for(const f in i)(!e||!ct(e,f))&&(delete i[f],u=!0)}u&&Aa(t,"set","$attrs")}function MC(t,e,r,n){const[a,i]=t.propsOptions;let s=!1,o;if(e)for(let l in e){if(Ef(l))continue;const u=e[l];let c;a&&ct(a,c=ha(l))?!i||!i.includes(c)?r[c]=u:(o||(o={}))[c]=u:ch(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(i){const l=He(r),u=o||Et;for(let c=0;c<i.length;c++){const f=i[c];r[f]=Eg(a,l,f,u[f],t,!ct(u,f))}}return s}function Eg(t,e,r,n,a,i){const s=t[r];if(s!=null){const o=ct(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ke(l)){const{propsDefaults:u}=a;if(r in u)n=u[r];else{const c=qu(a);n=u[r]=l.call(null,e),c()}}else n=l}s[0]&&(i&&!o?n=!1:s[1]&&(n===""||n===zo(r))&&(n=!0))}return n}function NC(t,e,r=!1){const n=e.propsCache,a=n.get(t);if(a)return a;const i=t.props,s={},o=[];let l=!1;if(!Ke(t)){const c=f=>{l=!0;const[d,h]=NC(f,e,!0);sr(s,d),h&&o.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Rt(t)&&n.set(t,ao),ao;if(Ge(i))for(let c=0;c<i.length;c++){const f=ha(i[c]);sI(f)&&(s[f]=Et)}else if(i)for(const c in i){const f=ha(c);if(sI(f)){const d=i[c],h=s[f]=Ge(d)||Ke(d)?{type:d}:sr({},d);if(h){const p=uI(Boolean,h.type),y=uI(String,h.type);h[0]=p>-1,h[1]=y<0||p<y,(p>-1||ct(h,"default"))&&o.push(f)}}}const u=[s,o];return Rt(t)&&n.set(t,u),u}function sI(t){return t[0]!=="$"}function oI(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function lI(t,e){return oI(t)===oI(e)}function uI(t,e){return Ge(e)?e.findIndex(r=>lI(r,t)):Ke(e)&&lI(e,t)?0:-1}const FC=t=>t[0]==="_"||t==="$stable",O0=t=>Ge(t)?t.map(ra):[ra(t)],koe=(t,e,r)=>{if(e._n)return e;const n=le((...a)=>O0(e(...a)),r);return n._c=!1,n},UC=(t,e,r)=>{const n=t._ctx;for(const a in t){if(FC(a))continue;const i=t[a];if(Ke(i))e[a]=koe(a,i,n);else if(i!=null){const s=O0(i);e[a]=()=>s}}},BC=(t,e)=>{const r=O0(e);t.slots.default=()=>r},Roe=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=He(e),rd(e,"_",r)):UC(e,t.slots={})}else t.slots={},e&&BC(t,e);rd(t.slots,dh,1)},Toe=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,s=Et;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:(sr(a,e),!r&&o===1&&delete a._):(i=!e.$stable,UC(e,a)),s=e}else e&&(BC(t,e),s={default:1});if(i)for(const o in a)!FC(o)&&s[o]==null&&delete a[o]};function Ag(t,e,r,n,a=!1){if(Ge(t)){t.forEach((d,h)=>Ag(d,e&&(Ge(e)?e[h]:e),r,n,a));return}if(Fl(n)&&!a)return;const i=n.shapeFlag&4?vh(n.component)||n.component.proxy:n.el,s=a?null:i,{i:o,r:l}=t,u=e&&e.r,c=o.refs===Et?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==l&&(Lt(u)?(c[u]=null,ct(f,u)&&(f[u]=null)):Ft(u)&&(u.value=null)),Ke(l))di(l,o,12,[s,c]);else{const d=Lt(l),h=Ft(l),p=t.f;if(d||h){const y=()=>{if(p){const k=d?ct(f,l)?f[l]:c[l]:l.value;a?Ge(k)&&o0(k,i):Ge(k)?k.includes(i)||k.push(i):d?(c[l]=[i],ct(f,l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else d?(c[l]=s,ct(f,l)&&(f[l]=s)):h&&(l.value=s,t.k&&(c[t.k]=s))};a||p?y():(y.id=-1,Gr(y,r))}}}function Poe(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(u0().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Gr=noe;function Coe(t){return Doe(t)}function Doe(t,e){Poe();const r=u0();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=un,insertStaticContent:p}=t,y=(S,I,L,Q=null,re=null,ue=null,he=void 0,ce=null,pe=!!I.dynamicChildren)=>{if(S===I)return;S&&!ll(S,I)&&(Q=N(S),g(S,re,ue,!0),S=null),I.patchFlag===-2&&(pe=!1,I.dynamicChildren=null);const{type:Y,ref:ie,shapeFlag:be}=I;switch(Y){case Gu:k(S,I,L,Q);break;case gi:$(S,I,L,Q);break;case Af:S==null&&b(I,L,Q,he);break;case Xe:j(S,I,L,Q,re,ue,he,ce,pe);break;default:be&1?R(S,I,L,Q,re,ue,he,ce,pe):be&6?C(S,I,L,Q,re,ue,he,ce,pe):(be&64||be&128)&&Y.process(S,I,L,Q,re,ue,he,ce,pe,m)}ie!=null&&re&&Ag(ie,S&&S.ref,ue,I||S,!I)},k=(S,I,L,Q)=>{if(S==null)n(I.el=o(I.children),L,Q);else{const re=I.el=S.el;I.children!==S.children&&u(re,I.children)}},$=(S,I,L,Q)=>{S==null?n(I.el=l(I.children||""),L,Q):I.el=S.el},b=(S,I,L,Q)=>{[S.el,S.anchor]=p(S.children,I,L,Q,S.el,S.anchor)},_=({el:S,anchor:I},L,Q)=>{let re;for(;S&&S!==I;)re=d(S),n(S,L,Q),S=re;n(I,L,Q)},O=({el:S,anchor:I})=>{let L;for(;S&&S!==I;)L=d(S),a(S),S=L;a(I)},R=(S,I,L,Q,re,ue,he,ce,pe)=>{I.type==="svg"?he="svg":I.type==="math"&&(he="mathml"),S==null?P(I,L,Q,re,ue,he,ce,pe):v(S,I,re,ue,he,ce,pe)},P=(S,I,L,Q,re,ue,he,ce)=>{let pe,Y;const{props:ie,shapeFlag:be,transition:ye,dirs:ve}=S;if(pe=S.el=s(S.type,ue,ie&&ie.is,ie),be&8?c(pe,S.children):be&16&&G(S.children,pe,null,Q,re,jv(S,ue),he,ce),ve&&Ci(S,null,Q,"created"),T(pe,S,S.scopeId,he,Q),ie){for(const Le in ie)Le!=="value"&&!Ef(Le)&&i(pe,Le,null,ie[Le],ue,S.children,Q,re,Z);"value"in ie&&i(pe,"value",null,ie.value,ue),(Y=ie.onVnodeBeforeMount)&&ea(Y,Q,S)}ve&&Ci(S,null,Q,"beforeMount");const Ie=joe(re,ye);Ie&&ye.beforeEnter(pe),n(pe,I,L),((Y=ie&&ie.onVnodeMounted)||Ie||ve)&&Gr(()=>{Y&&ea(Y,Q,S),Ie&&ye.enter(pe),ve&&Ci(S,null,Q,"mounted")},re)},T=(S,I,L,Q,re)=>{if(L&&h(S,L),Q)for(let ue=0;ue<Q.length;ue++)h(S,Q[ue]);if(re){let ue=re.subTree;if(I===ue){const he=re.vnode;T(S,he,he.scopeId,he.slotScopeIds,re.parent)}}},G=(S,I,L,Q,re,ue,he,ce,pe=0)=>{for(let Y=pe;Y<S.length;Y++){const ie=S[Y]=ce?Ja(S[Y]):ra(S[Y]);y(null,ie,I,L,Q,re,ue,he,ce)}},v=(S,I,L,Q,re,ue,he)=>{const ce=I.el=S.el;let{patchFlag:pe,dynamicChildren:Y,dirs:ie}=I;pe|=S.patchFlag&16;const be=S.props||Et,ye=I.props||Et;let ve;if(L&&Di(L,!1),(ve=ye.onVnodeBeforeUpdate)&&ea(ve,L,I,S),ie&&Ci(I,S,L,"beforeUpdate"),L&&Di(L,!0),Y?w(S.dynamicChildren,Y,ce,L,Q,jv(I,re),ue):he||U(S,I,ce,null,L,Q,jv(I,re),ue,!1),pe>0){if(pe&16)x(ce,I,be,ye,L,Q,re);else if(pe&2&&be.class!==ye.class&&i(ce,"class",null,ye.class,re),pe&4&&i(ce,"style",be.style,ye.style,re),pe&8){const Ie=I.dynamicProps;for(let Le=0;Le<Ie.length;Le++){const lt=Ie[Le],ut=be[lt],ke=ye[lt];(ke!==ut||lt==="value")&&i(ce,lt,ut,ke,re,S.children,L,Q,Z)}}pe&1&&S.children!==I.children&&c(ce,I.children)}else!he&&Y==null&&x(ce,I,be,ye,L,Q,re);((ve=ye.onVnodeUpdated)||ie)&&Gr(()=>{ve&&ea(ve,L,I,S),ie&&Ci(I,S,L,"updated")},Q)},w=(S,I,L,Q,re,ue,he)=>{for(let ce=0;ce<I.length;ce++){const pe=S[ce],Y=I[ce],ie=pe.el&&(pe.type===Xe||!ll(pe,Y)||pe.shapeFlag&70)?f(pe.el):L;y(pe,Y,ie,null,Q,re,ue,he,!0)}},x=(S,I,L,Q,re,ue,he)=>{if(L!==Q){if(L!==Et)for(const ce in L)!Ef(ce)&&!(ce in Q)&&i(S,ce,L[ce],null,he,I.children,re,ue,Z);for(const ce in Q){if(Ef(ce))continue;const pe=Q[ce],Y=L[ce];pe!==Y&&ce!=="value"&&i(S,ce,Y,pe,he,I.children,re,ue,Z)}"value"in Q&&i(S,"value",L.value,Q.value,he)}},j=(S,I,L,Q,re,ue,he,ce,pe)=>{const Y=I.el=S?S.el:o(""),ie=I.anchor=S?S.anchor:o("");let{patchFlag:be,dynamicChildren:ye,slotScopeIds:ve}=I;ve&&(ce=ce?ce.concat(ve):ve),S==null?(n(Y,L,Q),n(ie,L,Q),G(I.children||[],L,ie,re,ue,he,ce,pe)):be>0&&be&64&&ye&&S.dynamicChildren?(w(S.dynamicChildren,ye,L,re,ue,he,ce),(I.key!=null||re&&I===re.subTree)&&k0(S,I,!0)):U(S,I,L,ie,re,ue,he,ce,pe)},C=(S,I,L,Q,re,ue,he,ce,pe)=>{I.slotScopeIds=ce,S==null?I.shapeFlag&512?re.ctx.activate(I,L,Q,he,pe):B(I,L,Q,re,ue,he,pe):X(S,I,pe)},B=(S,I,L,Q,re,ue,he)=>{const ce=S.component=Hoe(S,Q,re);if(kC(S)&&(ce.ctx.renderer=m),Voe(ce),ce.asyncDep){if(re&&re.registerDep(ce,K),!S.el){const pe=ce.subTree=te(gi);$(null,pe,I,L)}}else K(ce,S,I,L,re,ue,he)},X=(S,I,L)=>{const Q=I.component=S.component;if(Zse(S,I,L))if(Q.asyncDep&&!Q.asyncResolved){F(Q,I,L);return}else Q.next=I,Wse(Q.update),Q.effect.dirty=!0,Q.update();else I.el=S.el,Q.vnode=I},K=(S,I,L,Q,re,ue,he)=>{const ce=()=>{if(S.isMounted){let{next:ie,bu:be,u:ye,parent:ve,vnode:Ie}=S;{const et=zC(S);if(et){ie&&(ie.el=Ie.el,F(S,ie,he)),et.asyncDep.then(()=>{S.isUnmounted||ce()});return}}let Le=ie,lt;Di(S,!1),ie?(ie.el=Ie.el,F(S,ie,he)):ie=Ie,be&&Rv(be),(lt=ie.props&&ie.props.onVnodeBeforeUpdate)&&ea(lt,ve,ie,Ie),Di(S,!0);const ut=Cv(S),ke=S.subTree;S.subTree=ut,y(ke,ut,f(ke.el),N(ke),S,re,ue),ie.el=ut.el,Le===null&&eoe(S,ut.el),ye&&Gr(ye,re),(lt=ie.props&&ie.props.onVnodeUpdated)&&Gr(()=>ea(lt,ve,ie,Ie),re)}else{let ie;const{el:be,props:ye}=I,{bm:ve,m:Ie,parent:Le}=S,lt=Fl(I);if(Di(S,!1),ve&&Rv(ve),!lt&&(ie=ye&&ye.onVnodeBeforeMount)&&ea(ie,Le,I),Di(S,!0),be&&D){const ut=()=>{S.subTree=Cv(S),D(be,S.subTree,S,re,null)};lt?I.type.__asyncLoader().then(()=>!S.isUnmounted&&ut()):ut()}else{const ut=S.subTree=Cv(S);y(null,ut,L,Q,S,re,ue),I.el=ut.el}if(Ie&&Gr(Ie,re),!lt&&(ie=ye&&ye.onVnodeMounted)){const ut=I;Gr(()=>ea(ie,Le,ut),re)}(I.shapeFlag&256||Le&&Fl(Le.vnode)&&Le.vnode.shapeFlag&256)&&S.a&&Gr(S.a,re),S.isMounted=!0,I=L=Q=null}},pe=S.effect=new f0(ce,un,()=>w0(Y),S.scope),Y=S.update=()=>{pe.dirty&&pe.run()};Y.id=S.uid,Di(S,!0),Y()},F=(S,I,L)=>{I.component=S;const Q=S.vnode.props;S.vnode=I,S.next=null,Ooe(S,I.props,Q,L),Toe(S,I.children,L),ws(),ZS(S),_s()},U=(S,I,L,Q,re,ue,he,ce,pe=!1)=>{const Y=S&&S.children,ie=S?S.shapeFlag:0,be=I.children,{patchFlag:ye,shapeFlag:ve}=I;if(ye>0){if(ye&128){H(Y,be,L,Q,re,ue,he,ce,pe);return}else if(ye&256){z(Y,be,L,Q,re,ue,he,ce,pe);return}}ve&8?(ie&16&&Z(Y,re,ue),be!==Y&&c(L,be)):ie&16?ve&16?H(Y,be,L,Q,re,ue,he,ce,pe):Z(Y,re,ue,!0):(ie&8&&c(L,""),ve&16&&G(be,L,Q,re,ue,he,ce,pe))},z=(S,I,L,Q,re,ue,he,ce,pe)=>{S=S||ao,I=I||ao;const Y=S.length,ie=I.length,be=Math.min(Y,ie);let ye;for(ye=0;ye<be;ye++){const ve=I[ye]=pe?Ja(I[ye]):ra(I[ye]);y(S[ye],ve,L,null,re,ue,he,ce,pe)}Y>ie?Z(S,re,ue,!0,!1,be):G(I,L,Q,re,ue,he,ce,pe,be)},H=(S,I,L,Q,re,ue,he,ce,pe)=>{let Y=0;const ie=I.length;let be=S.length-1,ye=ie-1;for(;Y<=be&&Y<=ye;){const ve=S[Y],Ie=I[Y]=pe?Ja(I[Y]):ra(I[Y]);if(ll(ve,Ie))y(ve,Ie,L,null,re,ue,he,ce,pe);else break;Y++}for(;Y<=be&&Y<=ye;){const ve=S[be],Ie=I[ye]=pe?Ja(I[ye]):ra(I[ye]);if(ll(ve,Ie))y(ve,Ie,L,null,re,ue,he,ce,pe);else break;be--,ye--}if(Y>be){if(Y<=ye){const ve=ye+1,Ie=ve<ie?I[ve].el:Q;for(;Y<=ye;)y(null,I[Y]=pe?Ja(I[Y]):ra(I[Y]),L,Ie,re,ue,he,ce,pe),Y++}}else if(Y>ye)for(;Y<=be;)g(S[Y],re,ue,!0),Y++;else{const ve=Y,Ie=Y,Le=new Map;for(Y=Ie;Y<=ye;Y++){const Mt=I[Y]=pe?Ja(I[Y]):ra(I[Y]);Mt.key!=null&&Le.set(Mt.key,Y)}let lt,ut=0;const ke=ye-Ie+1;let et=!1,rr=0;const en=new Array(ke);for(Y=0;Y<ke;Y++)en[Y]=0;for(Y=ve;Y<=be;Y++){const Mt=S[Y];if(ut>=ke){g(Mt,re,ue,!0);continue}let gn;if(Mt.key!=null)gn=Le.get(Mt.key);else for(lt=Ie;lt<=ye;lt++)if(en[lt-Ie]===0&&ll(Mt,I[lt])){gn=lt;break}gn===void 0?g(Mt,re,ue,!0):(en[gn-Ie]=Y+1,gn>=rr?rr=gn:et=!0,y(Mt,I[gn],L,null,re,ue,he,ce,pe),ut++)}const Ba=et?Loe(en):ao;for(lt=Ba.length-1,Y=ke-1;Y>=0;Y--){const Mt=Ie+Y,gn=I[Mt],tc=Mt+1<ie?I[Mt+1].el:Q;en[Y]===0?y(null,gn,L,tc,re,ue,he,ce,pe):et&&(lt<0||Y!==Ba[lt]?q(gn,L,tc,2):lt--)}}},q=(S,I,L,Q,re=null)=>{const{el:ue,type:he,transition:ce,children:pe,shapeFlag:Y}=S;if(Y&6){q(S.component.subTree,I,L,Q);return}if(Y&128){S.suspense.move(I,L,Q);return}if(Y&64){he.move(S,I,L,m);return}if(he===Xe){n(ue,I,L);for(let be=0;be<pe.length;be++)q(pe[be],I,L,Q);n(S.anchor,I,L);return}if(he===Af){_(S,I,L);return}if(Q!==2&&Y&1&&ce)if(Q===0)ce.beforeEnter(ue),n(ue,I,L),Gr(()=>ce.enter(ue),re);else{const{leave:be,delayLeave:ye,afterLeave:ve}=ce,Ie=()=>n(ue,I,L),Le=()=>{be(ue,()=>{Ie(),ve&&ve()})};ye?ye(ue,Ie,Le):Le()}else n(ue,I,L)},g=(S,I,L,Q=!1,re=!1)=>{const{type:ue,props:he,ref:ce,children:pe,dynamicChildren:Y,shapeFlag:ie,patchFlag:be,dirs:ye}=S;if(ce!=null&&Ag(ce,null,L,S,!0),ie&256){I.ctx.deactivate(S);return}const ve=ie&1&&ye,Ie=!Fl(S);let Le;if(Ie&&(Le=he&&he.onVnodeBeforeUnmount)&&ea(Le,I,S),ie&6)W(S.component,L,Q);else{if(ie&128){S.suspense.unmount(L,Q);return}ve&&Ci(S,null,I,"beforeUnmount"),ie&64?S.type.remove(S,I,L,re,m,Q):Y&&(ue!==Xe||be>0&&be&64)?Z(Y,I,L,!1,!0):(ue===Xe&&be&384||!re&&ie&16)&&Z(pe,I,L),Q&&A(S)}(Ie&&(Le=he&&he.onVnodeUnmounted)||ve)&&Gr(()=>{Le&&ea(Le,I,S),ve&&Ci(S,null,I,"unmounted")},L)},A=S=>{const{type:I,el:L,anchor:Q,transition:re}=S;if(I===Xe){M(L,Q);return}if(I===Af){O(S);return}const ue=()=>{a(L),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(S.shapeFlag&1&&re&&!re.persisted){const{leave:he,delayLeave:ce}=re,pe=()=>he(L,ue);ce?ce(S.el,ue,pe):pe()}else ue()},M=(S,I)=>{let L;for(;S!==I;)L=d(S),a(S),S=L;a(I)},W=(S,I,L)=>{const{bum:Q,scope:re,update:ue,subTree:he,um:ce}=S;Q&&Rv(Q),re.stop(),ue&&(ue.active=!1,g(he,S,I,L)),ce&&Gr(ce,I),Gr(()=>{S.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Z=(S,I,L,Q=!1,re=!1,ue=0)=>{for(let he=ue;he<S.length;he++)g(S[he],I,L,Q,re)},N=S=>S.shapeFlag&6?N(S.component.subTree):S.shapeFlag&128?S.suspense.next():d(S.anchor||S.el);let ee=!1;const ne=(S,I,L)=>{S==null?I._vnode&&g(I._vnode,null,null,!0):y(I._vnode||null,S,I,null,null,null,L),ee||(ee=!0,ZS(),xC(),ee=!1),I._vnode=S},m={p:y,um:g,m:q,r:A,mt:B,mc:G,pc:U,pbc:w,n:N,o:t};let E,D;return e&&([E,D]=e(m)),{render:ne,hydrate:E,createApp:Ioe(ne,E)}}function jv({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Di({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function joe(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function k0(t,e,r=!1){const n=t.children,a=e.children;if(Ge(n)&&Ge(a))for(let i=0;i<n.length;i++){const s=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=Ja(a[i]),o.el=s.el),r||k0(s,o)),o.type===Gu&&(o.el=s.el)}}function Loe(t){const e=t.slice(),r=[0];let n,a,i,s,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(a=r[r.length-1],t[a]<u){e[n]=a,r.push(n);continue}for(i=0,s=r.length-1;i<s;)o=i+s>>1,t[r[o]]<u?i=o+1:s=o;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}function zC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:zC(e)}const Moe=t=>t.__isTeleport,Bl=t=>t&&(t.disabled||t.disabled===""),cI=t=>typeof SVGElement<"u"&&t instanceof SVGElement,fI=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Og=(t,e)=>{const r=t&&t.to;return Lt(r)?e?e(r):null:r},Noe={name:"Teleport",__isTeleport:!0,process(t,e,r,n,a,i,s,o,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:y,createComment:k}}=u,$=Bl(e.props);let{shapeFlag:b,children:_,dynamicChildren:O}=e;if(t==null){const R=e.el=y(""),P=e.anchor=y("");h(R,r,n),h(P,r,n);const T=e.target=Og(e.props,p),G=e.targetAnchor=y("");T&&(h(G,T),s==="svg"||cI(T)?s="svg":(s==="mathml"||fI(T))&&(s="mathml"));const v=(w,x)=>{b&16&&c(_,w,x,a,i,s,o,l)};$?v(r,P):T&&v(T,G)}else{e.el=t.el;const R=e.anchor=t.anchor,P=e.target=t.target,T=e.targetAnchor=t.targetAnchor,G=Bl(t.props),v=G?r:P,w=G?R:T;if(s==="svg"||cI(P)?s="svg":(s==="mathml"||fI(P))&&(s="mathml"),O?(d(t.dynamicChildren,O,v,a,i,s,o),k0(t,e,!0)):l||f(t,e,v,w,a,i,s,o,!1),$)G?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Yc(e,r,R,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=Og(e.props,p);x&&Yc(e,x,null,u,0)}else G&&Yc(e,P,T,u,1)}GC(e)},remove(t,e,r,n,{um:a,o:{remove:i}},s){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:f,props:d}=t;if(f&&i(c),s&&i(u),o&16){const h=s||!Bl(d);for(let p=0;p<l.length;p++){const y=l[p];a(y,e,r,h,!!y.dynamicChildren)}}},move:Yc,hydrate:Foe};function Yc(t,e,r,{o:{insert:n},m:a},i=2){i===0&&n(t.targetAnchor,e,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=t,f=i===2;if(f&&n(s,e,r),(!f||Bl(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],e,r,2);f&&n(o,e,r)}function Foe(t,e,r,n,a,i,{o:{nextSibling:s,parentNode:o,querySelector:l}},u){const c=e.target=Og(e.props,l);if(c){const f=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Bl(e.props))e.anchor=u(s(t),e,o(t),r,n,a,i),e.targetAnchor=f;else{e.anchor=s(t);let d=f;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(f,e,c,r,n,a,i)}GC(e)}return e.anchor&&s(e.anchor)}const Uoe=Noe;function GC(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Xe=Symbol.for("v-fgt"),Gu=Symbol.for("v-txt"),gi=Symbol.for("v-cmt"),Af=Symbol.for("v-stc"),zl=[];let zn=null;function se(t=!1){zl.push(zn=t?null:[])}function Boe(){zl.pop(),zn=zl[zl.length-1]||null}let lu=1;function dI(t){lu+=t}function qC(t){return t.dynamicChildren=lu>0?zn||ao:null,Boe(),lu>0&&zn&&zn.push(t),t}function Se(t,e,r,n,a,i){return qC(me(t,e,r,n,a,i,!0))}function Re(t,e,r,n,a){return qC(te(t,e,r,n,a,!0))}function od(t){return t?t.__v_isVNode===!0:!1}function ll(t,e){return t.type===e.type&&t.key===e.key}const dh="__vInternal",HC=({key:t})=>t??null,Of=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Lt(t)||Ft(t)||Ke(t)?{i:qt,r:t,k:e,f:!!r}:t:null);function me(t,e=null,r=null,n=0,a=null,i=t===Xe?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&HC(e),ref:e&&Of(e),scopeId:EC,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:qt};return o?(R0(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Lt(r)?8:16),lu>0&&!s&&zn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&zn.push(l),l}const te=zoe;function zoe(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===AC)&&(t=gi),od(t)){const o=as(t,e,!0);return r&&R0(o,r),lu>0&&!i&&zn&&(o.shapeFlag&6?zn[zn.indexOf(t)]=o:zn.push(o)),o.patchFlag|=-2,o}if(Yoe(t)&&(t=t.__vccOpts),e){e=VC(e);let{class:o,style:l}=e;o&&!Lt(o)&&(e.class=Ht(o)),Rt(l)&&(mC(l)&&!Ge(l)&&(l=sr({},l)),e.style=sh(l))}const s=Lt(t)?1:roe(t)?128:Moe(t)?64:Rt(t)?4:Ke(t)?2:0;return me(t,e,r,n,a,s,i,!0)}function VC(t){return t?mC(t)||dh in t?sr({},t):t:null}function as(t,e,r=!1){const{props:n,ref:a,patchFlag:i,children:s}=t,o=e?xr(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&HC(o),ref:e&&e.ref?r&&a?Ge(a)?a.concat(Of(e)):[a,Of(e)]:Of(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&as(t.ssContent),ssFallback:t.ssFallback&&as(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Oe(t=" ",e=0){return te(Gu,null,t,e)}function WC(t,e){const r=te(Af,null,t);return r.staticCount=e,r}function jt(t="",e=!1){return e?(se(),Re(gi,null,t)):te(gi,null,t)}function ra(t){return t==null||typeof t=="boolean"?te(gi):Ge(t)?te(Xe,null,t.slice()):typeof t=="object"?Ja(t):te(Gu,null,String(t))}function Ja(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:as(t)}function R0(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Ge(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),R0(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(dh in e)?e._ctx=qt:a===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ke(e)?(e={default:e,_ctx:qt},r=32):(e=String(e),n&64?(r=16,e=[Oe(e)]):r=8);t.children=e,t.shapeFlag|=r}function xr(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Ht([e.class,n.class]));else if(a==="style")e.style=sh([e.style,n.style]);else if(rh(a)){const i=e[a],s=n[a];s&&i!==s&&!(Ge(i)&&i.includes(s))&&(e[a]=i?[].concat(i,s):s)}else a!==""&&(e[a]=n[a])}return e}function ea(t,e,r,n=null){Gn(t,e,7,[r,n])}const Goe=LC();let qoe=0;function Hoe(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||Goe,i={uid:qoe++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new tC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:NC(n,a),emitsOptions:IC(n,a),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:n.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Yse.bind(null,i),t.ce&&t.ce(i),i}let Zt=null;const hh=()=>Zt||qt;let ld,kg;{const t=u0(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(s=>s(i)):a[0](i)}};ld=e("__VUE_INSTANCE_SETTERS__",r=>Zt=r),kg=e("__VUE_SSR_SETTERS__",r=>ph=r)}const qu=t=>{const e=Zt;return ld(t),t.scope.on(),()=>{t.scope.off(),ld(e)}},hI=()=>{Zt&&Zt.scope.off(),ld(null)};function KC(t){return t.vnode.shapeFlag&4}let ph=!1;function Voe(t,e=!1){e&&kg(e);const{props:r,children:n}=t.vnode,a=KC(t);Aoe(t,r,a,e),Roe(t,n);const i=a?Woe(t,e):void 0;return e&&kg(!1),i}function Woe(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=$o(new Proxy(t.ctx,yoe));const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?YC(t):null,i=qu(t);ws();const s=di(n,t,0,[t.props,a]);if(_s(),i(),YP(s)){if(s.then(hI,hI),e)return s.then(o=>{pI(t,o,e)}).catch(o=>{uh(o,t,0)});t.asyncDep=s}else pI(t,s,e)}else JC(t,e)}function pI(t,e,r){Ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rt(e)&&(t.setupState=bC(e)),JC(t,r)}let vI;function JC(t,e,r){const n=t.type;if(!t.render){if(!e&&vI&&!n.render){const a=n.template||A0(t).template;if(a){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,u=sr(sr({isCustomElement:i,delimiters:o},s),l);n.render=vI(a,u)}}t.render=n.render||un}{const a=qu(t);ws();try{boe(t)}finally{_s(),a()}}}function Koe(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Kr(t,"get","$attrs"),e[r]}}))}function YC(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Koe(t)},slots:t.slots,emit:t.emit,expose:e}}function vh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(bC($o(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ul)return Ul[r](t)},has(e,r){return r in e||r in Ul}}))}function Joe(t,e=!0){return Ke(t)?t.displayName||t.name:t.name||e&&t.__name}function Yoe(t){return Ke(t)&&"__vccOpts"in t}const de=(t,e)=>Mse(t,e,ph);function Nt(t,e,r){const n=arguments.length;return n===2?Rt(e)&&!Ge(e)?od(e)?te(t,null,[e]):te(t,e):te(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&od(r)&&(r=[r]),te(t,e,r))}const Qoe="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Xoe="http://www.w3.org/2000/svg",Zoe="http://www.w3.org/1998/Math/MathML",Ya=typeof document<"u"?document:null,mI=Ya&&Ya.createElement("template"),ele={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?Ya.createElementNS(Xoe,t):e==="mathml"?Ya.createElementNS(Zoe,t):Ya.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Ya.createTextNode(t),createComment:t=>Ya.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ya.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const s=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{mI.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const o=mI.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},tle=Symbol("_vtc");function rle(t,e,r){const n=t[tle];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const nle=Symbol("_vod"),ale=Symbol("");function ile(t,e,r){const n=t.style,a=n.display,i=Lt(r);if(r&&!i){if(e&&!Lt(e))for(const s in e)r[s]==null&&Rg(n,s,"");for(const s in r)Rg(n,s,r[s])}else if(i){if(e!==r){const s=n[ale];s&&(r+=";"+s),n.cssText=r}}else e&&t.removeAttribute("style");nle in t&&(n.display=a)}const gI=/\s*!important$/;function Rg(t,e,r){if(Ge(r))r.forEach(n=>Rg(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=sle(t,e);gI.test(r)?t.setProperty(zo(n),r.replace(gI,""),"important"):t[n]=r}}const yI=["Webkit","Moz","ms"],Lv={};function sle(t,e){const r=Lv[e];if(r)return r;let n=ha(e);if(n!=="filter"&&n in t)return Lv[e]=n;n=ih(n);for(let a=0;a<yI.length;a++){const i=yI[a]+n;if(i in t)return Lv[e]=i}return e}const bI="http://www.w3.org/1999/xlink";function ole(t,e,r,n,a){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(bI,e.slice(6,e.length)):t.setAttributeNS(bI,e,r);else{const i=pse(e);r==null||i&&!ZP(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function lle(t,e,r,n,a,i,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,a,i),t[e]=r??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=r;const u=o==="OPTION"?t.getAttribute("value"):t.value,c=r??"";u!==c&&(t.value=c),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=ZP(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function ule(t,e,r,n){t.addEventListener(e,r,n)}function cle(t,e,r,n){t.removeEventListener(e,r,n)}const wI=Symbol("_vei");function fle(t,e,r,n,a=null){const i=t[wI]||(t[wI]={}),s=i[e];if(n&&s)s.value=n;else{const[o,l]=dle(e);if(n){const u=i[e]=vle(n,a);ule(t,o,u,l)}else s&&(cle(t,o,s,l),i[e]=void 0)}}const _I=/(?:Once|Passive|Capture)$/;function dle(t){let e;if(_I.test(t)){e={};let n;for(;n=t.match(_I);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zo(t.slice(2)),e]}let Mv=0;const hle=Promise.resolve(),ple=()=>Mv||(hle.then(()=>Mv=0),Mv=Date.now());function vle(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Gn(mle(n,r.value),e,5,[n])};return r.value=t,r.attached=ple(),r}function mle(t,e){if(Ge(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const $I=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,gle=(t,e,r,n,a,i,s,o,l)=>{const u=a==="svg";e==="class"?rle(t,n,u):e==="style"?ile(t,r,n):rh(e)?s0(e)||fle(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yle(t,e,n,u))?lle(t,e,n,i,s,o,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ole(t,e,n,u))};function yle(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&$I(e)&&Ke(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return $I(e)&&Lt(r)?!1:e in t}const ble=["ctrl","shift","alt","meta"],wle={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ble.some(r=>t[`${r}Key`]&&!e.includes(r))},_le=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let s=0;s<e.length;s++){const o=wle[e[s]];if(o&&o(a,e))return}return t(a,...i)})},$le=sr({patchProp:gle},ele);let xI;function xle(){return xI||(xI=Coe($le))}const Sle=(...t)=>{const e=xle().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=Ele(n);if(!a)return;const i=e._component;!Ke(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const s=r(a,!1,Ile(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function Ile(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ele(t){return Lt(t)?document.querySelector(t):t}var Ale=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let QC;const Hu=t=>QC=t,XC=Symbol();function Tg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Gl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Gl||(Gl={}));function Ole(){const t=c0(!0),e=t.run(()=>Pe({}));let r=[],n=[];const a=$o({install(i){Hu(a),a._a=i,i.provide(XC,a),i.config.globalProperties.$pinia=a,n.forEach(s=>r.push(s)),n=[]},use(i){return!this._a&&!Ale?n.push(i):r.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return a}const ZC=()=>{};function SI(t,e,r,n=ZC){t.push(e);const a=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&rC()&&mse(a),a}function js(t,...e){t.slice().forEach(r=>{r(...e)})}const kle=t=>t();function Pg(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],a=t[r];Tg(a)&&Tg(n)&&t.hasOwnProperty(r)&&!Ft(n)&&!fi(n)?t[r]=Pg(a,n):t[r]=n}return t}const Rle=Symbol();function Tle(t){return!Tg(t)||!t.hasOwnProperty(Rle)}const{assign:Va}=Object;function Ple(t){return!!(Ft(t)&&t.effect)}function Cle(t,e,r,n){const{state:a,actions:i,getters:s}=e,o=r.state.value[t];let l;function u(){o||(r.state.value[t]=a?a():{});const c=zse(r.state.value[t]);return Va(c,i,Object.keys(s||{}).reduce((f,d)=>(f[d]=$o(de(()=>{Hu(r);const h=r._s.get(t);return s[d].call(h,h)})),f),{}))}return l=e2(t,u,e,r,n,!0),l}function e2(t,e,r={},n,a,i){let s;const o=Va({actions:{}},r),l={deep:!0};let u,c,f=[],d=[],h;const p=n.state.value[t];!i&&!p&&(n.state.value[t]={}),Pe({});let y;function k(G){let v;u=c=!1,typeof G=="function"?(G(n.state.value[t]),v={type:Gl.patchFunction,storeId:t,events:h}):(Pg(n.state.value[t],G),v={type:Gl.patchObject,payload:G,storeId:t,events:h});const w=y=Symbol();fn().then(()=>{y===w&&(u=!0)}),c=!0,js(f,v,n.state.value[t])}const $=i?function(){const{state:v}=r,w=v?v():{};this.$patch(x=>{Va(x,w)})}:ZC;function b(){s.stop(),f=[],d=[],n._s.delete(t)}function _(G,v){return function(){Hu(n);const w=Array.from(arguments),x=[],j=[];function C(K){x.push(K)}function B(K){j.push(K)}js(d,{args:w,name:G,store:R,after:C,onError:B});let X;try{X=v.apply(this&&this.$id===t?this:R,w)}catch(K){throw js(j,K),K}return X instanceof Promise?X.then(K=>(js(x,K),K)).catch(K=>(js(j,K),Promise.reject(K))):(js(x,X),X)}}const O={_p:n,$id:t,$onAction:SI.bind(null,d),$patch:k,$reset:$,$subscribe(G,v={}){const w=SI(f,G,v.detached,()=>x()),x=s.run(()=>jr(()=>n.state.value[t],j=>{(v.flush==="sync"?c:u)&&G({storeId:t,type:Gl.direct,events:h},j)},Va({},l,v)));return w},$dispose:b},R=Ta(O);n._s.set(t,R);const P=n._a&&n._a.runWithContext||kle,T=n._e.run(()=>(s=c0(),P(()=>s.run(e))));for(const G in T){const v=T[G];if(Ft(v)&&!Ple(v)||fi(v))i||(p&&Tle(v)&&(Ft(v)?v.value=p[G]:Pg(v,p[G])),n.state.value[t][G]=v);else if(typeof v=="function"){const w=_(G,v);T[G]=w,o.actions[G]=v}}return Va(R,T),Va(He(R),T),Object.defineProperty(R,"$state",{get:()=>n.state.value[t],set:G=>{k(v=>{Va(v,G)})}}),n._p.forEach(G=>{Va(R,s.run(()=>G({store:R,app:n._a,pinia:n,options:o})))}),p&&i&&r.hydrate&&r.hydrate(R.$state,p),u=!0,c=!0,R}function Dle(t,e,r){let n,a;const i=typeof e=="function";typeof t=="string"?(n=t,a=i?r:e):(a=t,n=t.id);function s(o,l){const u=Eoe();return o=o||(u?kt(XC,null):null),o&&Hu(o),o=QC,o._s.has(n)||(i?e2(n,e,a,o):Cle(n,a,o)),o._s.get(n)}return s.$id=n,s}var jle=ge,Lle=Rd.charAt,Mle=Jr,Nle=Pa,Fle=Ct;jle({target:"String",proto:!0,forced:!0},{at:function(e){var r=Fle(Mle(this)),n=r.length,a=Nle(e),i=a>=0?a:n+a;return i<0||i>=n?void 0:Lle(r,i)}});function Lr(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lr),n}var uu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(uu||{}),Ule=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ule||{});function vn({visible:t=!0,features:e=0,ourProps:r,theirProps:n,...a}){var i;let s=r2(n,r),o=Object.assign(a,{props:s});if(t||e&2&&s.static)return Nv(o);if(e&1){let l=(i=s.unmount)==null||i?0:1;return Lr(l,{0(){return null},1(){return Nv({...a,props:{...s,hidden:!0,style:{display:"none"}}})}})}return Nv(o)}function Nv({props:t,attrs:e,slots:r,slot:n,name:a}){var i,s;let{as:o,...l}=n2(t,["unmount","static"]),u=(i=r.default)==null?void 0:i.call(r,n),c={};if(n){let f=!1,d=[];for(let[h,p]of Object.entries(n))typeof p=="boolean"&&(f=!0),p===!0&&d.push(h);f&&(c["data-headlessui-state"]=d.join(" "))}if(o==="template"){if(u=t2(u??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[f,...d]=u??[];if(!zle(f)||d.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(y=>y.trim()).filter((y,k,$)=>$.indexOf(y)===k).sort((y,k)=>y.localeCompare(k)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let h=r2((s=f.props)!=null?s:{},l),p=as(f,h);for(let y in h)y.startsWith("on")&&(p.props||(p.props={}),p.props[y]=h[y]);return p}return Array.isArray(u)&&u.length===1?u[0]:u}return Nt(o,Object.assign({},l,c),{default:()=>u})}function t2(t){return t.flatMap(e=>e.type===Xe?t2(e.children):[e])}function r2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...i){let s=r[n];for(let o of s){if(a instanceof Event&&a.defaultPrevented)return;o(a,...i)}}});return e}function Ble(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function n2(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function zle(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let Gle=0;function qle(){return++Gle}function $s(){return qle()}var Wt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Wt||{});function Hle(t){throw new Error("Unexpected object: "+t)}var Pr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Pr||{});function Vle(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1,i=(()=>{switch(t.focus){case 0:return r.findIndex(s=>!e.resolveDisabled(s));case 1:{let s=r.slice().reverse().findIndex((o,l,u)=>a!==-1&&u.length-l-1>=a?!1:!e.resolveDisabled(o));return s===-1?s:r.length-1-s}case 2:return r.findIndex((s,o)=>o<=a?!1:!e.resolveDisabled(s));case 3:{let s=r.slice().reverse().findIndex(o=>!e.resolveDisabled(o));return s===-1?s:r.length-1-s}case 4:return r.findIndex(s=>e.resolveId(s)===t.id);case 5:return null;default:Hle(t)}})();return i===-1?n:i}function Ze(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let a2=Symbol("Context");var Sa=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Sa||{});function i2(){return kt(a2,null)}function Wle(t){br(a2,t)}function II(t,e){if(t)return t;let r=e??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Kle(t,e){let r=Pe(II(t.value.type,t.value.as));return $r(()=>{r.value=II(t.value.type,t.value.as)}),_r(()=>{var n;r.value||Ze(e)&&Ze(e)instanceof HTMLButtonElement&&!((n=Ze(e))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}var Jle=Object.defineProperty,Yle=(t,e,r)=>e in t?Jle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EI=(t,e,r)=>(Yle(t,typeof e!="symbol"?e+"":e,r),r);class Qle{constructor(){EI(this,"current",this.detect()),EI(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let mh=new Qle;function Go(t){if(mh.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ze(t);if(e)return e.ownerDocument}return document}let Cg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Za=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Za||{}),s2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(s2||{}),Xle=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Xle||{});function Zle(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Cg)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var T0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(T0||{});function o2(t,e=0){var r;return t===((r=Go(t))==null?void 0:r.body)?!1:Lr(e,{0(){return t.matches(Cg)},1(){let n=t;for(;n!==null;){if(n.matches(Cg))return!0;n=n.parentElement}return!1}})}var eue=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(eue||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zi(t){t==null||t.focus({preventScroll:!0})}let tue=["textarea","input"].join(",");function rue(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,tue))!=null?r:!1}function l2(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),i=e(n);if(a===null||i===null)return 0;let s=a.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kf(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){var i;let s=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,o=Array.isArray(t)?r?l2(t):t:Zle(t);a.length>0&&o.length>1&&(o=o.filter(p=>!a.includes(p))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},f=0,d=o.length,h;do{if(f>=d||f+d<=0)return 0;let p=u+f;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=o[p],h==null||h.focus(c),f+=l}while(h!==s.activeElement);return e&6&&rue(h)&&h.select(),2}function Qc(t,e,r){mh.isServer||_r(n=>{document.addEventListener(t,e,r),n(()=>document.removeEventListener(t,e,r))})}function u2(t,e,r){mh.isServer||_r(n=>{window.addEventListener(t,e,r),n(()=>window.removeEventListener(t,e,r))})}function c2(t,e,r=de(()=>!0)){function n(i,s){if(!r.value||i.defaultPrevented)return;let o=s(i);if(o===null||!o.getRootNode().contains(o))return;let l=function u(c){return typeof c=="function"?u(c()):Array.isArray(c)||c instanceof Set?c:[c]}(t);for(let u of l){if(u===null)continue;let c=u instanceof HTMLElement?u:Ze(u);if(c!=null&&c.contains(o)||i.composed&&i.composedPath().includes(c))return}return!o2(o,T0.Loose)&&o.tabIndex!==-1&&i.preventDefault(),e(i,o)}let a=Pe(null);Qc("pointerdown",i=>{var s,o;r.value&&(a.value=((o=(s=i.composedPath)==null?void 0:s.call(i))==null?void 0:o[0])||i.target)},!0),Qc("mousedown",i=>{var s,o;r.value&&(a.value=((o=(s=i.composedPath)==null?void 0:s.call(i))==null?void 0:o[0])||i.target)},!0),Qc("click",i=>{a.value&&(n(i,()=>a.value),a.value=null)},!0),Qc("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),u2("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var cu=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(cu||{});let ud=$e({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:r}){return()=>{let{features:n,...a}=t,i={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return vn({ourProps:i,theirProps:a,slot:{},attrs:r,slots:e,name:"Hidden"})}}});function f2(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))h2(r,d2(e,n),a);return r}function d2(t,e){return t?t+"["+e+"]":e}function h2(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())h2(t,d2(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):f2(r,e,t)}function nue(t,e,r){let n=Pe(r==null?void 0:r.value),a=de(()=>t.value!==void 0);return[de(()=>a.value?t.value:n.value),function(i){return a.value||(n.value=i),e==null?void 0:e(i)}]}function AI(t){return[t.screenX,t.screenY]}function aue(){let t=Pe([-1,-1]);return{wasMoved(e){let r=AI(e);return t.value[0]===r[0]&&t.value[1]===r[1]?!1:(t.value=r,!0)},update(e){t.value=AI(e)}}}function iue(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function P0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function C0(){let t=[],e={addEventListener(r,n,a,i){return r.addEventListener(n,a,i),e.add(()=>r.removeEventListener(n,a,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return P0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=C0();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}var Il=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Il||{});function sue(){let t=Pe(0);return u2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function p2(t,e,r,n){mh.isServer||_r(a=>{t=t??window,t.addEventListener(e,r,n),a(()=>t.removeEventListener(e,r,n))})}function oue(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function v2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.value){let n=Ze(r);n instanceof HTMLElement&&e.add(n)}return e}var m2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(m2||{});let ul=Object.assign($e({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:Pe(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:r,expose:n}){let a=Pe(null);n({el:a,$el:a});let i=de(()=>Go(a)),s=Pe(!1);$r(()=>s.value=!0),Mr(()=>s.value=!1),uue({ownerDocument:i},de(()=>s.value&&!!(t.features&16)));let o=cue({ownerDocument:i,container:a,initialFocus:de(()=>t.initialFocus)},de(()=>s.value&&!!(t.features&2)));fue({ownerDocument:i,container:a,containers:t.containers,previousActiveElement:o},de(()=>s.value&&!!(t.features&8)));let l=sue();function u(h){let p=Ze(a);p&&(y=>y())(()=>{Lr(l.value,{[Il.Forwards]:()=>{kf(p,Za.First,{skipElements:[h.relatedTarget]})},[Il.Backwards]:()=>{kf(p,Za.Last,{skipElements:[h.relatedTarget]})}})})}let c=Pe(!1);function f(h){h.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function d(h){if(!s.value)return;let p=v2(t.containers);Ze(a)instanceof HTMLElement&&p.add(Ze(a));let y=h.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(g2(p,y)||(c.value?kf(Ze(a),Lr(l.value,{[Il.Forwards]:()=>Za.Next,[Il.Backwards]:()=>Za.Previous})|Za.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Zi(h.target)))}return()=>{let h={},p={ref:a,onKeydown:f,onFocusout:d},{features:y,initialFocus:k,containers:$,...b}=t;return Nt(Xe,[!!(y&4)&&Nt(ud,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:cu.Focusable}),vn({ourProps:p,theirProps:{...e,...b},slot:h,attrs:e,slots:r,name:"FocusTrap"}),!!(y&4)&&Nt(ud,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:cu.Focusable})])}}}),{features:m2}),Ui=[];oue(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ui[0]!==e.target&&(Ui.unshift(e.target),Ui=Ui.filter(r=>r!=null&&r.isConnected),Ui.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function lue(t){let e=Pe(Ui.slice());return jr([t],([r],[n])=>{n===!0&&r===!1?P0(()=>{e.value.splice(0)}):n===!1&&r===!0&&(e.value=Ui.slice())},{flush:"post"}),()=>{var r;return(r=e.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function uue({ownerDocument:t},e){let r=lue(e);$r(()=>{_r(()=>{var n,a;e.value||((n=t.value)==null?void 0:n.activeElement)===((a=t.value)==null?void 0:a.body)&&Zi(r())},{flush:"post"})}),Mr(()=>{e.value&&Zi(r())})}function cue({ownerDocument:t,container:e,initialFocus:r},n){let a=Pe(null),i=Pe(!1);return $r(()=>i.value=!0),Mr(()=>i.value=!1),$r(()=>{jr([e,r,n],(s,o)=>{if(s.every((u,c)=>(o==null?void 0:o[c])===u)||!n.value)return;let l=Ze(e);l&&P0(()=>{var u,c;if(!i.value)return;let f=Ze(r),d=(u=t.value)==null?void 0:u.activeElement;if(f){if(f===d){a.value=d;return}}else if(l.contains(d)){a.value=d;return}f?Zi(f):kf(l,Za.First|Za.NoScroll)===s2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.value=(c=t.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),a}function fue({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){var i;p2((i=t.value)==null?void 0:i.defaultView,"focus",s=>{if(!a.value)return;let o=v2(r);Ze(e)instanceof HTMLElement&&o.add(Ze(e));let l=n.value;if(!l)return;let u=s.target;u&&u instanceof HTMLElement?g2(o,u)?(n.value=u,Zi(u)):(s.preventDefault(),s.stopPropagation(),Zi(l)):Zi(n.value)},!0)}function g2(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let Fv=new Map,cl=new Map;function OI(t,e=Pe(!0)){_r(r=>{var n;if(!e.value)return;let a=Ze(t);if(!a)return;r(function(){var s;if(!a)return;let o=(s=cl.get(a))!=null?s:1;if(o===1?cl.delete(a):cl.set(a,o-1),o!==1)return;let l=Fv.get(a);l&&(l["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",l["aria-hidden"]),a.inert=l.inert,Fv.delete(a))});let i=(n=cl.get(a))!=null?n:0;cl.set(a,i+1),i===0&&(Fv.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0)})}let y2=Symbol("ForcePortalRootContext");function due(){return kt(y2,!1)}let kI=$e({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:r}){return br(y2,t.force),()=>{let{force:n,...a}=t;return vn({theirProps:a,ourProps:{},slot:{},slots:e,attrs:r,name:"ForcePortalRoot"})}}});function hue(t){let e=Go(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let r=e.getElementById("headlessui-portal-root");if(r)return r;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}let pue=$e({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=Pe(null),a=de(()=>Go(n)),i=due(),s=kt(b2,null),o=Pe(i===!0||s==null?hue(n.value):s.resolveTarget());_r(()=>{i||s!=null&&(o.value=s.resolveTarget())});let l=kt(Dg,null);return $r(()=>{let u=Ze(n);u&&l&&Mr(l.register(u))}),Mr(()=>{var u,c;let f=(u=a.value)==null?void 0:u.getElementById("headlessui-portal-root");f&&o.value===f&&o.value.children.length<=0&&((c=o.value.parentElement)==null||c.removeChild(o.value))}),()=>{if(o.value===null)return null;let u={ref:n,"data-headlessui-portal":""};return Nt(Uoe,{to:o.value},vn({ourProps:u,theirProps:t,slot:{},attrs:r,slots:e,name:"Portal"}))}}}),Dg=Symbol("PortalParentContext");function vue(){let t=kt(Dg,null),e=Pe([]);function r(i){return e.value.push(i),t&&t.register(i),()=>n(i)}function n(i){let s=e.value.indexOf(i);s!==-1&&e.value.splice(s,1),t&&t.unregister(i)}let a={register:r,unregister:n,portals:e};return[e,$e({name:"PortalWrapper",setup(i,{slots:s}){return br(Dg,a),()=>{var o;return(o=s.default)==null?void 0:o.call(s)}}})]}let b2=Symbol("PortalGroupContext"),mue=$e({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:r}){let n=Ta({resolveTarget(){return t.target}});return br(b2,n),()=>{let{target:a,...i}=t;return vn({theirProps:i,ourProps:{},slot:{},attrs:e,slots:r,name:"PortalGroup"})}}}),w2=Symbol("StackContext");var jg=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(jg||{});function gue(){return kt(w2,()=>{})}function yue({type:t,enabled:e,element:r,onUpdate:n}){let a=gue();function i(...s){n==null||n(...s),a(...s)}$r(()=>{jr(e,(s,o)=>{s?i(0,t,r):o===!0&&i(1,t,r)},{immediate:!0,flush:"sync"})}),Mr(()=>{e.value&&i(1,t,r)}),br(w2,i)}let bue=Symbol("DescriptionContext");function wue({slot:t=Pe({}),name:e="Description",props:r={}}={}){let n=Pe([]);function a(i){return n.value.push(i),()=>{let s=n.value.indexOf(i);s!==-1&&n.value.splice(s,1)}}return br(bue,{register:a,slot:t,name:e,props:r}),de(()=>n.value.length>0?n.value.join(" "):void 0)}function _ue(t){let e=au(t.getSnapshot());return Mr(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function $ue(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...i){let s=e[a].call(r,...i);s&&(r=s,n.forEach(o=>o()))}}}function xue(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,i=t-a;r.style(n,"paddingRight",`${i}px`)}}}function Sue(){if(!iue())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:r,meta:n}){function a(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=C0();s.style(e.documentElement,"scroll-behavior","auto"),r.add(()=>r.microTask(()=>s.dispose()))}r.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let i=null;r.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let o=s.target.closest("a");if(!o)return;let{hash:l}=new URL(o.href),u=e.querySelector(l);u&&!a(u)&&(i=u)}catch{}},!0),r.addEventListener(e,"touchmove",s=>{s.target instanceof HTMLElement&&!a(s.target)&&s.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+t),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})}}}function Iue(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Eue(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Vi=$ue(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:C0(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:Eue(r)},a=[Sue(),xue(),Iue()];a.forEach(({before:i})=>i==null?void 0:i(n)),a.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Vi.subscribe(()=>{let t=Vi.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Vi.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Vi.dispatch("TEARDOWN",r)}});function Aue(t,e,r){let n=_ue(Vi),a=de(()=>{let i=t.value?n.value.get(t.value):void 0;return i?i.count>0:!1});return jr([t,e],([i,s],[o],l)=>{if(!i||!s)return;Vi.dispatch("PUSH",i,r);let u=!1;l(()=>{u||(Vi.dispatch("POP",o??i,r),u=!0)})},{immediate:!0}),a}function Oue({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){let n=Pe(null),a=Go(n);function i(){var s;let o=[];for(let l of t)l!==null&&(l instanceof HTMLElement?o.push(l):"value"in l&&l.value instanceof HTMLElement&&o.push(l.value));if(e!=null&&e.value)for(let l of e.value)o.push(l);for(let l of(s=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(l.contains(Ze(n))||o.some(u=>l.contains(u))||o.push(l));return o}return{resolveContainers:i,contains(s){return i().some(o=>o.contains(s))},mainTreeNodeRef:n,MainTreeNode(){return r!=null?null:Nt(ud,{features:cu.Hidden,ref:n})}}}var kue=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(kue||{});let Lg=Symbol("DialogContext");function D0(t){let e=kt(Lg,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,D0),r}return e}let Xc="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Rue=$e({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Xc},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${$s()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:a}){var i;let s=Pe(!1);$r(()=>{s.value=!0});let o=Pe(0),l=i2(),u=de(()=>t.open===Xc&&l!==null?(l.value&Sa.Open)===Sa.Open:t.open),c=Pe(null),f=de(()=>Go(c));if(a({el:c,$el:c}),!(t.open!==Xc||l!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof u.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u.value===Xc?void 0:t.open}`);let d=de(()=>s.value&&u.value?0:1),h=de(()=>d.value===0),p=de(()=>o.value>1),y=kt(Lg,null)!==null,[k,$]=vue(),{resolveContainers:b,mainTreeNodeRef:_,MainTreeNode:O}=Oue({portals:k,defaultContainers:[de(()=>{var F;return(F=C.panelRef.value)!=null?F:c.value})]}),R=de(()=>p.value?"parent":"leaf"),P=de(()=>l!==null?(l.value&Sa.Closing)===Sa.Closing:!1),T=de(()=>y||P.value?!1:h.value),G=de(()=>{var F,U,z;return(z=Array.from((U=(F=f.value)==null?void 0:F.querySelectorAll("body > *"))!=null?U:[]).find(H=>H.id==="headlessui-portal-root"?!1:H.contains(Ze(_))&&H instanceof HTMLElement))!=null?z:null});OI(G,T);let v=de(()=>p.value?!0:h.value),w=de(()=>{var F,U,z;return(z=Array.from((U=(F=f.value)==null?void 0:F.querySelectorAll("[data-headlessui-portal]"))!=null?U:[]).find(H=>H.contains(Ze(_))&&H instanceof HTMLElement))!=null?z:null});OI(w,v),yue({type:"Dialog",enabled:de(()=>d.value===0),element:c,onUpdate:(F,U)=>{if(U==="Dialog")return Lr(F,{[jg.Add]:()=>o.value+=1,[jg.Remove]:()=>o.value-=1})}});let x=wue({name:"DialogDescription",slot:de(()=>({open:u.value}))}),j=Pe(null),C={titleId:j,panelRef:Pe(null),dialogState:d,setTitleId(F){j.value!==F&&(j.value=F)},close(){e("close",!1)}};br(Lg,C);let B=de(()=>!(!h.value||p.value));c2(b,(F,U)=>{C.close(),fn(()=>U==null?void 0:U.focus())},B);let X=de(()=>!(p.value||d.value!==0));p2((i=f.value)==null?void 0:i.defaultView,"keydown",F=>{X.value&&(F.defaultPrevented||F.key===Wt.Escape&&(F.preventDefault(),F.stopPropagation(),C.close()))});let K=de(()=>!(P.value||d.value!==0||y));return Aue(f,K,F=>{var U;return{containers:[...(U=F.containers)!=null?U:[],b]}}),_r(F=>{if(d.value!==0)return;let U=Ze(c);if(!U)return;let z=new ResizeObserver(H=>{for(let q of H){let g=q.target.getBoundingClientRect();g.x===0&&g.y===0&&g.width===0&&g.height===0&&C.close()}});z.observe(U),F(()=>z.disconnect())}),()=>{let{id:F,open:U,initialFocus:z,...H}=t,q={...r,ref:c,id:F,role:"dialog","aria-modal":d.value===0?!0:void 0,"aria-labelledby":j.value,"aria-describedby":x.value},g={open:d.value===0};return Nt(kI,{force:!0},()=>[Nt(pue,()=>Nt(mue,{target:c.value},()=>Nt(kI,{force:!1},()=>Nt(ul,{initialFocus:z,containers:b,features:h.value?Lr(R.value,{parent:ul.features.RestoreFocus,leaf:ul.features.All&~ul.features.FocusLock}):ul.features.None},()=>Nt($,{},()=>vn({ourProps:q,theirProps:{...H,...r},slot:g,attrs:r,slots:n,visible:d.value===0,features:uu.RenderStrategy|uu.Static,name:"Dialog"})))))),Nt(O)])}}}),Tue=$e({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${$s()}`}},setup(t,{attrs:e,slots:r,expose:n}){let a=D0("DialogPanel");n({el:a.panelRef,$el:a.panelRef});function i(s){s.stopPropagation()}return()=>{let{id:s,...o}=t,l={id:s,ref:a.panelRef,onClick:i};return vn({ourProps:l,theirProps:o,slot:{open:a.dialogState.value===0},attrs:e,slots:r,name:"DialogPanel"})}}}),Pue=$e({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${$s()}`}},setup(t,{attrs:e,slots:r}){let n=D0("DialogTitle");return $r(()=>{n.setTitleId(t.id),Mr(()=>n.setTitleId(null))}),()=>{let{id:a,...i}=t;return vn({ourProps:{id:a},theirProps:i,slot:{open:n.dialogState.value===0},attrs:e,slots:r,name:"DialogTitle"})}}}),RI=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function TI(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let i=!1;for(let o of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let s=i?(r=a.innerText)!=null?r:"":n;return RI.test(s)&&(s=s.replace(RI,"")),s}function Cue(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let i=document.getElementById(a);if(i){let s=i.getAttribute("aria-label");return typeof s=="string"?s.trim():TI(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return TI(t).trim()}function Due(t){let e=Pe(""),r=Pe("");return()=>{let n=Ze(t);if(!n)return"";let a=n.innerText;if(e.value===a)return r.value;let i=Cue(n).trim().toLowerCase();return e.value=a,r.value=i,i}}function jue(t,e){return t===e}var Lue=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Lue||{}),Mue=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Mue||{}),Nue=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Nue||{});function Fue(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let _2=Symbol("ListboxContext");function Vu(t){let e=kt(_2,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Vu),r}return e}let Uue=$e({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>jue},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:r,emit:n}){let a=Pe(1),i=Pe(null),s=Pe(null),o=Pe(null),l=Pe([]),u=Pe(""),c=Pe(null),f=Pe(1);function d(_=O=>O){let O=c.value!==null?l.value[c.value]:null,R=l2(_(l.value.slice()),T=>Ze(T.dataRef.domRef)),P=O?R.indexOf(O):null;return P===-1&&(P=null),{options:R,activeOptionIndex:P}}let h=de(()=>t.multiple?1:0),[p,y]=nue(de(()=>t.modelValue),_=>n("update:modelValue",_),de(()=>t.defaultValue)),k=de(()=>p.value===void 0?Lr(h.value,{1:[],0:void 0}):p.value),$={listboxState:a,value:k,mode:h,compare(_,O){if(typeof t.by=="string"){let R=t.by;return(_==null?void 0:_[R])===(O==null?void 0:O[R])}return t.by(_,O)},orientation:de(()=>t.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:s,optionsRef:o,disabled:de(()=>t.disabled),options:l,searchQuery:u,activeOptionIndex:c,activationTrigger:f,closeListbox(){t.disabled||a.value!==1&&(a.value=1,c.value=null)},openListbox(){t.disabled||a.value!==0&&(a.value=0)},goToOption(_,O,R){if(t.disabled||a.value===1)return;let P=d(),T=Vle(_===Pr.Specific?{focus:Pr.Specific,id:O}:{focus:_},{resolveItems:()=>P.options,resolveActiveIndex:()=>P.activeOptionIndex,resolveId:G=>G.id,resolveDisabled:G=>G.dataRef.disabled});u.value="",c.value=T,f.value=R??1,l.value=P.options},search(_){if(t.disabled||a.value===1)return;let O=u.value!==""?0:1;u.value+=_.toLowerCase();let R=(c.value!==null?l.value.slice(c.value+O).concat(l.value.slice(0,c.value+O)):l.value).find(T=>T.dataRef.textValue.startsWith(u.value)&&!T.dataRef.disabled),P=R?l.value.indexOf(R):-1;P===-1||P===c.value||(c.value=P,f.value=1)},clearSearch(){t.disabled||a.value!==1&&u.value!==""&&(u.value="")},registerOption(_,O){let R=d(P=>[...P,{id:_,dataRef:O}]);l.value=R.options,c.value=R.activeOptionIndex},unregisterOption(_){let O=d(R=>{let P=R.findIndex(T=>T.id===_);return P!==-1&&R.splice(P,1),R});l.value=O.options,c.value=O.activeOptionIndex,f.value=1},theirOnChange(_){t.disabled||y(_)},select(_){t.disabled||y(Lr(h.value,{0:()=>_,1:()=>{let O=He($.value.value).slice(),R=He(_),P=O.findIndex(T=>$.compare(R,He(T)));return P===-1?O.push(R):O.splice(P,1),O}}))}};c2([s,o],(_,O)=>{var R;$.closeListbox(),o2(O,T0.Loose)||(_.preventDefault(),(R=Ze(s))==null||R.focus())},de(()=>a.value===0)),br(_2,$),Wle(de(()=>Lr(a.value,{0:Sa.Open,1:Sa.Closed})));let b=de(()=>{var _;return(_=Ze(s))==null?void 0:_.closest("form")});return $r(()=>{jr([b],()=>{if(!b.value||t.defaultValue===void 0)return;function _(){$.theirOnChange(t.defaultValue)}return b.value.addEventListener("reset",_),()=>{var O;(O=b.value)==null||O.removeEventListener("reset",_)}},{immediate:!0})}),()=>{let{name:_,modelValue:O,disabled:R,form:P,...T}=t,G={open:a.value===0,disabled:R,value:k.value};return Nt(Xe,[..._!=null&&k.value!=null?f2({[_]:k.value}).map(([v,w])=>Nt(ud,Ble({features:cu.Hidden,key:v,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:P,name:v,value:w}))):[],vn({ourProps:{},theirProps:{...r,...n2(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:G,slots:e,attrs:r,name:"Listbox"})])}}}),Bue=$e({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-listbox-label-${$s()}`}},setup(t,{attrs:e,slots:r}){let n=Vu("ListboxLabel");function a(){var i;(i=Ze(n.buttonRef))==null||i.focus({preventScroll:!0})}return()=>{let i={open:n.listboxState.value===0,disabled:n.disabled.value},{id:s,...o}=t,l={id:s,ref:n.labelRef,onClick:a};return vn({ourProps:l,theirProps:o,slot:i,attrs:e,slots:r,name:"ListboxLabel"})}}}),zue=$e({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${$s()}`}},setup(t,{attrs:e,slots:r,expose:n}){let a=Vu("ListboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(u){switch(u.key){case Wt.Space:case Wt.Enter:case Wt.ArrowDown:u.preventDefault(),a.openListbox(),fn(()=>{var c;(c=Ze(a.optionsRef))==null||c.focus({preventScroll:!0}),a.value.value||a.goToOption(Pr.First)});break;case Wt.ArrowUp:u.preventDefault(),a.openListbox(),fn(()=>{var c;(c=Ze(a.optionsRef))==null||c.focus({preventScroll:!0}),a.value.value||a.goToOption(Pr.Last)});break}}function s(u){switch(u.key){case Wt.Space:u.preventDefault();break}}function o(u){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),fn(()=>{var c;return(c=Ze(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),a.openListbox(),Fue(()=>{var c;return(c=Ze(a.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=Kle(de(()=>({as:t.as,type:e.type})),a.buttonRef);return()=>{var u,c;let f={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{id:d,...h}=t,p={ref:a.buttonRef,id:d,type:l.value,"aria-haspopup":"listbox","aria-controls":(u=Ze(a.optionsRef))==null?void 0:u.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(c=Ze(a.labelRef))==null?void 0:c.id,d].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:s,onClick:o};return vn({ourProps:p,theirProps:h,slot:f,attrs:e,slots:r,name:"ListboxButton"})}}}),$2=$e({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${$s()}`}},setup(t,{attrs:e,slots:r,expose:n}){let a=Vu("ListboxOptions"),i=Pe(null);n({el:a.optionsRef,$el:a.optionsRef});function s(u){switch(i.value&&clearTimeout(i.value),u.key){case Wt.Space:if(a.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),a.search(u.key);case Wt.Enter:if(u.preventDefault(),u.stopPropagation(),a.activeOptionIndex.value!==null){let c=a.options.value[a.activeOptionIndex.value];a.select(c.dataRef.value)}a.mode.value===0&&(a.closeListbox(),fn(()=>{var c;return(c=Ze(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})}));break;case Lr(a.orientation.value,{vertical:Wt.ArrowDown,horizontal:Wt.ArrowRight}):return u.preventDefault(),u.stopPropagation(),a.goToOption(Pr.Next);case Lr(a.orientation.value,{vertical:Wt.ArrowUp,horizontal:Wt.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),a.goToOption(Pr.Previous);case Wt.Home:case Wt.PageUp:return u.preventDefault(),u.stopPropagation(),a.goToOption(Pr.First);case Wt.End:case Wt.PageDown:return u.preventDefault(),u.stopPropagation(),a.goToOption(Pr.Last);case Wt.Escape:u.preventDefault(),u.stopPropagation(),a.closeListbox(),fn(()=>{var c;return(c=Ze(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case Wt.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(a.search(u.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}let o=i2(),l=de(()=>o!==null?(o.value&Sa.Open)===Sa.Open:a.listboxState.value===0);return()=>{var u,c,f,d;let h={open:a.listboxState.value===0},{id:p,...y}=t,k={"aria-activedescendant":a.activeOptionIndex.value===null||(u=a.options.value[a.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(d=(c=Ze(a.labelRef))==null?void 0:c.id)!=null?d:(f=Ze(a.buttonRef))==null?void 0:f.id,"aria-orientation":a.orientation.value,id:p,onKeydown:s,role:"listbox",tabIndex:0,ref:a.optionsRef};return vn({ourProps:k,theirProps:y,slot:h,attrs:e,slots:r,features:uu.RenderStrategy|uu.Static,visible:l.value,name:"ListboxOptions"})}}}),Gue=$e({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${$s()}`}},setup(t,{slots:e,attrs:r,expose:n}){let a=Vu("ListboxOption"),i=Pe(null);n({el:i,$el:i});let s=de(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===t.id:!1),o=de(()=>Lr(a.mode.value,{0:()=>a.compare(He(a.value.value),He(t.value)),1:()=>He(a.value.value).some($=>a.compare(He($),He(t.value)))})),l=de(()=>Lr(a.mode.value,{1:()=>{var $;let b=He(a.value.value);return(($=a.options.value.find(_=>b.some(O=>a.compare(He(O),He(_.dataRef.value)))))==null?void 0:$.id)===t.id},0:()=>o.value})),u=Due(i),c=de(()=>({disabled:t.disabled,value:t.value,get textValue(){return u()},domRef:i}));$r(()=>a.registerOption(t.id,c)),Mr(()=>a.unregisterOption(t.id)),$r(()=>{jr([a.listboxState,o],()=>{a.listboxState.value===0&&o.value&&Lr(a.mode.value,{1:()=>{l.value&&a.goToOption(Pr.Specific,t.id)},0:()=>{a.goToOption(Pr.Specific,t.id)}})},{immediate:!0})}),_r(()=>{a.listboxState.value===0&&s.value&&a.activationTrigger.value!==0&&fn(()=>{var $,b;return(b=($=Ze(i))==null?void 0:$.scrollIntoView)==null?void 0:b.call($,{block:"nearest"})})});function f($){if(t.disabled)return $.preventDefault();a.select(t.value),a.mode.value===0&&(a.closeListbox(),fn(()=>{var b;return(b=Ze(a.buttonRef))==null?void 0:b.focus({preventScroll:!0})}))}function d(){if(t.disabled)return a.goToOption(Pr.Nothing);a.goToOption(Pr.Specific,t.id)}let h=aue();function p($){h.update($)}function y($){h.wasMoved($)&&(t.disabled||s.value||a.goToOption(Pr.Specific,t.id,0))}function k($){h.wasMoved($)&&(t.disabled||s.value&&a.goToOption(Pr.Nothing))}return()=>{let{disabled:$}=t,b={active:s.value,selected:o.value,disabled:$},{id:_,value:O,disabled:R,...P}=t,T={id:_,ref:i,role:"option",tabIndex:$===!0?void 0:-1,"aria-disabled":$===!0?!0:void 0,"aria-selected":o.value,disabled:void 0,onClick:f,onFocus:d,onPointerenter:p,onMouseenter:p,onPointermove:y,onMousemove:y,onPointerleave:k,onMouseleave:k};return vn({ourProps:T,theirProps:P,slot:b,attrs:r,slots:e,name:"ListboxOption"})}}});/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries:x2,setPrototypeOf:PI,isFrozen:que,getPrototypeOf:Hue,getOwnPropertyDescriptor:S2}=Object;let{freeze:Nr,seal:qn,create:I2}=Object,{apply:Mg,construct:Ng}=typeof Reflect<"u"&&Reflect;Nr||(Nr=function(e){return e});qn||(qn=function(e){return e});Mg||(Mg=function(e,r,n){return e.apply(r,n)});Ng||(Ng=function(e,r){return new e(...r)});const Zc=On(Array.prototype.forEach),CI=On(Array.prototype.pop),fl=On(Array.prototype.push),Rf=On(String.prototype.toLowerCase),Uv=On(String.prototype.toString),Vue=On(String.prototype.match),dl=On(String.prototype.replace),Wue=On(String.prototype.indexOf),Kue=On(String.prototype.trim),tn=On(RegExp.prototype.test),hl=Jue(TypeError);function On(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Mg(t,e,n)}}function Jue(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ng(t,r)}}function Ye(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rf;PI&&PI(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){const i=r(a);i!==a&&(que(e)||(e[n]=i),a=i)}t[a]=!0}return t}function Ls(t){const e=I2(null);for(const[r,n]of x2(t))S2(t,r)!==void 0&&(e[r]=n);return e}function ef(t,e){for(;t!==null;){const n=S2(t,e);if(n){if(n.get)return On(n.get);if(typeof n.value=="function")return On(n.value)}t=Hue(t)}function r(n){return console.warn("fallback value for",n),null}return r}const DI=Nr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bv=Nr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zv=Nr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yue=Nr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gv=Nr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Que=Nr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jI=Nr(["#text"]),LI=Nr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qv=Nr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),MI=Nr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tf=Nr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xue=qn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zue=qn(/<%[\w\W]*|[\w\W]*%>/gm),ece=qn(/\${[\w\W]*}/gm),tce=qn(/^data-[\-\w.\u00B7-\uFFFF]/),rce=qn(/^aria-[\-\w]+$/),E2=qn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nce=qn(/^(?:\w+script|data):/i),ace=qn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),A2=qn(/^html$/i);var NI=Object.freeze({__proto__:null,MUSTACHE_EXPR:Xue,ERB_EXPR:Zue,TMPLIT_EXPR:ece,DATA_ATTR:tce,ARIA_ATTR:rce,IS_ALLOWED_URI:E2,IS_SCRIPT_OR_DATA:nce,ATTR_WHITESPACE:ace,DOCTYPE_NAME:A2});const ice=function(){return typeof window>"u"?null:window},sce=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function O2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ice();const e=De=>O2(De);if(e.version="3.0.6",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:r}=t;const n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:h}=t,p=l.prototype,y=ef(p,"cloneNode"),k=ef(p,"nextSibling"),$=ef(p,"childNodes"),b=ef(p,"parentNode");if(typeof s=="function"){const De=r.createElement("template");De.content&&De.content.ownerDocument&&(r=De.content.ownerDocument)}let _,O="";const{implementation:R,createNodeIterator:P,createDocumentFragment:T,getElementsByTagName:G}=r,{importNode:v}=n;let w={};e.isSupported=typeof x2=="function"&&typeof b=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:x,ERB_EXPR:j,TMPLIT_EXPR:C,DATA_ATTR:B,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:F}=NI;let{IS_ALLOWED_URI:U}=NI,z=null;const H=Ye({},[...DI,...Bv,...zv,...Gv,...jI]);let q=null;const g=Ye({},[...LI,...qv,...MI,...tf]);let A=Object.seal(I2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),M=null,W=null,Z=!0,N=!0,ee=!1,ne=!0,m=!1,E=!1,D=!1,S=!1,I=!1,L=!1,Q=!1,re=!0,ue=!1;const he="user-content-";let ce=!0,pe=!1,Y={},ie=null;const be=Ye({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ye=null;const ve=Ye({},["audio","video","img","source","image","track"]);let Ie=null;const Le=Ye({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lt="http://www.w3.org/1998/Math/MathML",ut="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml";let et=ke,rr=!1,en=null;const Ba=Ye({},[lt,ut,ke],Uv);let Mt=null;const gn=["application/xhtml+xml","text/html"],tc="text/html";let Qt=null,Es=null;const _j=r.createElement("form"),Aw=function(ae){return ae instanceof RegExp||ae instanceof Function},Ih=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Es&&Es===ae)){if((!ae||typeof ae!="object")&&(ae={}),ae=Ls(ae),Mt=gn.indexOf(ae.PARSER_MEDIA_TYPE)===-1?Mt=tc:Mt=ae.PARSER_MEDIA_TYPE,Qt=Mt==="application/xhtml+xml"?Uv:Rf,z="ALLOWED_TAGS"in ae?Ye({},ae.ALLOWED_TAGS,Qt):H,q="ALLOWED_ATTR"in ae?Ye({},ae.ALLOWED_ATTR,Qt):g,en="ALLOWED_NAMESPACES"in ae?Ye({},ae.ALLOWED_NAMESPACES,Uv):Ba,Ie="ADD_URI_SAFE_ATTR"in ae?Ye(Ls(Le),ae.ADD_URI_SAFE_ATTR,Qt):Le,ye="ADD_DATA_URI_TAGS"in ae?Ye(Ls(ve),ae.ADD_DATA_URI_TAGS,Qt):ve,ie="FORBID_CONTENTS"in ae?Ye({},ae.FORBID_CONTENTS,Qt):be,M="FORBID_TAGS"in ae?Ye({},ae.FORBID_TAGS,Qt):{},W="FORBID_ATTR"in ae?Ye({},ae.FORBID_ATTR,Qt):{},Y="USE_PROFILES"in ae?ae.USE_PROFILES:!1,Z=ae.ALLOW_ARIA_ATTR!==!1,N=ae.ALLOW_DATA_ATTR!==!1,ee=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=ae.ALLOW_SELF_CLOSE_IN_ATTR!==!1,m=ae.SAFE_FOR_TEMPLATES||!1,E=ae.WHOLE_DOCUMENT||!1,I=ae.RETURN_DOM||!1,L=ae.RETURN_DOM_FRAGMENT||!1,Q=ae.RETURN_TRUSTED_TYPE||!1,S=ae.FORCE_BODY||!1,re=ae.SANITIZE_DOM!==!1,ue=ae.SANITIZE_NAMED_PROPS||!1,ce=ae.KEEP_CONTENT!==!1,pe=ae.IN_PLACE||!1,U=ae.ALLOWED_URI_REGEXP||E2,et=ae.NAMESPACE||ke,A=ae.CUSTOM_ELEMENT_HANDLING||{},ae.CUSTOM_ELEMENT_HANDLING&&Aw(ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&Aw(ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&typeof ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(A.allowCustomizedBuiltInElements=ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),m&&(N=!1),L&&(I=!0),Y&&(z=Ye({},[...jI]),q=[],Y.html===!0&&(Ye(z,DI),Ye(q,LI)),Y.svg===!0&&(Ye(z,Bv),Ye(q,qv),Ye(q,tf)),Y.svgFilters===!0&&(Ye(z,zv),Ye(q,qv),Ye(q,tf)),Y.mathMl===!0&&(Ye(z,Gv),Ye(q,MI),Ye(q,tf))),ae.ADD_TAGS&&(z===H&&(z=Ls(z)),Ye(z,ae.ADD_TAGS,Qt)),ae.ADD_ATTR&&(q===g&&(q=Ls(q)),Ye(q,ae.ADD_ATTR,Qt)),ae.ADD_URI_SAFE_ATTR&&Ye(Ie,ae.ADD_URI_SAFE_ATTR,Qt),ae.FORBID_CONTENTS&&(ie===be&&(ie=Ls(ie)),Ye(ie,ae.FORBID_CONTENTS,Qt)),ce&&(z["#text"]=!0),E&&Ye(z,["html","head","body"]),z.table&&(Ye(z,["tbody"]),delete M.tbody),ae.TRUSTED_TYPES_POLICY){if(typeof ae.TRUSTED_TYPES_POLICY.createHTML!="function")throw hl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ae.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw hl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=ae.TRUSTED_TYPES_POLICY,O=_.createHTML("")}else _===void 0&&(_=sce(h,a)),_!==null&&typeof O=="string"&&(O=_.createHTML(""));Nr&&Nr(ae),Es=ae}},Ow=Ye({},["mi","mo","mn","ms","mtext"]),kw=Ye({},["foreignobject","desc","title","annotation-xml"]),$j=Ye({},["title","style","font","a","script"]),rc=Ye({},Bv);Ye(rc,zv),Ye(rc,Yue);const Eh=Ye({},Gv);Ye(Eh,Que);const xj=function(ae){let _e=b(ae);(!_e||!_e.tagName)&&(_e={namespaceURI:et,tagName:"template"});const Ce=Rf(ae.tagName),St=Rf(_e.tagName);return en[ae.namespaceURI]?ae.namespaceURI===ut?_e.namespaceURI===ke?Ce==="svg":_e.namespaceURI===lt?Ce==="svg"&&(St==="annotation-xml"||Ow[St]):!!rc[Ce]:ae.namespaceURI===lt?_e.namespaceURI===ke?Ce==="math":_e.namespaceURI===ut?Ce==="math"&&kw[St]:!!Eh[Ce]:ae.namespaceURI===ke?_e.namespaceURI===ut&&!kw[St]||_e.namespaceURI===lt&&!Ow[St]?!1:!Eh[Ce]&&($j[Ce]||!rc[Ce]):!!(Mt==="application/xhtml+xml"&&en[ae.namespaceURI]):!1},Ei=function(ae){fl(e.removed,{element:ae});try{ae.parentNode.removeChild(ae)}catch{ae.remove()}},Ah=function(ae,_e){try{fl(e.removed,{attribute:_e.getAttributeNode(ae),from:_e})}catch{fl(e.removed,{attribute:null,from:_e})}if(_e.removeAttribute(ae),ae==="is"&&!q[ae])if(I||L)try{Ei(_e)}catch{}else try{_e.setAttribute(ae,"")}catch{}},Rw=function(ae){let _e=null,Ce=null;if(S)ae="<remove></remove>"+ae;else{const ur=Vue(ae,/^[\r\n\t ]+/);Ce=ur&&ur[0]}Mt==="application/xhtml+xml"&&et===ke&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");const St=_?_.createHTML(ae):ae;if(et===ke)try{_e=new d().parseFromString(St,Mt)}catch{}if(!_e||!_e.documentElement){_e=R.createDocument(et,"template",null);try{_e.documentElement.innerHTML=rr?O:St}catch{}}const lr=_e.body||_e.documentElement;return ae&&Ce&&lr.insertBefore(r.createTextNode(Ce),lr.childNodes[0]||null),et===ke?G.call(_e,E?"html":"body")[0]:E?_e.documentElement:lr},Tw=function(ae){return P.call(ae.ownerDocument||ae,ae,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},Sj=function(ae){return ae instanceof f&&(typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof c)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"||typeof ae.hasChildNodes!="function")},Pw=function(ae){return typeof o=="function"&&ae instanceof o},ya=function(ae,_e,Ce){w[ae]&&Zc(w[ae],St=>{St.call(e,_e,Ce,Es)})},Cw=function(ae){let _e=null;if(ya("beforeSanitizeElements",ae,null),Sj(ae))return Ei(ae),!0;const Ce=Qt(ae.nodeName);if(ya("uponSanitizeElement",ae,{tagName:Ce,allowedTags:z}),ae.hasChildNodes()&&!Pw(ae.firstElementChild)&&tn(/<[/\w]/g,ae.innerHTML)&&tn(/<[/\w]/g,ae.textContent))return Ei(ae),!0;if(!z[Ce]||M[Ce]){if(!M[Ce]&&jw(Ce)&&(A.tagNameCheck instanceof RegExp&&tn(A.tagNameCheck,Ce)||A.tagNameCheck instanceof Function&&A.tagNameCheck(Ce)))return!1;if(ce&&!ie[Ce]){const St=b(ae)||ae.parentNode,lr=$(ae)||ae.childNodes;if(lr&&St){const ur=lr.length;for(let Ur=ur-1;Ur>=0;--Ur)St.insertBefore(y(lr[Ur],!0),k(ae))}}return Ei(ae),!0}return ae instanceof l&&!xj(ae)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&tn(/<\/no(script|embed|frames)/i,ae.innerHTML)?(Ei(ae),!0):(m&&ae.nodeType===3&&(_e=ae.textContent,Zc([x,j,C],St=>{_e=dl(_e,St," ")}),ae.textContent!==_e&&(fl(e.removed,{element:ae.cloneNode()}),ae.textContent=_e)),ya("afterSanitizeElements",ae,null),!1)},Dw=function(ae,_e,Ce){if(re&&(_e==="id"||_e==="name")&&(Ce in r||Ce in _j))return!1;if(!(N&&!W[_e]&&tn(B,_e))){if(!(Z&&tn(X,_e))){if(!q[_e]||W[_e]){if(!(jw(ae)&&(A.tagNameCheck instanceof RegExp&&tn(A.tagNameCheck,ae)||A.tagNameCheck instanceof Function&&A.tagNameCheck(ae))&&(A.attributeNameCheck instanceof RegExp&&tn(A.attributeNameCheck,_e)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(_e))||_e==="is"&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&tn(A.tagNameCheck,Ce)||A.tagNameCheck instanceof Function&&A.tagNameCheck(Ce))))return!1}else if(!Ie[_e]){if(!tn(U,dl(Ce,F,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&ae!=="script"&&Wue(Ce,"data:")===0&&ye[ae])){if(!(ee&&!tn(K,dl(Ce,F,"")))){if(Ce)return!1}}}}}}return!0},jw=function(ae){return ae.indexOf("-")>0},Lw=function(ae){ya("beforeSanitizeAttributes",ae,null);const{attributes:_e}=ae;if(!_e)return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};let St=_e.length;for(;St--;){const lr=_e[St],{name:ur,namespaceURI:Ur,value:Ai}=lr,Jo=Qt(ur);let Br=ur==="value"?Ai:Kue(Ai);if(Ce.attrName=Jo,Ce.attrValue=Br,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,ya("uponSanitizeAttribute",ae,Ce),Br=Ce.attrValue,Ce.forceKeepAttr||(Ah(ur,ae),!Ce.keepAttr))continue;if(!ne&&tn(/\/>/i,Br)){Ah(ur,ae);continue}m&&Zc([x,j,C],Nw=>{Br=dl(Br,Nw," ")});const Mw=Qt(ae.nodeName);if(Dw(Mw,Jo,Br)){if(ue&&(Jo==="id"||Jo==="name")&&(Ah(ur,ae),Br=he+Br),_&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Ur)switch(h.getAttributeType(Mw,Jo)){case"TrustedHTML":{Br=_.createHTML(Br);break}case"TrustedScriptURL":{Br=_.createScriptURL(Br);break}}try{Ur?ae.setAttributeNS(Ur,ur,Br):ae.setAttribute(ur,Br),CI(e.removed)}catch{}}}ya("afterSanitizeAttributes",ae,null)},Ij=function De(ae){let _e=null;const Ce=Tw(ae);for(ya("beforeSanitizeShadowDOM",ae,null);_e=Ce.nextNode();)ya("uponSanitizeShadowNode",_e,null),!Cw(_e)&&(_e.content instanceof i&&De(_e.content),Lw(_e));ya("afterSanitizeShadowDOM",ae,null)};return e.sanitize=function(De){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,Ce=null,St=null,lr=null;if(rr=!De,rr&&(De="<!-->"),typeof De!="string"&&!Pw(De))if(typeof De.toString=="function"){if(De=De.toString(),typeof De!="string")throw hl("dirty is not a string, aborting")}else throw hl("toString is not a function");if(!e.isSupported)return De;if(D||Ih(ae),e.removed=[],typeof De=="string"&&(pe=!1),pe){if(De.nodeName){const Ai=Qt(De.nodeName);if(!z[Ai]||M[Ai])throw hl("root node is forbidden and cannot be sanitized in-place")}}else if(De instanceof o)_e=Rw("<!---->"),Ce=_e.ownerDocument.importNode(De,!0),Ce.nodeType===1&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?_e=Ce:_e.appendChild(Ce);else{if(!I&&!m&&!E&&De.indexOf("<")===-1)return _&&Q?_.createHTML(De):De;if(_e=Rw(De),!_e)return I?null:Q?O:""}_e&&S&&Ei(_e.firstChild);const ur=Tw(pe?De:_e);for(;St=ur.nextNode();)Cw(St)||(St.content instanceof i&&Ij(St.content),Lw(St));if(pe)return De;if(I){if(L)for(lr=T.call(_e.ownerDocument);_e.firstChild;)lr.appendChild(_e.firstChild);else lr=_e;return(q.shadowroot||q.shadowrootmode)&&(lr=v.call(n,lr,!0)),lr}let Ur=E?_e.outerHTML:_e.innerHTML;return E&&z["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&tn(A2,_e.ownerDocument.doctype.name)&&(Ur="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+Ur),m&&Zc([x,j,C],Ai=>{Ur=dl(Ur,Ai," ")}),_&&Q?_.createHTML(Ur):Ur},e.setConfig=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ih(De),D=!0},e.clearConfig=function(){Es=null,D=!1},e.isValidAttribute=function(De,ae,_e){Es||Ih({});const Ce=Qt(De),St=Qt(ae);return Dw(Ce,St,_e)},e.addHook=function(De,ae){typeof ae=="function"&&(w[De]=w[De]||[],fl(w[De],ae))},e.removeHook=function(De){if(w[De])return CI(w[De])},e.removeHooks=function(De){w[De]&&(w[De]=[])},e.removeAllHooks=function(){w={}},e}var oce=O2();function j0(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let xi=j0();function k2(t){xi=t}const R2=/[&<>"']/,lce=new RegExp(R2.source,"g"),T2=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,uce=new RegExp(T2.source,"g"),cce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},FI=t=>cce[t];function pr(t,e){if(e){if(R2.test(t))return t.replace(lce,FI)}else if(T2.test(t))return t.replace(uce,FI);return t}const fce=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function P2(t){return t.replace(fce,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const dce=/(^|[^\[])\^/g;function mt(t,e){t=typeof t=="string"?t:t.source,e=e||"";const r={replace:(n,a)=>(a=a.source||a,a=a.replace(dce,"$1"),t=t.replace(n,a),r),getRegex:()=>new RegExp(t,e)};return r}const hce=/[^\w:]/g,pce=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function UI(t,e,r){if(t){let n;try{n=decodeURIComponent(P2(r)).replace(hce,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!pce.test(r)&&(r=yce(e,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const rf={},vce=/^[^:]+:\/*[^/]*$/,mce=/^([^:]+:)[\s\S]*$/,gce=/^([^:]+:\/*[^/]*)[\s\S]*$/;function yce(t,e){rf[" "+t]||(vce.test(t)?rf[" "+t]=t+"/":rf[" "+t]=Tf(t,"/",!0)),t=rf[" "+t];const r=t.indexOf(":")===-1;return e.substring(0,2)==="//"?r?e:t.replace(mce,"$1")+e:e.charAt(0)==="/"?r?e:t.replace(gce,"$1")+e:t+e}const cd={exec:function(){}};function BI(t,e){const r=t.replace(/\|/g,(i,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let a=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(/\\\|/g,"|");return n}function Tf(t,e,r){const n=t.length;if(n===0)return"";let a=0;for(;a<n;){const i=t.charAt(n-a-1);if(i===e&&!r)a++;else if(i!==e&&r)a++;else break}return t.slice(0,n-a)}function bce(t,e){if(t.indexOf(e[1])===-1)return-1;const r=t.length;let n=0,a=0;for(;a<r;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])n++;else if(t[a]===e[1]&&(n--,n<0))return a;return-1}function wce(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function zI(t,e,r,n){const a=e.href,i=e.title?pr(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:a,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:a,title:i,text:pr(s)}}function _ce(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(a=>{const i=a.match(/^\s+/);if(i===null)return a;const[s]=i;return s.length>=n.length?a.slice(n.length):a}).join(`
`)}class fd{constructor(e){this.options=e||xi}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Tf(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],a=_ce(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:a}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const a=Tf(n,"#");(this.options.pedantic||!a||/ $/.test(a))&&(n=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){const n=r[0].replace(/^ *>[ \t]?/gm,""),a=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=a,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n,a,i,s,o,l,u,c,f,d,h,p,y=r[1].trim();const k=y.length>1,$={type:"list",raw:"",ordered:k,start:k?+y.slice(0,-1):"",loose:!1,items:[]};y=k?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=k?y:"[*+-]");const b=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(r=b.exec(e))||this.rules.block.hr.test(e)));){if(n=r[0],e=e.substring(n.length),c=r[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),f=e.split(`
`,1)[0],this.options.pedantic?(s=2,h=c.trimLeft()):(s=r[2].search(/[^ ]/),s=s>4?1:s,h=c.slice(s),s+=r[1].length),l=!1,!c&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),p=!0),!p){const O=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),P=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(P.test(f)||T.test(f)||O.test(f)||R.test(e)));){if(f.search(/[^ ]/)>=s||!f.trim())h+=`
`+f.slice(s);else{if(l||c.search(/[^ ]/)>=4||P.test(c)||T.test(c)||R.test(c))break;h+=`
`+f}!l&&!f.trim()&&(l=!0),n+=d+`
`,e=e.substring(d.length+1),c=f.slice(s)}}$.loose||(u?$.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(a=/^\[[ xX]\] /.exec(h),a&&(i=a[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!a,checked:i,loose:!1,text:h}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=h.trimRight(),$.raw=$.raw.trimRight();const _=$.items.length;for(o=0;o<_;o++)if(this.lexer.state.top=!1,$.items[o].tokens=this.lexer.blockTokens($.items[o].text,[]),!$.loose){const O=$.items[o].tokens.filter(P=>P.type==="space"),R=O.length>0&&O.some(P=>/\n.*\n/.test(P.raw));$.loose=R}if($.loose)for(o=0;o<_;o++)$.items[o].loose=!0;return $}}html(e){const r=this.rules.block.html.exec(e);if(r){const n={type:"html",block:!0,raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){const a=this.options.sanitizer?this.options.sanitizer(r[0]):pr(r[0]);n.type="paragraph",n.text=a,n.tokens=this.lexer.inline(a)}return n}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),a=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:a,title:i}}}table(e){const r=this.rules.block.table.exec(e);if(r){const n={type:"table",header:BI(r[1]).map(a=>({text:a})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=r[0];let a=n.align.length,i,s,o,l;for(i=0;i<a;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(a=n.rows.length,i=0;i<a;i++)n.rows[i]=BI(n.rows[i],n.header.length).map(u=>({text:u}));for(a=n.header.length,s=0;s<a;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(a=n.rows.length,s=0;s<a;s++)for(l=n.rows[s],o=0;o<l.length;o++)l[o].tokens=this.lexer.inline(l[o].text);return n}}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:pr(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):pr(r[0]):r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=Tf(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=bce(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let a=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);s&&(a=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(n)?a=a.slice(1):a=a.slice(1,-1)),zI(r,{href:a&&a.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let a=(n[2]||n[1]).replace(/\s+/g," ");if(a=r[a.toLowerCase()],!a){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return zI(n,a,n[0],this.lexer)}}emStrong(e,r,n=""){let a=this.rules.inline.emStrong.lDelim.exec(e);if(!a||a[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=a[0].length-1;let o,l,u=s,c=0;const f=a[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,r=r.slice(-1*e.length+s);(a=f.exec(r))!=null;){if(o=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!o)continue;if(l=o.length,a[3]||a[4]){u+=l;continue}else if((a[5]||a[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const d=e.slice(0,s+a.index+l+1);if(Math.min(s,l)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const a=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return a&&i&&(n=n.substring(1,n.length-1)),n=pr(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e,r){const n=this.rules.inline.autolink.exec(e);if(n){let a,i;return n[2]==="@"?(a=pr(this.options.mangle?r(n[1]):n[1]),i="mailto:"+a):(a=pr(n[1]),i=a),{type:"link",raw:n[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}url(e,r){let n;if(n=this.rules.inline.url.exec(e)){let a,i;if(n[2]==="@")a=pr(this.options.mangle?r(n[0]):n[0]),i="mailto:"+a;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(s!==n[0]);a=pr(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e,r){const n=this.rules.inline.text.exec(e);if(n){let a;return this.lexer.state.inRawBlock?a=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):pr(n[0]):n[0]:a=pr(this.options.smartypants?r(n[0]):n[0]),{type:"text",raw:n[0],text:a}}}}const je={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cd,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};je._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;je._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;je.def=mt(je.def).replace("label",je._label).replace("title",je._title).getRegex();je.bullet=/(?:[*+-]|\d{1,9}[.)])/;je.listItemStart=mt(/^( *)(bull) */).replace("bull",je.bullet).getRegex();je.list=mt(je.list).replace(/bull/g,je.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+je.def.source+")").getRegex();je._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";je._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;je.html=mt(je.html,"i").replace("comment",je._comment).replace("tag",je._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();je.lheading=mt(je.lheading).replace(/bull/g,je.bullet).getRegex();je.paragraph=mt(je._paragraph).replace("hr",je.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",je._tag).getRegex();je.blockquote=mt(je.blockquote).replace("paragraph",je.paragraph).getRegex();je.normal={...je};je.gfm={...je.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};je.gfm.table=mt(je.gfm.table).replace("hr",je.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",je._tag).getRegex();je.gfm.paragraph=mt(je._paragraph).replace("hr",je.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",je.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",je._tag).getRegex();je.pedantic={...je.normal,html:mt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",je._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mt(je.normal._paragraph).replace("hr",je.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",je.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ae={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cd,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cd,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Ae._punctuation="\\p{P}$+<=>`^|~";Ae.punctuation=mt(Ae.punctuation,"u").replace(/punctuation/g,Ae._punctuation).getRegex();Ae.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Ae.anyPunctuation=/\\[punct]/g;Ae._escapes=/\\([punct])/g;Ae._comment=mt(je._comment).replace("(?:-->|$)","-->").getRegex();Ae.emStrong.lDelim=mt(Ae.emStrong.lDelim,"u").replace(/punct/g,Ae._punctuation).getRegex();Ae.emStrong.rDelimAst=mt(Ae.emStrong.rDelimAst,"gu").replace(/punct/g,Ae._punctuation).getRegex();Ae.emStrong.rDelimUnd=mt(Ae.emStrong.rDelimUnd,"gu").replace(/punct/g,Ae._punctuation).getRegex();Ae.anyPunctuation=mt(Ae.anyPunctuation,"gu").replace(/punct/g,Ae._punctuation).getRegex();Ae._escapes=mt(Ae._escapes,"gu").replace(/punct/g,Ae._punctuation).getRegex();Ae._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ae._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ae.autolink=mt(Ae.autolink).replace("scheme",Ae._scheme).replace("email",Ae._email).getRegex();Ae._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ae.tag=mt(Ae.tag).replace("comment",Ae._comment).replace("attribute",Ae._attribute).getRegex();Ae._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ae._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ae._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ae.link=mt(Ae.link).replace("label",Ae._label).replace("href",Ae._href).replace("title",Ae._title).getRegex();Ae.reflink=mt(Ae.reflink).replace("label",Ae._label).replace("ref",je._label).getRegex();Ae.nolink=mt(Ae.nolink).replace("ref",je._label).getRegex();Ae.reflinkSearch=mt(Ae.reflinkSearch,"g").replace("reflink",Ae.reflink).replace("nolink",Ae.nolink).getRegex();Ae.normal={...Ae};Ae.pedantic={...Ae.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ae._label).getRegex(),reflink:mt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ae._label).getRegex()};Ae.gfm={...Ae.normal,escape:mt(Ae.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ae.gfm.url=mt(Ae.gfm.url,"i").replace("email",Ae.gfm._extended_email).getRegex();Ae.breaks={...Ae.gfm,br:mt(Ae.br).replace("{2,}","*").getRegex(),text:mt(Ae.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function $ce(t){return t.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function GI(t){let e="",r,n;const a=t.length;for(r=0;r<a;r++)n=t.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class sa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xi,this.options.tokenizer=this.options.tokenizer||new fd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:je.normal,inline:Ae.normal};this.options.pedantic?(r.block=je.pedantic,r.inline=Ae.pedantic):this.options.gfm&&(r.block=je.gfm,this.options.breaks?r.inline=Ae.breaks:r.inline=Ae.gfm),this.tokenizer.rules=r}static get rules(){return{block:je,inline:Ae}}static lex(e,r){return new sa(r).lex(e)}static lexInline(e,r){return new sa(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,u)=>l+"    ".repeat(u.length));let n,a,i,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+n.raw,a.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+n.raw,a.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){a=r[r.length-1],s&&a.type==="paragraph"?(a.raw+=`
`+n.raw,a.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(n),s=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+n.raw,a.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,a,i,s=e,o,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),a=r[r.length-1],a&&n.type==="text"&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),a=r[r.length-1],a&&n.type==="text"&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,s,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e,GI)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,GI))){e=e.substring(n.raw.length),r.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(h){d=h.call({lexer:this},f),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(i=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(i,$ce)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,a=r[r.length-1],a&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}}class xo{constructor(e){this.options=e||xi}code(e,r,n){const a=(r||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,a);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,a?'<pre><code class="'+this.options.langPrefix+pr(a)+'">'+(n?e:pr(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:pr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,r){return e}heading(e,r,n,a){if(this.options.headerIds){const i=this.options.headerPrefix+a.slug(n);return`<h${r} id="${i}">${e}</h${r}>
`}return`<h${r}>${e}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,r,n){const a=r?"ol":"ul",i=r&&n!==1?' start="'+n+'"':"";return"<"+a+i+`>
`+e+"</"+a+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,r,n){if(e=UI(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let a='<a href="'+e+'"';return r&&(a+=' title="'+r+'"'),a+=">"+n+"</a>",a}image(e,r,n){if(e=UI(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=this.options.xhtml?"/>":">",a}text(e){return e}}class L0{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,n){return""+n}image(e,r,n){return""+n}br(){return""}}class M0{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,r){let n=e,a=0;if(this.seen.hasOwnProperty(n)){a=this.seen[e];do a++,n=e+"-"+a;while(this.seen.hasOwnProperty(n))}return r||(this.seen[e]=a,this.seen[n]=0),n}slug(e,r={}){const n=this.serialize(e);return this.getNextSafeSlug(n,r.dryrun)}}class oa{constructor(e){this.options=e||xi,this.options.renderer=this.options.renderer||new xo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new L0,this.slugger=new M0}static parse(e,r){return new oa(r).parse(e)}static parseInline(e,r){return new oa(r).parseInline(e)}parse(e,r=!0){let n="",a,i,s,o,l,u,c,f,d,h,p,y,k,$,b,_,O,R,P;const T=e.length;for(a=0;a<T;a++){if(h=e[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(P=this.options.extensions.renderers[h.type].call({parser:this},h),P!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){n+=P||"";continue}switch(h.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(h.tokens),h.depth,P2(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(f="",c="",o=h.header.length,i=0;i<o;i++)c+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(f+=this.renderer.tablerow(c),d="",o=h.rows.length,i=0;i<o;i++){for(u=h.rows[i],c="",l=u.length,s=0;s<l;s++)c+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:h.align[s]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(h.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(p=h.ordered,y=h.start,k=h.loose,o=h.items.length,d="",i=0;i<o;i++)b=h.items[i],_=b.checked,O=b.task,$="",b.task&&(R=this.renderer.checkbox(_),k?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=R+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=R+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:R}):$+=R),$+=this.parse(b.tokens,k),d+=this.renderer.listitem($,O,_);n+=this.renderer.list(d,p,y);continue}case"html":{n+=this.renderer.html(h.text,h.block);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(d=h.tokens?this.parseInline(h.tokens):h.text;a+1<T&&e[a+1].type==="text";)h=e[++a],d+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);n+=r?this.renderer.paragraph(d):d;continue}default:{const G='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(G);return}else throw new Error(G)}}}return n}parseInline(e,r){r=r||this.renderer;let n="",a,i,s;const o=e.length;for(a=0;a<o;a++){if(i=e[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=s||"";continue}switch(i.type){case"escape":{n+=r.text(i.text);break}case"html":{n+=r.html(i.text);break}case"link":{n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break}case"image":{n+=r.image(i.href,i.title,i.text);break}case"strong":{n+=r.strong(this.parseInline(i.tokens,r));break}case"em":{n+=r.em(this.parseInline(i.tokens,r));break}case"codespan":{n+=r.codespan(i.text);break}case"br":{n+=r.br();break}case"del":{n+=r.del(this.parseInline(i.tokens,r));break}case"text":{n+=r.text(i.text);break}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return n}}class ql{constructor(e){this.options=e||xi}preprocess(e){return e}postprocess(e){return e}}Ar(ql,"passThroughHooks",new Set(["preprocess","postprocess"]));var gu,Fg,pd,C2;class xce{constructor(...e){Oh(this,gu);Oh(this,pd);Ar(this,"defaults",j0());Ar(this,"options",this.setOptions);Ar(this,"parse",nc(this,gu,Fg).call(this,sa.lex,oa.parse));Ar(this,"parseInline",nc(this,gu,Fg).call(this,sa.lexInline,oa.parseInline));Ar(this,"Parser",oa);Ar(this,"parser",oa.parse);Ar(this,"Renderer",xo);Ar(this,"TextRenderer",L0);Ar(this,"Lexer",sa);Ar(this,"lexer",sa.lex);Ar(this,"Tokenizer",fd);Ar(this,"Slugger",M0);Ar(this,"Hooks",ql);this.use(...e)}walkTokens(e,r){let n=[];for(const a of e)switch(n=n.concat(r.call(this,a)),a.type){case"table":{for(const i of a.header)n=n.concat(this.walkTokens(i.tokens,r));for(const i of a.rows)for(const s of i)n=n.concat(this.walkTokens(s.tokens,r));break}case"list":{n=n.concat(this.walkTokens(a.items,r));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{n=n.concat(this.walkTokens(a[i],r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const a={...n};if(a.async=this.defaults.async||a.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=r.renderers[i.name];s?r.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[i.level]?r[i.level].unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),a.extensions=r),n.renderer){const i=this.defaults.renderer||new xo(this.defaults);for(const s in n.renderer){const o=i[s];i[s]=(...l)=>{let u=n.renderer[s].apply(i,l);return u===!1&&(u=o.apply(i,l)),u}}a.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new fd(this.defaults);for(const s in n.tokenizer){const o=i[s];i[s]=(...l)=>{let u=n.tokenizer[s].apply(i,l);return u===!1&&(u=o.apply(i,l)),u}}a.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new ql;for(const s in n.hooks){const o=i[s];ql.passThroughHooks.has(s)?i[s]=l=>{if(this.defaults.async)return Promise.resolve(n.hooks[s].call(i,l)).then(c=>o.call(i,c));const u=n.hooks[s].call(i,l);return o.call(i,u)}:i[s]=(...l)=>{let u=n.hooks[s].apply(i,l);return u===!1&&(u=o.apply(i,l)),u}}a.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens;a.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}gu=new WeakSet,Fg=function(e,r){return(n,a,i)=>{typeof a=="function"&&(i=a,a=null);const s={...a};a={...this.defaults,...s};const o=nc(this,pd,C2).call(this,a.silent,a.async,i);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(wce(a,i),a.hooks&&(a.hooks.options=a),i){const l=a.highlight;let u;try{a.hooks&&(n=a.hooks.preprocess(n)),u=e(n,a)}catch(d){return o(d)}const c=d=>{let h;if(!d)try{a.walkTokens&&this.walkTokens(u,a.walkTokens),h=r(u,a),a.hooks&&(h=a.hooks.postprocess(h))}catch(p){d=p}return a.highlight=l,d?o(d):i(null,h)};if(!l||l.length<3||(delete a.highlight,!u.length))return c();let f=0;this.walkTokens(u,d=>{d.type==="code"&&(f++,setTimeout(()=>{l(d.text,d.lang,(h,p)=>{if(h)return c(h);p!=null&&p!==d.text&&(d.text=p,d.escaped=!0),f--,f===0&&c()})},0))}),f===0&&c();return}if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(l=>e(l,a)).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>r(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(o);try{a.hooks&&(n=a.hooks.preprocess(n));const l=e(n,a);a.walkTokens&&this.walkTokens(l,a.walkTokens);let u=r(l,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(l){return o(l)}}},pd=new WeakSet,C2=function(e,r,n){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+pr(a.message+"",!0)+"</pre>";if(r)return Promise.resolve(i);if(n){n(null,i);return}return i}if(r)return Promise.reject(a);if(n){n(a);return}throw a}};const is=new xce(xi);function vt(t,e,r){return is.parse(t,e,r)}vt.options=vt.setOptions=function(t){return is.setOptions(t),vt.defaults=is.defaults,k2(vt.defaults),vt};vt.getDefaults=j0;vt.defaults=xi;vt.use=function(...t){return is.use(...t),vt.defaults=is.defaults,k2(vt.defaults),vt};vt.walkTokens=function(t,e){return is.walkTokens(t,e)};vt.parseInline=is.parseInline;vt.Parser=oa;vt.parser=oa.parse;vt.Renderer=xo;vt.TextRenderer=L0;vt.Lexer=sa;vt.lexer=sa.lex;vt.Tokenizer=fd;vt.Slugger=M0;vt.Hooks=ql;vt.parse=vt;vt.options;vt.setOptions;vt.use;vt.walkTokens;vt.parseInline;oa.parse;sa.lex;class Ug extends pn{constructor(e,r){super(`Service '${e}' failed booting`,{cause:r})}}let N0=null;function D2(){return N0??Sce()}function Sce(){return Ve(Ole(),t=>{N0=t,Hu(t)})}function Ice(){return N0??D2()}function Ece(t,e){return D2(),Dle(t,e)()}function Ua(t){var e;return J(e=class extends qo{usesStore(){return!0}getName(){return t.name??null}getInitialState(){return typeof t.initialState=="function"?t.initialState():Object.entries(t.initialState).reduce((r,n)=>{let[a,i]=n;try{i=structuredClone(i)}catch{console.warn(`Could not clone '${a}' state from ${this.getName()} service, this may cause problems if you're using multiple instances of the service (for example, in unit tests).
To fix this problem, declare your initialState as a function instead.`)}return r[a]=i,r},{})}getComputedStateDefinition(){return t.computed??{}}serializePersistedState(r){var n;return((n=t.serialize)==null?void 0:n.call(t,r))??r}},"persist",t.persist??[]),e}let qo=class extends Yf{constructor(){super(),J(this,"_name",void 0),J(this,"_booted",void 0),J(this,"_computedStateKeys",void 0),J(this,"_store",void 0);const e=this.getComputedStateDefinition();this._name=this.getName()??new.target.name,this._booted=new vi,this._computedStateKeys=new Set(Object.keys(e)),this._store=this.usesStore()&&Ece(this._name,{state:()=>this.getInitialState(),getters:e})}get booted(){return this._booted}launch(){const e=r=>this._booted.reject(new Ug(this._name,r));try{this.frameworkBoot().then(()=>this.boot()).then(()=>this._booted.resolve()).catch(e)}catch(r){e(r)}return this._booted}hasPersistedState(){return ta.has(this._name)}hasState(e){return!!this._store&&(e in this._store.$state||this._computedStateKeys.has(e))}getState(e){const r=this._store;return e?r?r[e]:void 0:r||{}}setState(e,r){if(!this._store)return;const n=typeof e=="string"?{[e]:r}:e;Object.assign(this._store.$state,n),this.onStateUpdated(n)}__get(e){return this.hasState(e)?this.getState(e):super.__get(e)}__set(e,r){this.setState({[e]:r})}onStateUpdated(e){const r=this.constructor.persist,n=Zf(e,r);if(Qf(n))return;const a=ta.get(this._name);a&&ta.set(this._name,{...a,...this.serializePersistedState(Nn(n))})}usesStore(){return!1}getName(){return null}getInitialState(){return{}}getComputedStateDefinition(){return{}}serializePersistedState(e){return e}async frameworkBoot(){this.initializePersistedState()}async boot(){}initializePersistedState(){const e=this.constructor.persist;if(this.usesStore()&&!Qf(e))if(ta.has(this._name)){const r=ta.require(this._name);this.setState(r)}else ta.set(this._name,Zf(this.getState(),e))}requireStore(){return this._store?this._store:tt(`Failed getting '${this._name}' store`)}};J(qo,"persist",[]);const Ace={Low:-256,Default:0,High:256};let Oce=class extends qo{constructor(){super(...arguments),J(this,"listeners",{})}async boot(){Object.entries(globalThis.__aerogelEvents__??{}).forEach(e=>{let[r,n]=e;return this.on(r,n)})}async emit(e,r){var a;const n=this.listeners[e]??{priorities:[],handlers:{}};for(const i of n.priorities)await Promise.all(((a=n.handlers[i])==null?void 0:a.map(s=>s(r)))??[])}on(e,r,n){const a=typeof r=="function"?{}:r,i=typeof r=="function"?r:n;return this.registerListener(e,a,i),()=>this.off(e,i)}once(e,r,n){let a=null;const i=typeof r=="function"?{}:r,s=typeof r=="function"?r:n;return Ve(()=>a&&this.off(e,a),o=>{a=function(){return o(),s(...arguments)},this.registerListener(e,i,s)})}off(e,r){var i;const n=this.listeners[e];if(!n)return;const a=[...n.priorities];for(const s of a)Dr(n.handlers[s]??[],r),((i=n.handlers[s])==null?void 0:i.length)===0&&(delete n.handlers[s],Dr(n.priorities,s));n.priorities.length===0&&delete this.listeners[e]}registerListener(e,r,n){var o,l,u;const a=r.priority??0;e in this.listeners||(this.listeners[e]={priorities:[],handlers:{}});const i=((o=this.listeners[e])==null?void 0:o.priorities)??tt(`priorities missing for event '${e}'`),s=((l=this.listeners[e])==null?void 0:l.handlers)??tt(`handlers missing for event '${e}'`);i.includes(a)||(i.push(a),i.sort((c,f)=>f-c),s[a]=[]),(u=s[a])==null||u.push(n)}};var qe=Zr(Oce),kce=Ua({name:"app",initialState:{plugins:{},instance:null,environment:Ni.environment,version:Ni.version,sourceUrl:Ni.sourceUrl},computed:{development:t=>t.environment==="development",testing:t=>t.environment==="test"||t.environment==="testing",versionName(t){return this.development?"dev."+Ni.sourceHash.toString().substring(0,7):`v${t.version}`},versionUrl(t){return t.sourceUrl+(this.development?`/tree/${Ni.sourceHash}`:`/releases/tag/${this.versionName}`)}}});let Rce=class extends kce{constructor(){super(...arguments),J(this,"name",Ni.name),J(this,"ready",new vi),J(this,"mounted",new vi)}isReady(){return this.ready.isResolved()}isMounted(){return this.mounted.isResolved()}async whenReady(e){return await this.ready.then(e)}async reload(e){e&&qre(e),location.reload(),await Bre()}plugin(e){return this.plugins[e]??null}service(e){var r;return((r=this.instance)==null?void 0:r.config.globalProperties[e])??null}async boot(){qe.once("application-ready",()=>this.ready.resolve()),qe.once("application-mounted",()=>this.mounted.resolve())}};var bt=Zr(Rce);async function Tce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];bt.setState("plugins",t.reduce((a,i)=>(i.name&&(a[i.name]=i),a),{})),await Promise.all(t.map(a=>a.install(...r))??[])}function Pce(t){return{type:Array,default:t??(()=>[])}}function es(){return{type:Boolean,default:arguments.length>0&&arguments[0]!==void 0&&arguments[0]}}function Ho(){return Pe()}function Cce(t){const e=Pe(),r=de(t);return jr(r,async()=>e.value=await r.value,{immediate:!0}),e}function ss(t,e){const r=Object.values(t);return{type:String,default:e??r[0]??null,validator:n=>r.includes(n)}}function Dce(t){const e=kt(t);return e?Ta(e):void 0}function Yn(t,e){return Dce(t)??tt(e??`Could not resolve '${t}' injection key`)}function gh(t,e){return{type:t,default:e??null}}function Bg(){return{type:Number,default:arguments.length>0&&arguments[0]!==void 0?arguments[0]:null}}function Hl(){return{type:Object,default:arguments.length>0&&arguments[0]!==void 0?arguments[0]:null}}function F0(){return{type:Array,required:!0}}function jce(t){return{type:t,required:!0}}function Lce(){return{type:Number,required:!0}}function yh(){return{type:Object,required:!0}}function So(){return{type:String,required:!0}}function Qe(){return{type:String,default:arguments.length>0&&arguments[0]!==void 0?arguments[0]:null}}var Mce={mounted(t,e){let{value:r}=e;r!==!1&&t.focus()}};const Hv=new WeakMap,Nce={"initial-focus":Mce,measure:{mounted(t,e){let{value:r}=e;const n=typeof r=="function"?r:null,a=()=>{const i=t.getBoundingClientRect();t.style.setProperty("--width",`${i.width}px`),t.style.setProperty("--height",`${i.height}px`),n==null||n({width:i.width,height:i.height})};Hv.set(t,Ve(new ResizeObserver(a)).observe(t)),a()},unmounted(t){var e;(e=Hv.get(t))==null||e.unobserve(t),Hv.delete(t)}}};var Fce={install(t,e){const r={...Nce,...e.directives};for(const[n,a]of Object.entries(r))t.directive(n,a)}};class Uce extends qo{constructor(){super(...arguments),J(this,"cache",void 0)}async get(e){return await(await this.open()).match(e)??null}async store(e,r){await(await this.open()).put(e,r)}async replace(e,r){const n=await this.open();(await n.keys(e)).length!==0&&await n.put(e,r)}async open(){return this.cache=this.cache??Ve(new vi,e=>{caches.open("app").then(r=>e.resolve(r))})}}var Vv=Zr(Uce);const Bce={$app:bt,$events:qe};async function xs(t,e){await Promise.all(Object.entries(e).map(async r=>{let[n,a]=r;await a.launch().catch(i=>{var s,o;return(o=(s=t.config).errorHandler)==null?void 0:o.call(s,i,null,`Failed launching ${n}.`)})})),Object.assign(t.config.globalProperties,e),bt.development&&Object.assign(window,e)}var zce={async install(t,e){const r={...Bce,...e.services};t.use(Ice()),await xs(t,r)}};const dd={Mobile:"mobile",Desktop:"desktop"};function j2(){return globalThis.innerWidth>768?dd.Desktop:dd.Mobile}var Gce=Ua({name:"ui",initialState:{modals:[],snackbars:[],layout:j2()},computed:{mobile:t=>{let{layout:e}=t;return e===dd.Mobile},desktop:t=>{let{layout:e}=t;return e===dd.Desktop}}});const zt={AlertModal:"alert-modal",ConfirmModal:"confirm-modal",ErrorReportModal:"error-report-modal",LoadingModal:"loading-modal",PromptModal:"prompt-modal",Snackbar:"snackbar",StartupCrash:"startup-crash"};class qce extends Gce{constructor(){super(...arguments),J(this,"modalCallbacks",{}),J(this,"components",{})}requireComponent(e){return this.components[e]??tt(`UI Component '${e}' is not defined!`)}alert(e,r){this.openModal(this.requireComponent(zt.AlertModal),typeof r!="string"?{message:e}:{title:e,message:r})}async confirm(e,r,n){const a=typeof r!="string"?{message:e,...r??{}}:{title:e,message:r,...n??{}},i=await this.openModal(this.requireComponent(zt.ConfirmModal),a),s=await i.beforeClose,o=typeof s=="object"?s[0]:s??!1,l=typeof s=="object"?s[1]:Object.entries(a.checkboxes??{}).reduce((u,c)=>{let[f,{default:d}]=c;return{[f]:d??!1,...u}},{});for(const[u,c]of Object.entries(a.checkboxes??{}))if(c.required&&!l[u])return o&&bt.development&&console.warn(`Confirmed confirm modal was suppressed because required '${u}' checkbox was missing`),[!1,l];return"checkboxes"in a?[o,l]:o}async prompt(e,r,n){const a=(n==null?void 0:n.trim)??!0,i=await this.openModal(this.requireComponent(zt.PromptModal),typeof r!="string"?{message:e,...r??{}}:{title:e,message:r,...n??{}}),s=await i.beforeClose;return(a&&typeof s=="string"?s==null?void 0:s.trim():s)??null}async loading(e,r){const n=await this.openModal(this.requireComponent(zt.LoadingModal),typeof e!="string"?{}:{message:e});try{r=typeof(r=typeof e=="string"?r:e)=="function"?Promise.resolve(r()):r;const[a]=await Promise.all([r,da({seconds:1})]);return a}finally{await this.closeModal(n.id)}}showSnackbar(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={id:dn(),properties:{message:e,...r},component:$o(r.component??this.requireComponent(zt.Snackbar))};this.setState("snackbars",this.snackbars.concat(n)),setTimeout(()=>this.hideSnackbar(n.id),5e3)}hideSnackbar(e){this.setState("snackbars",this.snackbars.filter(r=>r.id!==e))}registerComponent(e,r){this.components[e]=r}async openModal(e,r){const n=dn(),a={},i={id:n,properties:r??{},component:$o(e),beforeClose:new Promise(l=>a.willClose=l),afterClose:new Promise(l=>a.closed=l)},s=this.modals.at(-1),o=this.modals.concat(i);return this.modalCallbacks[i.id]=a,this.setState({modals:o}),await fn(),await(s&&qe.emit("hide-modal",{id:s.id})),await Promise.all([s||qe.emit("show-overlays-backdrop"),qe.emit("show-modal",{id:i.id})]),i}async closeModal(e,r){await qe.emit("close-modal",{id:e,result:r})}async boot(){this.watchModalEvents(),this.watchMountedEvent(),this.watchViewportBreakpoints()}watchModalEvents(){qe.on("modal-will-close",e=>{var a,i;let{modal:r,result:n}=e;(i=(a=this.modalCallbacks[r.id])==null?void 0:a.willClose)==null||i.call(a,n),this.modals.length===1&&qe.emit("hide-overlays-backdrop")}),qe.on("modal-closed",async e=>{var i,s;let{modal:r,result:n}=e;this.setState("modals",this.modals.filter(o=>o.id!==r.id)),(s=(i=this.modalCallbacks[r.id])==null?void 0:i.closed)==null||s.call(i,n),delete this.modalCallbacks[r.id];const a=this.modals.at(-1);await(a&&qe.emit("show-modal",{id:a.id}))})}watchMountedEvent(){qe.once("application-mounted",async()=>{if(!globalThis.document||!globalThis.getComputedStyle)return;const e=globalThis.document.getElementById("splash");e&&(globalThis.getComputedStyle(e).opacity!=="0"&&(e.style.opacity="0",await da({ms:600})),e.remove())})}watchViewportBreakpoints(){globalThis.matchMedia&&globalThis.matchMedia("(min-width: 768px)").addEventListener("change",()=>this.setState({layout:j2()}))}}var Dt=Zr(qce);let Hce=class{constructor(e,r){J(this,"locale",void 0),J(this,"fallbackLocale",void 0),this.locale=e,this.fallbackLocale=r}getLocale(){return this.locale}async setLocale(e){this.locale=e}getFallbackLocale(){return this.fallbackLocale}async setFallbackLocale(e){this.fallbackLocale=e}getLocales(){return["en"]}translate(e){return bt.development&&console.warn("Lang provider is missing"),e}translateWithDefault(e,r){return bt.development&&console.warn("Lang provider is missing"),r}};var Vce=Ua({name:"lang",persist:["locale","fallbackLocale"],initialState:{locale:null,locales:["en"],fallbackLocale:"en"}}),Io=Zr(class extends Vce{constructor(){super(),J(this,"provider",void 0),this.provider=new Hce(this.getState("locale")??this.getBrowserLocale(),this.getState("fallbackLocale"))}async setProvider(t){this.provider=t,this.locales=t.getLocales(),await t.setLocale(this.locale??this.getBrowserLocale()),await t.setFallbackLocale(this.fallbackLocale)}translate(t,e){return this.provider.translate(t,e)??t}translateWithDefault(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.provider.translateWithDefault(t,e,r)}getBrowserLocale(){const t=this.getState("locales");return navigator.languages.find(e=>t.includes(e))??"en"}async boot(){globalThis.document&&this.requireStore().$subscribe(async()=>{var t,e;await this.provider.setLocale(this.locale??this.getBrowserLocale()),await this.provider.setFallbackLocale(this.fallbackLocale),this.locale?(t=document.querySelector("html"))==null||t.setAttribute("lang",this.locale):(e=document.querySelector("html"))==null||e.removeAttribute("lang")},{immediate:!0})}});const ts=Io.translate.bind(Io),it=Io.translateWithDefault.bind(Io);var Wce=Ua({name:"errors",initialState:{logs:[],startupErrors:[]},computed:{hasErrors:t=>{let{logs:e}=t;return e.length>0},hasNewErrors:t=>{let{logs:e}=t;return e.some(r=>!r.seen)},hasStartupErrors:t=>{let{startupErrors:e}=t;return e.length>0}}});const It={Primary:"primary",Secondary:"secondary",Danger:"danger",Clear:"clear"};var fu=Zr(class extends Wce{constructor(){super(...arguments),J(this,"forceReporting",!1),J(this,"enabled",!0)}enable(){this.enabled=!0}disable(){this.enabled=!1}async inspect(t){const e=Array.isArray(t)?t:[await this.createErrorReport(t)];e.length!==0?Dt.openModal(Dt.requireComponent(zt.ErrorReportModal),{reports:e}):Dt.alert(it("errors.inspectEmpty","Nothing to inspect!"))}async report(t,e){if(await qe.emit("error",{error:t,message:e}),bt.testing||(bt.development&&this.logError(t),!this.enabled))throw t;if(!bt.isMounted()){const a=await this.createStartupErrorReport(t);return void(a&&this.setState({startupErrors:this.startupErrors.concat(a)}))}const r=await this.createErrorReport(t),n={report:r,seen:!1,date:new Date};Dt.showSnackbar(e??it("errors.notice","Something went wrong, but it's not your fault. Try again!"),{color:It.Danger,actions:[{text:it("errors.viewDetails","View details"),dismiss:!0,handler:()=>Dt.openModal(Dt.requireComponent(zt.ErrorReportModal),{reports:[r]})}]}),this.setState({logs:[n].concat(this.logs)})}see(t){this.setState({logs:this.logs.map(e=>e.report!==t?e:{...e,seen:!0})})}seeAll(){this.setState({logs:this.logs.map(t=>({...t,seen:!0}))})}logError(t){console.error(t),yt(t)&&t.cause&&this.logError(t.cause)}async createErrorReport(t){return typeof t=="string"?{title:t}:t instanceof Error||t instanceof pn?this.createErrorReportFromError(t):yt(t)?In({title:At(t.name??t.title??it("errors.unknown","Unknown Error")),description:At(t.message??t.description??it("errors.unknownDescription","Unknown error object")),error:t}):{title:it("errors.unknown","Unknown Error"),error:t}}async createStartupErrorReport(t){return t instanceof Ug?t.cause instanceof Ug?null:this.createErrorReport(t.cause):this.createErrorReport(t)}createErrorReportFromError(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{title:t.name,description:t.message,details:t.stack,error:t,...e}}});const L2=[];function Kce(t){L2.push(t)}function Jce(t){for(const e of L2){const r=e(t);if(r)return r}return typeof t=="string"?t:t instanceof Error||t instanceof pn?t.message:yt(t)?At(t.message??t.description??"Unknown error object"):it("errors.unknown","Unknown Error")}const Yce={$errors:fu};function Qce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!1;const r=n=>e(n)||(a=>(fu.report(a),!0))(n);t.config.errorHandler=r,globalThis.onerror=(n,a,i,s,o)=>r(o??n),globalThis.onunhandledrejection=n=>r(n.reason)}var Xce={async install(t,e){Qce(t,e.handleError),await xs(t,Yce)}};const Zce={$lang:Io};var efe={async install(t){var e;(e=t.config.globalProperties).$t??(e.$t=ts),t.config.globalProperties.$td=it,await xs(t,Zce)}},tfe={async install(){}};function lo(t,e){const r=qe.on(t,e);Mr(()=>r())}function U0(){const t=CC(),e=de(()=>t.class);return[de(()=>Ra(t,"class")),e]}function Wv(t){let e=cne;$r(()=>e=t()),Mr(()=>e())}function rfe(t){return t.split(/\s+/).filter(e=>!/^(hover|focus|focus-visible):/.test(e)).join(" ").trim()}function M2(t,e){return Object.keys(e).reduce((r,n)=>(r[n]=t[n],r),{})}const N2={cancellable:es(!0),title:Qe()};function B0(){return N2}function nfe(t){return M2(t,N2)}function F2(t){return{close:async()=>{var e;return(e=t.value)==null?void 0:e.close()},cancellable:de(()=>{var e;return!!((e=t.value)!=null&&e.cancellable)})}}var z0=$e({__name:"AGHeadlessModal",props:B0(),setup(t,{expose:e}){const r=t,n=Pe(null),a=Pe(!0),i=Pe(!1),{modal:s}=Yn("modal","could not obtain modal reference from <AGHeadlessModal>, did you render this component manually? Show it using $ui.openModal() instead");async function o(){var u;(u=n.value)!=null&&u.$el&&(a.value=!0)}async function l(u){i.value||(qe.emit("modal-will-close",{modal:s,result:u}),await o(),i.value=!0,qe.emit("modal-closed",{modal:s,result:u}))}return lo("close-modal",async({id:u,result:c})=>{u===s.id&&await l(c)}),lo("hide-modal",async({id:u})=>{u===s.id&&await o()}),lo("show-modal",async({id:u})=>{u===s.id&&await async function(){var c;(c=n.value)!=null&&c.$el&&(a.value=!1)}()}),e({close:l,cancellable:_g(r,"cancellable")}),(u,c)=>(se(),Re(oe(Rue),{ref_key:"$root",ref:n,open:!0,onClose:c[0]||(c[0]=f=>u.cancellable&&l())},{default:le(()=>[ft(u.$slots,"default",{close:l})]),_:3},512))}});z0.__file="src/components/headless/modals/AGHeadlessModal.vue";var G0=$e({__name:"AGModalContext",props:{modal:yh(),childIndex:Lce()},setup(t){const e=t;return br("modal",{modal:_g(e,"modal"),childIndex:_g(e,"childIndex")}),(r,n)=>(se(),Re($i(t.modal.component),dse(VC(t.modal.properties)),null,16))}});G0.__file="src/components/modals/AGModalContext.vue";const afe=me("div",{class:"pointer-events-none fixed inset-0 z-50 bg-black/30"},null,-1);var q0=$e({__name:"AGHeadlessModalPanel",setup(t){const e=Yn("modal","could not obtain modal reference from <AGHeadlessModalPanel>, did you render this component manually? Show it using $ui.openModal() instead"),r=de(()=>Dt.modals[e.childIndex]??null);return(n,a)=>(se(),Re(oe(Tue),null,{default:le(()=>[ft(n.$slots,"default"),r.value?(se(),Se(Xe,{key:0},[afe,te(G0,{"child-index":oe(e).childIndex+1,modal:r.value},null,8,["child-index","modal"])],64)):jt("v-if",!0)]),_:3}))}});q0.__file="src/components/headless/modals/AGHeadlessModalPanel.vue";var Wu=$e({__name:"AGHeadlessModalTitle",props:{as:Qe("h2")},setup:t=>(e,r)=>(se(),Re(oe(Pue),{as:t.as},{default:le(()=>[ft(e.$slots,"default")]),_:3},8,["as"]))});function ife(t){return e=vt(t,{mangle:!1,headerIds:!1,renderer:Ve(new xo,r=>{r.link=function(n,a,i){return xo.prototype.link.apply(this,[n,a,i]).replace("<a",'<a target="_blank"')}})}),oce.sanitize(e,{ADD_ATTR:["target"]});var e}Wu.__file="src/components/headless/modals/AGHeadlessModalTitle.vue";var ht=$e({__name:"AGMarkdown",props:{as:Qe(),inline:es(),langKey:Qe(),langParams:gh(),text:Qe()},setup(t){const e=t,r=CC(),n=de(()=>e.text??(e.langKey&&ts(e.langKey,e.langParams??{}))),a=de(()=>{if(!n.value)return null;let s=ife(n.value);return e.inline&&(s=s.replace("<p>","<span>").replace("</p>","</span>")),s}),i=()=>Nt(e.as??(e.inline?"span":"div"),{innerHTML:a.value,...r,class:`${r.class??""} ${e.inline?"":"prose"}`});return(s,o)=>(se(),Re(i))}});ht.__file="src/components/lib/AGMarkdown.vue";const sfe={class:"fixed inset-0 flex items-center justify-center p-8"};var Vo=$e({inheritAttrs:!1,__name:"AGModal",props:B0(),setup(t,{expose:e}){const r=t,n=Pe();return e(F2(n)),(a,i)=>(se(),Re(z0,xr({ref_key:"$modal",ref:n},r,{class:"relative z-50"}),{default:le(({close:s})=>[me("div",sfe,[te(q0,{class:"flex max-h-full max-w-full flex-col overflow-hidden bg-white p-4"},{default:le(()=>[a.title?(se(),Re(Wu,{key:0,class:"mb-2 text-lg font-semibold"},{default:le(()=>[te(ht,{text:a.title,inline:""},null,8,["text"])]),_:1})):jt("v-if",!0),me("div",xr({class:"flex max-h-full flex-col overflow-auto"},a.$attrs),[ft(a.$slots,"default",{close:s})],16)]),_:2},1024)])]),_:3},16))}});Vo.__file="src/components/modals/AGModal.vue";const ofe={title:Qe(),message:So()};function U2(){return ofe}var H0=$e({__name:"AGAlertModal",props:U2(),setup:t=>(e,r)=>(se(),Re(Vo,{title:e.title},{default:le(()=>[te(ht,{text:e.message},null,8,["text"])]),_:1},8,["title"]))});H0.__file="src/components/modals/AGAlertModal.vue";const lfe={title:Qe(),message:So(),acceptText:Qe(),acceptColor:ss(It,It.Primary),cancelText:Qe(),cancelColor:ss(It,It.Clear),checkboxes:Hl()};function B2(){return lfe}function z2(t){return{renderedAcceptText:de(()=>t.acceptText??it("ui.accept","Ok")),renderedCancelText:de(()=>t.cancelText??it("ui.cancel","Cancel"))}}function ufe(t){return t instanceof HTMLElement?t:cfe(t)?t.$el:void 0}function cfe(t){return yt(t)&&"$el"in t}function ffe(){return Bse((t,e)=>{let r;return{get:()=>(t(),r),set(n){r=ufe(n),e()}}})}var bh=$e({__name:"AGHeadlessButton",props:{as:Hl(),href:Qe(),url:Qe(),route:Qe(),routeParams:Hl(()=>({})),routeQuery:Hl(()=>({})),submit:es()},setup(t,{expose:e}){const r=t,n=ffe(),a=de(()=>r.as?{as:r.as,props:{}}:r.route?{as:"router-link",props:{to:In({name:r.route,params:r.routeParams,query:r.routeQuery})}}:r.href||r.url?{as:"a",props:{target:"_blank",href:r.href||r.url}}:{as:"button",props:{type:r.submit?"submit":"button"}});return e({$el:n}),(i,s)=>(se(),Re($i(a.value.as),xr({ref_key:"$root",ref:n},a.value.props),{default:le(()=>[ft(i.$slots,"default")]),_:3},16))}});bh.__file="src/components/headless/forms/AGHeadlessButton.vue";var ir=$e({__name:"AGButton",props:{color:ss(It,It.Primary)},setup(t){const e=t,r=de(()=>{switch(e.color){case It.Secondary:return["text-white bg-gray-600","hover:bg-gray-500","focus-visible:outline-offset-2 focus-visible:outline-gray-600"].join(" ");case It.Clear:return"hover:bg-gray-500/20 focus-visible:outline-gray-500/60";case It.Danger:return["text-white bg-red-600","hover:bg-red-500","focus-visible:outline-offset-2 focus-visible:outline-red-600"].join(" ");default:return["text-white bg-indigo-600","hover:bg-indigo-500","focus-visible:outline-offset-2 focus-visible:outline-indigo-600"].join(" ")}});return(n,a)=>(se(),Re(bh,{class:Ht(["px-2.5 py-1.5 focus-visible:outline focus-visible:outline-2",r.value])},{default:le(()=>[ft(n.$slots,"default")]),_:3},8,["class"]))}});ir.__file="src/components/forms/AGButton.vue";const dfe={class:"mt-2 flex flex-row-reverse gap-2"};var V0=$e({__name:"AGConfirmModal",props:B2(),setup(t){const e=t,{renderedAcceptText:r,renderedCancelText:n}=z2(e);return(a,i)=>(se(),Re(Vo,{cancellable:!1,title:a.title},{default:le(({close:s})=>[te(ht,{text:a.message},null,8,["text"]),me("div",dfe,[te(ir,{color:a.acceptColor,onClick:o=>s(!0)},{default:le(()=>[Oe(we(oe(r)),1)]),_:2},1032,["color","onClick"]),te(ir,{color:a.cancelColor,onClick:o=>s()},{default:le(()=>[Oe(we(oe(n)),1)]),_:2},1032,["color","onClick"])])]),_:1},8,["title"]))}});V0.__file="src/components/modals/AGConfirmModal.vue";const hfe={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},pfe=[me("path",{fill:"currentColor",d:"m12.95 10.707l.707-.707L8 4.343L6.586 5.757L10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},null,-1)];var vfe={name:"zondicons-cheveron-right",render:function(t,e){return se(),Se("svg",hfe,[...pfe])}};const mfe={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},gfe=[me("path",{fill:"currentColor",d:"M7.05 9.293L6.343 10L12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1)];var yfe={name:"zondicons-cheveron-left",render:function(t,e){return se(),Se("svg",mfe,[...gfe])}};const bfe={reports:F0()};function G2(){return bfe}function q2(t){const e=Pe(0),r=de(()=>t.reports[e.value]),n=de(()=>{var s;return((s=r.value.details)==null?void 0:s.trim())||it("errors.detailsEmpty","This error is missing a stacktrace.")}),a=it("errors.previousReport","Show previous report"),i=it("errors.nextReport","Show next report");return{activeReportIndex:e,details:n,nextReportText:i,previousReportText:a,report:r}}const wfe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_fe=[me("path",{fill:"currentColor",d:"M20 19V7H4v12h16m0-16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16m-7 14v-2h5v2h-5m-3.42-4L5.57 9H8.4l3.3 3.3c.39.39.39 1.03 0 1.42L8.42 17H5.59l3.99-4Z"},null,-1)];var $fe={name:"mdi-console",render:function(t,e){return se(),Se("svg",wfe,[..._fe])}};const xfe={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},Sfe=[me("path",{fill:"currentColor",d:"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z"},null,-1)];var Ife={name:"zondicons-copy",render:function(t,e){return se(),Se("svg",xfe,[...Sfe])}};const Efe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Afe=[me("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"},null,-1)];var Ofe={name:"mdi-github",render:function(t,e){return se(),Se("svg",Efe,[...Afe])}};const kfe={class:"flex"};var W0=$e({__name:"AGErrorReportModalButtons",props:{report:yh()},setup(t){const e=t,r=de(()=>e.report.description?`${e.report.title}: ${e.report.description}`:e.report.title),n=de(()=>{if(!bt.sourceUrl)return!1;const i=encodeURIComponent(r.value),s=encodeURIComponent(["[Please, explain here what you were trying to do when this error appeared]","","Error details:","```",Zre(e.report.details??"Details missing from report",1800-i.length-bt.sourceUrl.length).trim(),"```"].join(`
`));return`${bt.sourceUrl}/issues/new?title=${i}&body=${s}`}),a=de(()=>Ve([{id:"clipboard",description:"Copy to clipboard",iconComponent:Ife,async handler(){await navigator.clipboard.writeText(`${r.value}

${e.report.details}`),Dt.showSnackbar(it("errors.copiedToClipboard","Debug information copied to clipboard"))}},{id:"console",description:"Log to console",iconComponent:$fe,handler(){const i=e.report.error??e.report;window.error=i,console.error(i),Dt.showSnackbar(it("errors.addedToConsole","You can now use the **error** variable in the console"))}}],i=>{n.value&&i.push({id:"github",description:"Report in GitHub",iconComponent:Ofe,url:n.value})}));return(i,s)=>(se(),Se("div",kfe,[(se(!0),Se(Xe,null,Fa(a.value,(o,l)=>ft(i.$slots,"default",xr(o,{key:l}),()=>[te(ir,{color:"clear",url:o.url,title:i.$td(`errors.report_${o.id}`,o.description),"aria-label":i.$td(`errors.report_${o.id}`,o.description),onClick:o.handler},{default:le(()=>[(se(),Re($i(o.iconComponent),{class:"h-4 w-4","aria-hidden":"true"}))]),_:2},1032,["url","title","aria-label","onClick"])])),128))]))}});W0.__file="src/components/modals/AGErrorReportModalButtons.vue";var K0=$e({__name:"AGErrorReportModalTitle",props:{report:yh(),currentReport:Bg(),totalReports:Bg()},setup(t){const e=t,r=de(()=>!e.totalReports||e.totalReports<=1?e.report.title:`${e.report.title} (${e.currentReport}/${e.totalReports})`);return(n,a)=>(se(),Re(ht,{text:r.value,inline:""},null,8,["text"]))}});K0.__file="src/components/modals/AGErrorReportModalTitle.vue";const Rfe={class:"flex items-center justify-between text-lg font-medium"},Tfe={class:"flex items-center"},Pfe=["textContent"];var H2=$e({__name:"AGErrorReportModal",props:G2(),setup(t){const e=t,{activeReportIndex:r,details:n,nextReportText:a,previousReportText:i,report:s}=q2(e);return(o,l)=>(se(),Re(Vo,null,{default:le(()=>[me("div",null,[me("h2",Rfe,[me("div",Tfe,[te(K0,{report:oe(s),"current-report":oe(r)+1,"total-reports":o.reports.length},null,8,["report","current-report","total-reports"]),o.reports.length>1?(se(),Se(Xe,{key:0},[te(ir,{color:"clear",disabled:oe(r)===0,title:oe(i),"aria-label":oe(i),onClick:l[0]||(l[0]=u=>r.value--)},{default:le(()=>[te(oe(yfe),{"aria-hidden":"true",class:"h-4 w-4"})]),_:1},8,["disabled","title","aria-label"]),te(ir,{color:"clear",disabled:oe(r)===o.reports.length-1,title:oe(a),"aria-label":oe(a),onClick:l[1]||(l[1]=u=>r.value++)},{default:le(()=>[te(oe(vfe),{"aria-hidden":"true",class:"h-4 w-4"})]),_:1},8,["disabled","title","aria-label"])],64)):jt("v-if",!0)]),te(W0,{report:oe(s)},null,8,["report"])]),oe(s).description?(se(),Re(ht,{key:0,text:oe(s).description,class:"mt-2"},null,8,["text"])):jt("v-if",!0)]),me("pre",{class:"h-full overflow-auto bg-gray-200 p-4 text-xs text-red-900",textContent:we(oe(n))},null,8,Pfe)]),_:1}))}});H2.__file="src/components/modals/AGErrorReportModal.vue";const Cfe={message:Qe()};function V2(){return Cfe}function W2(t){return{renderedMessage:de(()=>t.message??it("ui.loading","Loading..."))}}var J0=$e({__name:"AGLoadingModal",props:V2(),setup(t){const e=t,{renderedMessage:r}=W2(e);return(n,a)=>(se(),Re(Vo,{cancellable:!1},{default:le(()=>[te(ht,{text:oe(r)},null,8,["text"])]),_:1}))}});J0.__file="src/components/modals/AGLoadingModal.vue";const Dfe={title:Qe(),message:So(),label:Qe(),defaultValue:Qe(),placeholder:Qe(),acceptText:Qe(),acceptColor:ss(It,It.Primary),cancelText:Qe(),cancelColor:ss(It,It.Clear)};function jfe(){return Dfe}function Lfe(t){return{renderedAcceptText:de(()=>t.acceptText??it("ui.accept","Ok")),renderedCancelText:de(()=>t.cancelText??it("ui.cancel","Cancel"))}}var Wo=$e({__name:"AGForm",props:{form:Hl()},emits:["submit"],setup(t,{emit:e}){let r;const n=t,a=e;return _r(i=>{var s;r==null||r(),r=(s=n.form)==null?void 0:s.on("submit",()=>a("submit")),i(()=>r==null?void 0:r())}),br("form",n.form),(i,s)=>(se(),Se("form",{onSubmit:s[0]||(s[0]=_le(o=>{var l;return(l=t.form)==null?void 0:l.submit()},["prevent"]))},[ft(i.$slots,"default")],32))}});Wo.__file="src/components/forms/AGForm.vue";const K2={name:Qe(),label:Qe(),description:Qe(),modelValue:gh([String,Number,Boolean])};function Y0(){return K2}function Mfe(t){return M2(t,K2)}var Ku=$e({__name:"AGHeadlessInput",props:{as:Qe("div"),...Y0()},emits:["update:modelValue"],setup(t,{expose:e,emit:r}){const n=r,a=t,i=Pe(),s=de(()=>o&&a.name?o.errors[a.name]??null:null),o=kt("form",null),l={$el:i,id:`input-${dn()}`,name:de(()=>a.name),label:de(()=>a.label),description:de(()=>a.description),value:de(()=>o&&a.name?o.getFieldValue(a.name):a.modelValue),errors:lh(s),required:de(()=>a.name&&o?o.getFieldRules(a.name).includes("required"):null),update(u){o&&a.name?o.setFieldValue(a.name,u):n("update:modelValue",u)},__setElement(u){i.value=u}};return br("input",l),e(l),(u,c)=>t.as?(se(),Re($i(t.as),{key:0},{default:le(()=>[ft(u.$slots,"default")]),_:3})):ft(u.$slots,"default",{key:1})}});Ku.__file="src/components/headless/forms/AGHeadlessInput.vue";var Q0=$e({inheritAttrs:!1,__name:"AGHeadlessInputDescription",setup(t){const e=Yn("input","<AGHeadlessInputDescription> must be a child of a <AGHeadlessInput>"),r=de(()=>typeof e.description=="string"?e.description:""),n=de(()=>!!e.description);return(a,i)=>ft(a.$slots,"default",{id:`${oe(e).id}-description`},()=>[n.value?(se(),Re(ht,xr({key:0},a.$attrs,{id:`${oe(e).id}-description`,text:r.value}),null,16,["id","text"])):jt("v-if",!0)])}});Q0.__file="src/components/headless/forms/AGHeadlessInputDescription.vue";const Nfe=["id"];var Ju=$e({__name:"AGHeadlessInputError",setup(t){const e=Yn("input","<AGHeadlessInputError> must be a child of a <AGHeadlessInput>"),r=de(()=>e.errors?it(`errors.${e.errors[0]}`,`Error: ${e.errors[0]}`):null);return(n,a)=>r.value?(se(),Se("p",{key:0,id:`${oe(e).id}-error`},we(r.value),9,Nfe)):jt("v-if",!0)}});function J2(t,e){const r=kt("form",null),n=r==null?void 0:r.on("focus",a=>t.name===a&&e());Mr(()=>n==null?void 0:n())}Ju.__file="src/components/headless/forms/AGHeadlessInputError.vue";const Ffe=["id","name","type","required","aria-invalid","aria-describedby","checked"];var Yu=$e({__name:"AGHeadlessInputInput",props:{type:Qe("text")},setup(t){const e=t,r=Pe(),n=Yn("input","<AGHeadlessInputInput> must be a child of a <AGHeadlessInput>"),a=de(()=>n.name??void 0),i=de(()=>n.value),s=de(()=>{if(e.type==="checkbox")return!!i.value});function o(){r.value&&n.update(function(){if(!r.value)return null;switch(e.type){case"checkbox":return r.value.checked;case"date":return r.value.valueAsDate;default:return r.value.value}}())}return J2(n,()=>{var l;return(l=r.value)==null?void 0:l.focus()}),_r(()=>n.__setElement(r.value)),_r(()=>{r.value&&(e.type!=="date"?r.value.value=i.value:r.value.valueAsDate=i.value)}),(l,u)=>(se(),Se("input",{id:oe(n).id,ref_key:"$input",ref:r,name:a.value,type:t.type,required:oe(n).required??void 0,"aria-invalid":oe(n).errors?"true":"false","aria-describedby":oe(n).errors?`${oe(n).id}-error`:oe(n).description?`${oe(n).id}-description`:void 0,checked:s.value,onInput:o},null,40,Ffe))}});Yu.__file="src/components/headless/forms/AGHeadlessInputInput.vue";const Ufe=["for"];var Qu=$e({__name:"AGHeadlessInputLabel",setup(t){const e=Yn("input","<AGHeadlessInputLabel> must be a child of a <AGHeadlessInput>"),r=PC(),n=de(()=>!(!e.label&&!r.default));return(a,i)=>n.value?(se(),Se("label",{key:0,for:oe(e).id},[ft(a.$slots,"default",{},()=>[Oe(we(oe(e).label),1)])],8,Ufe)):jt("v-if",!0)}});Qu.__file="src/components/headless/forms/AGHeadlessInputLabel.vue";const Bfe={class:"absolute bottom-0 left-0 translate-y-full"};var wh=$e({inheritAttrs:!1,__name:"AGInput",props:Y0(),setup(t){const e=t,r=Ho(),[n,a]=U0();return(i,s)=>(se(),Re(Ku,xr({ref_key:"$input",ref:r,class:["relative flex flex-col items-center",oe(a)]},e),{default:le(()=>{var o;return[te(Qu,{class:"sr-only"}),te(Yu,xr(oe(n),{class:["block w-full border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",{"ring-1 ring-red-500":(o=oe(r))==null?void 0:o.errors}]}),null,16,["class"]),te(Q0),me("div",Bfe,[te(Ju,{class:"mt-1 text-sm text-red-500"})])]}),_:1},16,["class"]))}});wh.__file="src/components/forms/AGInput.vue";const Pf={required:t=>t?void 0:"required"};function zfe(t,e){Pf[t]=e}function Gfe(t,e){var n;const r=(n=Pf[e])==null?void 0:n.call(Pf,t);return r?Cr(r):[]}const X0={String:"string",Number:"number",Boolean:"boolean",Object:"object",Date:"date"},qI=new WeakMap;class qfe extends Yf{constructor(e){super(),J(this,"errors",void 0),J(this,"_fields",void 0),J(this,"_data",void 0),J(this,"_submitted",void 0),J(this,"_errors",void 0),J(this,"_listeners",{}),this._fields=e,this._submitted=Pe(!1),this._data=this.getInitialData(e),this._errors=this.getInitialErrors(e),qI.set(this,de(()=>!Object.values(this._errors).some(r=>r!==null))),this.errors=lh(this._errors)}get valid(){var e;return!!((e=qI.get(this))!=null&&e.value)}get submitted(){return this._submitted.value}setFieldValue(e,r){const n=this._fields[e]??tt(`Trying to set undefined '${At(e)}' field`);this._data[e]=n.type===X0.String&&(n.trim??1)?At(r).trim():r,this._submitted.value&&this.validate()}getFieldValue(e){return this._data[e]}getFieldRules(e){var r,n;return((n=(r=this._fields[e])==null?void 0:r.rules)==null?void 0:n.split("|"))??[]}data(){return{...this._data}}validate(){const e=Object.entries(this._fields).reduce((r,n)=>{let[a,i]=n;return r[a]=this.getFieldErrors(a,i),r},{});return this.resetErrors(e),this.valid}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._submitted.value=!1,e.keepData||this.resetData(),e.keepErrors||this.resetErrors()}submit(){var r;this._submitted.value=!0;const e=this.validate();return e&&((r=this._listeners.submit)==null||r.forEach(n=>n())),e}on(e,r){var n,a;return(n=this._listeners)[e]??(n[e]=[]),(a=this._listeners[e])==null||a.push(r),()=>this.off(e,r)}off(e,r){Dr(this._listeners[e]??[],r)}async focus(e){var r;await fn(),(r=this._listeners.focus)==null||r.forEach(n=>n(e))}__get(e){return e in this._fields?this.getFieldValue(e):super.__get(e)}__set(e,r){e in this._fields?this.setFieldValue(e,r):super.__set(e,r)}getFieldErrors(e,r){var s;const n=[],a=this._data[e],i=((s=r.rules)==null?void 0:s.split("|"))??[];for(const o of i)o!=="required"&&a==null||n.push(...Gfe(a,o));return n.length>0?n:null}getInitialData(e){if(this.static().isConjuring())return{};const r=Object.entries(e).reduce((n,a)=>{let[i,s]=a;return n[i]=s.default??null,n},{});return Ta(r)}getInitialErrors(e){if(this.static().isConjuring())return{};const r=Object.keys(e).reduce((n,a)=>(n[a]=null,n),{});return Ta(r)}resetData(){for(const[e,r]of Object.entries(this._fields))this._data[e]=r.default??null}resetErrors(e){Object.keys(this._errors).forEach(r=>delete this._errors[r]),e&&Object.assign(this._errors,e)}}function Xu(t){return new qfe(t)}function Hfe(t){return{default:t,type:X0.Boolean,rules:"required"}}function Zu(t){return{default:t,type:X0.String,rules:"required"}}const Vfe={class:"mt-2 flex flex-row-reverse gap-2"};var Y2=$e({__name:"AGPromptModal",props:jfe(),setup(t){const e=t,r=Xu({draft:Zu(e.defaultValue??"")}),{renderedAcceptText:n,renderedCancelText:a}=Lfe(e);return(i,s)=>(se(),Re(Vo,{cancellable:!1,title:i.title},{default:le(({close:o})=>[te(ht,{text:i.message},null,8,["text"]),te(Wo,{form:oe(r),onSubmit:l=>o(oe(r).draft)},{default:le(()=>[te(wh,{name:"draft",placeholder:i.placeholder,label:i.label},null,8,["placeholder","label"]),me("div",Vfe,[te(ir,{color:i.acceptColor,submit:""},{default:le(()=>[Oe(we(oe(n)),1)]),_:1},8,["color"]),te(ir,{color:i.cancelColor,onClick:l=>o()},{default:le(()=>[Oe(we(oe(a)),1)]),_:2},1032,["color","onClick"])])]),_:2},1032,["form","onSubmit"])]),_:1},8,["title"]))}});Y2.__file="src/components/modals/AGPromptModal.vue";const Wfe={class:"pointer-events-auto"};var Z0=$e({__name:"AGHeadlessSnackbar",setup:t=>(e,r)=>(se(),Se("div",Wfe,[ft(e.$slots,"default")]))});Z0.__file="src/components/headless/snackbars/AGHeadlessSnackbar.vue";const Kfe=Ra(It,["Primary","Clear"]),Jfe={id:So(),message:So(),actions:Pce(()=>[]),color:ss(Kfe,It.Secondary)};function Q2(){return Jfe}function X2(t){return{activate:function(e){var r;(r=e.handler)==null||r.call(e),e.dismiss&&Dt.hideSnackbar(t.id)}}}var Ks=$e({__name:"AGSnackbar",props:Q2(),setup(t){const e=t,{activate:r}=X2(e),n=de(()=>e.color===It.Danger?"bg-red-200 text-red-900":"bg-gray-900 text-white");return(a,i)=>(se(),Re(Z0,{class:Ht(["flex flex-row items-center justify-center gap-3 p-4",n.value])},{default:le(()=>[te(ht,{text:a.message,inline:""},null,8,["text"]),(se(!0),Se(Xe,null,Fa(a.actions,(s,o)=>(se(),Re(ir,{key:o,color:a.color,onClick:l=>oe(r)(s)},{default:le(()=>[Oe(we(s.text),1)]),_:2},1032,["color","onClick"]))),128))]),_:1},8,["class"]))}});Ks.__file="src/components/snackbars/AGSnackbar.vue";const Yfe={class:"grid flex-grow place-items-center"},Qfe={class:"flex flex-col items-center space-y-6 p-8"},Xfe={class:"mt-2 text-center text-4xl font-medium text-red-600"},Zfe={class:"mt-4 flex flex-col space-y-4"};var Z2=$e({__name:"AGStartupCrash",setup:t=>(e,r)=>(se(),Se("div",Yfe,[me("div",Qfe,[me("h1",Xfe,we(e.$td("startupCrash.title","Something went wrong!")),1),te(ht,{text:e.$td("startupCrash.message",`Something failed trying to start the application.

Here's some things you can do:`),class:"mt-4 text-center"},null,8,["text"]),me("div",Zfe,[te(ir,{color:"danger",onClick:r[0]||(r[0]=n=>e.$app.reload())},{default:le(()=>[Oe(we(e.$td("startupCrash.reload","Try again")),1)]),_:1}),te(ir,{color:"danger",onClick:r[1]||(r[1]=n=>e.$errors.inspect(e.$errors.startupErrors))},{default:le(()=>[Oe(we(e.$td("startupCrash.inspect","View error details")),1)]),_:1})])])]))});Z2.__file="src/components/lib/AGStartupCrash.vue";const ede={$ui:Dt};var tde={async install(t,e){const r={[zt.AlertModal]:H0,[zt.ConfirmModal]:V0,[zt.ErrorReportModal]:H2,[zt.LoadingModal]:J0,[zt.PromptModal]:Y2,[zt.Snackbar]:Ks,[zt.StartupCrash]:Z2};Object.entries({...r,...e.components}).forEach(n=>{let[a,i]=n;return Dt.registerComponent(a,i)}),await xs(t,ede)}};async function rde(t){var n;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[tfe,Fce,Xce,efe,zce,tde,...e.plugins??[]];bt.instance=t,await Tce(r,t,e),await((n=e.install)==null?void 0:n.call(e,t)),await qe.emit("application-ready")}async function nde(t){var n;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Sle(t);await rde(r,e),r.mount("#app"),(n=r._container)==null||n.classList.remove("loading"),await qe.emit("application-mounted")}const ade={key:0};var eD=$e({__name:"AGAppModals",setup(t){const e=de(()=>Dt.modals[0]??null);return(r,n)=>e.value?(se(),Se("aside",ade,[te(G0,{"child-index":1,modal:e.value},null,8,["modal"])])):jt("v-if",!0)}});eD.__file="src/components/AGAppModals.vue";const ide={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 z-50 flex items-end px-4 py-6 sm:p-6"},sde={class:"flex w-full flex-col items-end space-y-4"},ode={render:function(t,e){return se(),Se("div",ide,[me("div",sde,[(se(!0),Se(Xe,null,Fa(t.$ui.snackbars,r=>(se(),Re($i(r.component),xr({id:r.id,key:r.id},r.properties),null,16,["id"]))),128))])])},__file:"src/components/AGAppSnackbars.vue"};var lde=ode,tD=$e({__name:"AGAppOverlays",setup(t){const e=Pe(null),r=Pe(!0);return lo("show-overlays-backdrop",async()=>{e.value&&r.value&&(r.value=!1,e.value.classList.remove("opacity-0"))}),lo("hide-overlays-backdrop",async()=>{e.value&&!r.value&&(r.value=!0,e.value.classList.add("opacity-0"))}),(n,a)=>(se(),Se(Xe,null,[me("div",{id:"aerogel-overlays-backdrop",ref_key:"$backdrop",ref:e,class:"pointer-events-none fixed inset-0 z-50 bg-black/30 opacity-0"},null,512),te(eD),te(lde)],64))}});tD.__file="src/components/AGAppOverlays.vue";const ude={class:"flex min-h-full flex-col text-base font-normal leading-tight text-gray-900 antialiased"};var rD=$e({__name:"AGAppLayout",setup:t=>(e,r)=>(se(),Se("div",ude,[e.$errors.hasStartupErrors?ft(e.$slots,"startup-crash",{key:0},()=>[(se(),Re($i(e.$ui.requireComponent(oe(zt).StartupCrash))))]):ft(e.$slots,"default",{key:1}),te(tD)]))});rD.__file="src/components/AGAppLayout.vue";const cde={class:"ml-2"};var nD=$e({inheritAttrs:!1,__name:"AGCheckbox",props:{name:Qe()},emits:["update:modelValue"],setup(t){const e=Ho();return(r,n)=>(se(),Re(Ku,{ref_key:"$input",ref:e,name:t.name,class:"flex","onUpdate:modelValue":n[0]||(n[0]=a=>r.$emit("update:modelValue",a))},{default:le(()=>{var a,i;return[te(Yu,xr(r.$attrs,{type:"checkbox",class:{"text-indigo-600 focus:ring-indigo-600":!((a=oe(e))!=null&&a.errors),"border-red-200 text-red-600 focus:ring-red-600":(i=oe(e))==null?void 0:i.errors}}),null,16,["class"]),me("div",cde,[r.$slots.default?(se(),Re(Qu,{key:0},{default:le(()=>[ft(r.$slots,"default")]),_:3})):jt("v-if",!0),te(Ju,{class:"text-sm text-red-600"})])]}),_:3},8,["name"]))}});nD.__file="src/components/forms/AGCheckbox.vue";const fde={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},dde=[me("path",{fill:"currentColor",d:"m9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828L5.757 6.586L4.343 8z"},null,-1)];var hde={name:"zondicons-cheveron-down",render:function(t,e){return se(),Se("svg",fde,[...dde])}};const pde={name:Qe(),label:Qe(),options:F0(),noSelectionText:Qe(),optionsText:gh()},vde=["update:modelValue"];function ew(){return pde}function aD(){return[...vde]}var tw=$e({__name:"AGHeadlessSelect",props:{modelValue:gh(),...ew()},emits:aD(),setup(t,{expose:e,emit:r}){const n=r,a=t,i=de(()=>typeof a.optionsText=="function"?a.optionsText:typeof a.optionsText=="string"?d=>At(d[a.optionsText]):d=>At(d)),s=kt("form",null),o=de(()=>a.noSelectionText??it("select.noSelection","-")),l=de(()=>s&&a.name?s.getFieldValue(a.name):a.modelValue),u=de(()=>s&&a.name?s.errors[a.name]??null:null);function c(d){s&&a.name?s.setFieldValue(a.name,d):n("update:modelValue",d)}const f={id:`select-${dn()}`,noSelectionText:o,selectedOption:l,errors:u,options:de(()=>a.options),label:de(()=>a.label),buttonText:de(()=>l.value===null?o.value:i.value(l.value)),renderText:i,update:c};return br("select",f),e(f),(d,h)=>(se(),Re(oe(Uue),{"model-value":l.value,"onUpdate:modelValue":h[0]||(h[0]=p=>c(p))},{default:le(({value:p,open:y,disabled:k})=>[ft(d.$slots,"default",{value:p,open:y,disabled:k})]),_:3},8,["model-value"]))}});tw.__file="src/components/headless/forms/AGHeadlessSelect.vue";var rw=$e({__name:"AGHeadlessSelectButton",props:{textClass:Qe()},setup(t){const e=Yn("select","<AGHeadlessSelectButton> must be a child of a <AGHeadlessSelect>");return(r,n)=>(se(),Re(oe(zue),null,{default:le(({value:a,open:i,disabled:s})=>[ft(r.$slots,"default",{value:a,open:i,disabled:s},()=>{var o;return[me("span",{class:Ht(t.textClass)},we((o=oe(e))==null?void 0:o.buttonText),3)]}),ft(r.$slots,"icon")]),_:3}))}});rw.__file="src/components/headless/forms/AGHeadlessSelectButton.vue";const mde=["id"];var nw=$e({__name:"AGHeadlessSelectError",setup(t){const e=Yn("select","<AGHeadlessSelectError> must be a child of a <AGHeadlessSelect>"),r=de(()=>e.errors?it(`errors.${e.errors[0]}`,`Error: ${e.errors[0]}`):null);return(n,a)=>r.value?(se(),Se("p",{key:0,id:`${oe(e).id}-error`},we(r.value),9,mde)):jt("v-if",!0)}});nw.__file="src/components/headless/forms/AGHeadlessSelectError.vue";var aw=$e({__name:"AGHeadlessSelectLabel",setup(t){const e=Yn("select","<AGHeadlessSelectLabel> must be a child of a <AGHeadlessSelect>"),r=PC(),n=de(()=>!(!e.label&&!r.default));return(a,i)=>n.value?(se(),Re(oe(Bue),{key:0},{default:le(({open:s,disabled:o})=>[ft(a.$slots,"default",{open:s,disabled:o},()=>[Oe(we(oe(e).label),1)])]),_:3})):jt("v-if",!0)}});aw.__file="src/components/headless/forms/AGHeadlessSelectLabel.vue";var iw=$e({__name:"AGHeadlessSelectOption",props:{value:jce(),selectedClass:Qe(),unselectedClass:Qe(),activeClass:Qe(),inactiveClass:Qe()},setup(t){const e=Yn("select","<AGHeadlessSelectOption> must be a child of a <AGHeadlessSelect>");return(r,n)=>(se(),Re(oe(Gue),{value:t.value,as:"template"},{default:le(({active:a,selected:i,disabled:s})=>[ft(r.$slots,"default",{active:a,selected:i,disabled:s},()=>[me("li",{class:Ht({[t.activeClass??"active"]:a,[t.inactiveClass??"inactive"]:!a,[t.selectedClass??"selected"]:i,[t.unselectedClass??"unselected"]:!i})},we(oe(e).renderText(t.value)),3)])]),_:3},8,["value"]))}});iw.__file="src/components/headless/forms/AGHeadlessSelectOption.vue";const gde={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"};var iD=$e({__name:"AGSelect",props:ew(),emits:aD(),setup(t){const e=t,r=Ho();return(n,a)=>(se(),Re(tw,xr(e,{ref_key:"$select",ref:r,as:"div","onUpdate:modelValue":a[0]||(a[0]=i=>n.$emit("update:modelValue",i))}),{default:le(()=>{var i,s;return[te(aw,{class:"block text-sm font-medium leading-6 text-gray-900"}),me("div",{class:Ht(["relative",{"mt-2":(i=oe(r))==null?void 0:i.label}])},[te(rw,{class:Ht(["relative w-full cursor-default bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600",{"ring-1 ring-red-500":(s=oe(r))==null?void 0:s.errors}]),"text-class":"block truncate"},{icon:le(()=>[me("span",gde,[te(oe(hde),{class:"h-5 w-5 text-gray-400"})])]),_:1},8,["class"]),te(oe($2),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto border bg-white py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:le(()=>{var o;return[(se(!0),Se(Xe,null,Fa(((o=oe(r))==null?void 0:o.options)??[],(l,u)=>(se(),Re(iw,{key:u,value:l,class:"relative block cursor-default select-none truncate py-2 pl-3 pr-9","selected-class":"font-semibold","unselected-class":"font-normal","active-class":"bg-indigo-600 text-white","inactive-class":"text-gray-900"},null,8,["value"]))),128))]}),_:1})],2),te(nw,{class:"mt-2 text-sm text-red-600"})]}),_:1},16))}});iD.__file="src/components/forms/AGSelect.vue";const yde=["id","name","required","value","aria-invalid","aria-describedby"];var bde=$e({__name:"AGHeadlessInputTextArea",setup(t){const e=Pe(),r=Yn("input","<AGHeadlessInputTextArea> must be a child of a <AGHeadlessInput>"),n=de(()=>r.name??void 0),a=de(()=>r.value);function i(){e.value&&r.update(e.value.value)}return _r(()=>r.__setElement(e.value)),J2(r,()=>{var s;return(s=e.value)==null?void 0:s.focus()}),(s,o)=>(se(),Se("textarea",{id:oe(r).id,ref_key:"$textArea",ref:e,name:n.value,required:oe(r).required??void 0,value:a.value,"aria-invalid":oe(r).errors?"true":"false","aria-describedby":oe(r).errors?`${oe(r).id}-error`:oe(r).description?`${oe(r).id}-description`:void 0,onInput:i},null,40,yde))}});bde.__file="src/components/headless/forms/AGHeadlessInputTextArea.vue";var wde=$e({__name:"AGErrorMessage",props:{error:yh()},setup(t){const e=t,r=de(()=>Jce(e.error));return(n,a)=>(se(),Re(ht,{text:r.value,inline:""},null,8,["text"]))}});wde.__file="src/components/lib/AGErrorMessage.vue";var sD=$e({__name:"AGLink",setup:t=>(e,r)=>(se(),Re(bh,{class:"font-medium hover:underline"},{default:le(()=>[ft(e.$slots,"default")]),_:3}))});sD.__file="src/components/lib/AGLink.vue";var oD=$e({__name:"AGMeasured",props:{as:Qe("span")},setup(t){const e=Pe(!1);return(r,n)=>{const a=x0("measure");return E0((se(),Re($i(t.as),{class:Ht({"!invisible !absolute !w-auto":!e.value})},{default:le(()=>[ft(r.$slots,"default")]),_:3},8,["class"])),[[a,()=>e.value=!0]])}}});oD.__file="src/components/lib/AGMeasured.vue";var _de=$e({__name:"AGModalTitle",setup:t=>(e,r)=>(se(),Re(Wu,{class:"mb-2 font-semibold"},{default:le(()=>[ft(e.$slots,"default")]),_:3}))});_de.__file="src/components/modals/AGModalTitle.vue";class lD{}async function Kv(t){await t.run()}/*!
  * shared v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const zg=typeof window<"u",Ss=(t,e=!1)=>e?Symbol.for(t):Symbol(t),du=t=>typeof t=="number"&&isFinite(t),HI=t=>Ide(t)==="[object RegExp]",$de=t=>Un(t)&&Object.keys(t).length===0,ua=Object.assign;let VI;const uD=()=>VI||(VI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xde=Object.prototype.hasOwnProperty;function sw(t,e){return xde.call(t,e)}const Ia=Array.isArray,nf=t=>typeof t=="function",Jt=t=>typeof t=="string",Qa=t=>typeof t=="boolean",An=t=>t!==null&&typeof t=="object",Sde=Object.prototype.toString,Ide=t=>Sde.call(t),Un=t=>{if(!An(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object};/*!
  * shared v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Ede=(t,e,r)=>Ade({l:t,k:e,s:r}),Ade=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),an=t=>typeof t=="number"&&isFinite(t),Ode=t=>fD(t)==="[object Date]",WI=t=>fD(t)==="[object RegExp]",ow=t=>Tt(t)&&Object.keys(t).length===0;function kde(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const ec=Object.assign;let KI;const Rde=()=>KI||(KI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function JI(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ca=Array.isArray,nn=t=>typeof t=="function",Je=t=>typeof t=="string",sn=t=>typeof t=="boolean",gr=t=>t!==null&&typeof t=="object",cD=Object.prototype.toString,fD=t=>cD.call(t),Tt=t=>{if(!gr(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Tde=t=>t==null?"":ca(t)||Tt(t)&&t.toString===cD?JSON.stringify(t,null,2):String(t);/*!
  * message-compiler v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const dD={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function hD(t,e,r={}){const{domain:n,messages:a,args:i}=r,s=t,o=new SyntaxError(String(s));return o.code=t,e&&(o.location=e),o.domain=n,o}/*!
  * devtools-if v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const pD={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Si=[];Si[0]={w:[0],i:[3,0],"[":[4],o:[7]};Si[1]={w:[1],".":[2],"[":[4],o:[7]};Si[2]={w:[2],i:[3,0],0:[3,0]};Si[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Si[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Si[5]={"'":[4,0],o:8,l:[5,0]};Si[6]={'"':[4,0],o:8,l:[6,0]};const Pde=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Cde(t){return Pde.test(t)}function Dde(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function jde(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Lde(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Cde(e)?Dde(e):"*"+e}function Mde(t){const e=[];let r=-1,n=0,a=0,i,s,o,l,u,c,f;const d=[];d[0]=()=>{s===void 0?s=o:s+=o},d[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},d[2]=()=>{d[0](),a++},d[3]=()=>{if(a>0)a--,n=4,d[0]();else{if(a=0,s===void 0||(s=Lde(s),s===!1))return!1;d[1]()}};function h(){const p=t[r+1];if(n===5&&p==="'"||n===6&&p==='"')return r++,o="\\"+p,d[0](),!0}for(;n!==null;)if(r++,i=t[r],!(i==="\\"&&h())){if(l=jde(i),f=Si[n],u=f[l]||f.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(o=i,c()===!1))))return;if(n===7)return e}}const YI=new Map;function Nde(t,e){return gr(t)?t[e]:null}function Fde(t,e){if(!gr(t))return null;let r=YI.get(e);if(r||(r=Mde(e),r&&YI.set(e,r)),!r)return null;const n=r.length;let a=t,i=0;for(;i<n;){const s=a[r[i]];if(s===void 0)return null;a=s,i++}return a}const Ude=t=>t,Bde=t=>"",zde="text",Gde=t=>t.length===0?"":t.join(""),qde=Tde;function QI(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Hde(t){const e=an(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(an(t.named.count)||an(t.named.n))?an(t.named.count)?t.named.count:an(t.named.n)?t.named.n:e:e}function Vde(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Wde(t={}){const e=t.locale,r=Hde(t),n=gr(t.pluralRules)&&Je(e)&&nn(t.pluralRules[e])?t.pluralRules[e]:QI,a=gr(t.pluralRules)&&Je(e)&&nn(t.pluralRules[e])?QI:void 0,i=$=>$[n(r,$.length,a)],s=t.list||[],o=$=>s[$],l=t.named||{};an(t.pluralIndex)&&Vde(r,l);const u=$=>l[$];function c($){const b=nn(t.messages)?t.messages($):gr(t.messages)?t.messages[$]:!1;return b||(t.parent?t.parent.message($):Bde)}const f=$=>t.modifiers?t.modifiers[$]:Ude,d=Tt(t.processor)&&nn(t.processor.normalize)?t.processor.normalize:Gde,h=Tt(t.processor)&&nn(t.processor.interpolate)?t.processor.interpolate:qde,p=Tt(t.processor)&&Je(t.processor.type)?t.processor.type:zde,k={list:o,named:u,plural:i,linked:($,...b)=>{const[_,O]=b;let R="text",P="";b.length===1?gr(_)?(P=_.modifier||P,R=_.type||R):Je(_)&&(P=_||P):b.length===2&&(Je(_)&&(P=_||P),Je(O)&&(R=O||R));let T=c($)(k);return R==="vnode"&&ca(T)&&P&&(T=T[0]),P?f(P)(T,R):T},message:c,type:p,interpolate:h,normalize:d};return k}let hu=null;function Kde(t){hu=t}function Jde(t,e,r){hu&&hu.emit(pD.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:r})}const Yde=Qde(pD.FunctionTranslate);function Qde(t){return e=>hu&&hu.emit(t,e)}function Xde(t,e,r){return[...new Set([r,...ca(e)?e:gr(e)?Object.keys(e):Je(e)?[e]:[r]])]}function vD(t,e,r){const n=Je(r)?r:lw,a=t;a.__localeChainCache||(a.__localeChainCache=new Map);let i=a.__localeChainCache.get(n);if(!i){i=[];let s=[r];for(;ca(s);)s=XI(i,s,e);const o=ca(e)||!Tt(e)?e:e.default?e.default:null;s=Je(o)?[o]:o,ca(s)&&XI(i,s,!1),a.__localeChainCache.set(n,i)}return i}function XI(t,e,r){let n=!0;for(let a=0;a<e.length&&sn(n);a++){const i=e[a];Je(i)&&(n=Zde(t,e[a],r))}return n}function Zde(t,e,r){let n;const a=e.split("-");do{const i=a.join("-");n=ehe(t,i,r),a.splice(-1,1)}while(a.length&&n===!0);return n}function ehe(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const a=e.replace(/!/g,"");t.push(a),(ca(r)||Tt(r))&&r[a]&&(n=r[a])}return n}const the="9.3.0-beta.19",_h=-1,lw="en-US",ZI="",eE=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function rhe(){return{upper:(t,e)=>e==="text"&&Je(t)?t.toUpperCase():e==="vnode"&&gr(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Je(t)?t.toLowerCase():e==="vnode"&&gr(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Je(t)?eE(t):e==="vnode"&&gr(t)&&"__v_isVNode"in t?eE(t.children):t}}let nhe,mD;function ahe(t){mD=t}let gD;function ihe(t){gD=t}let yD=null;const tE=t=>{yD=t},she=()=>yD;let bD=null;const rE=t=>{bD=t},ohe=()=>bD;let nE=0;function lhe(t={}){const e=Je(t.version)?t.version:the,r=Je(t.locale)?t.locale:lw,n=ca(t.fallbackLocale)||Tt(t.fallbackLocale)||Je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,a=Tt(t.messages)?t.messages:{[r]:{}},i=Tt(t.datetimeFormats)?t.datetimeFormats:{[r]:{}},s=Tt(t.numberFormats)?t.numberFormats:{[r]:{}},o=ec({},t.modifiers||{},rhe()),l=t.pluralRules||{},u=nn(t.missing)?t.missing:null,c=sn(t.missingWarn)||WI(t.missingWarn)?t.missingWarn:!0,f=sn(t.fallbackWarn)||WI(t.fallbackWarn)?t.fallbackWarn:!0,d=!!t.fallbackFormat,h=!!t.unresolving,p=nn(t.postTranslation)?t.postTranslation:null,y=Tt(t.processor)?t.processor:null,k=sn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,$=!!t.escapeParameter,b=nn(t.messageCompiler)?t.messageCompiler:nhe,_=nn(t.messageResolver)?t.messageResolver:mD||Nde,O=nn(t.localeFallbacker)?t.localeFallbacker:gD||Xde,R=gr(t.fallbackContext)?t.fallbackContext:void 0,P=nn(t.onWarn)?t.onWarn:kde,T=t,G=gr(T.__datetimeFormatters)?T.__datetimeFormatters:new Map,v=gr(T.__numberFormatters)?T.__numberFormatters:new Map,w=gr(T.__meta)?T.__meta:{};nE++;const x={version:e,cid:nE,locale:r,fallbackLocale:n,messages:a,modifiers:o,pluralRules:l,missing:u,missingWarn:c,fallbackWarn:f,fallbackFormat:d,unresolving:h,postTranslation:p,processor:y,warnHtmlMessage:k,escapeParameter:$,messageCompiler:b,messageResolver:_,localeFallbacker:O,fallbackContext:R,onWarn:P,__meta:w};return x.datetimeFormats=i,x.numberFormats=s,x.__datetimeFormatters=G,x.__numberFormatters=v,__INTLIFY_PROD_DEVTOOLS__&&Jde(x,e,w),x}function uw(t,e,r,n,a){const{missing:i,onWarn:s}=t;if(i!==null){const o=i(t,r,e,a);return Je(o)?o:e}else return e}function pl(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}let wD=dD.__EXTEND_POINT__;const Jv=()=>++wD,Js={INVALID_ARGUMENT:wD,INVALID_DATE_ARGUMENT:Jv(),INVALID_ISO_DATE_ARGUMENT:Jv(),__EXTEND_POINT__:Jv()};function Ys(t){return hD(t,null,void 0)}const aE=()=>"",na=t=>nn(t);function iE(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:a,messageCompiler:i,fallbackLocale:s,messages:o}=t,[l,u]=Gg(...e),c=sn(u.missingWarn)?u.missingWarn:t.missingWarn,f=sn(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,d=sn(u.escapeParameter)?u.escapeParameter:t.escapeParameter,h=!!u.resolvedMessage,p=Je(u.default)||sn(u.default)?sn(u.default)?i?l:()=>l:u.default:r?i?l:()=>l:"",y=r||p!=="",k=Je(u.locale)?u.locale:t.locale;d&&uhe(u);let[$,b,_]=h?[l,k,o[k]||{}]:_D(t,l,k,s,f,c),O=$,R=l;if(!h&&!(Je(O)||na(O))&&y&&(O=p,R=O),!h&&(!(Je(O)||na(O))||!Je(b)))return a?_h:l;let P=!1;const T=()=>{P=!0},G=na(O)?O:$D(t,l,b,O,R,T);if(P)return O;const v=dhe(t,b,_,u),w=Wde(v),x=che(t,G,w),j=n?n(x,l):x;if(__INTLIFY_PROD_DEVTOOLS__){const C={timestamp:Date.now(),key:Je(l)?l:na(O)?O.key:"",locale:b||(na(O)?O.locale:""),format:Je(O)?O:na(O)?O.source:"",message:j};C.meta=ec({},t.__meta,she()||{}),Yde(C)}return j}function uhe(t){ca(t.list)?t.list=t.list.map(e=>Je(e)?JI(e):e):gr(t.named)&&Object.keys(t.named).forEach(e=>{Je(t.named[e])&&(t.named[e]=JI(t.named[e]))})}function _D(t,e,r,n,a,i){const{messages:s,onWarn:o,messageResolver:l,localeFallbacker:u}=t,c=u(t,n,r);let f={},d,h=null;const p="translate";for(let y=0;y<c.length&&(d=c[y],f=s[d]||{},(h=l(f,e))===null&&(h=f[e]),!(Je(h)||nn(h)));y++){const k=uw(t,e,d,i,p);k!==e&&(h=k)}return[h,d,f]}function $D(t,e,r,n,a,i){const{messageCompiler:s,warnHtmlMessage:o}=t;if(na(n)){const u=n;return u.locale=u.locale||r,u.key=u.key||e,u}if(s==null){const u=()=>n;return u.locale=r,u.key=e,u}const l=s(n,fhe(t,r,a,n,o,i));return l.locale=r,l.key=e,l.source=n,l}function che(t,e,r){return e(r)}function Gg(...t){const[e,r,n]=t,a={};if(!Je(e)&&!an(e)&&!na(e))throw Ys(Js.INVALID_ARGUMENT);const i=an(e)?String(e):(na(e),e);return an(r)?a.plural=r:Je(r)?a.default=r:Tt(r)&&!ow(r)?a.named=r:ca(r)&&(a.list=r),an(n)?a.plural=n:Je(n)?a.default=n:Tt(n)&&ec(a,n),[i,a]}function fhe(t,e,r,n,a,i){return{warnHtmlMessage:a,onError:s=>{throw i&&i(s),s},onCacheKey:s=>Ede(e,r,s)}}function dhe(t,e,r,n){const{modifiers:a,pluralRules:i,messageResolver:s,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,d={locale:e,modifiers:a,pluralRules:i,messages:h=>{let p=s(r,h);if(p==null&&c){const[,,y]=_D(c,h,e,o,l,u);p=s(y,h)}if(Je(p)){let y=!1;const $=$D(t,h,e,p,h,()=>{y=!0});return y?aE:$}else return na(p)?p:aE}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),an(n.plural)&&(d.pluralIndex=n.plural),d}function sE(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:a,onWarn:i,localeFallbacker:s}=t,{__datetimeFormatters:o}=t,[l,u,c,f]=qg(...e),d=sn(c.missingWarn)?c.missingWarn:t.missingWarn;sn(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,p=Je(c.locale)?c.locale:t.locale,y=s(t,a,p);if(!Je(l)||l==="")return new Intl.DateTimeFormat(p,f).format(u);let k={},$,b=null;const _="datetime format";for(let P=0;P<y.length&&($=y[P],k=r[$]||{},b=k[l],!Tt(b));P++)uw(t,l,$,d,_);if(!Tt(b)||!Je($))return n?_h:l;let O=`${$}__${l}`;ow(f)||(O=`${O}__${JSON.stringify(f)}`);let R=o.get(O);return R||(R=new Intl.DateTimeFormat($,ec({},b,f)),o.set(O,R)),h?R.formatToParts(u):R.format(u)}const xD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function qg(...t){const[e,r,n,a]=t,i={};let s={},o;if(Je(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ys(Js.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw Ys(Js.INVALID_ISO_DATE_ARGUMENT)}}else if(Ode(e)){if(isNaN(e.getTime()))throw Ys(Js.INVALID_DATE_ARGUMENT);o=e}else if(an(e))o=e;else throw Ys(Js.INVALID_ARGUMENT);return Je(r)?i.key=r:Tt(r)&&Object.keys(r).forEach(l=>{xD.includes(l)?s[l]=r[l]:i[l]=r[l]}),Je(n)?i.locale=n:Tt(n)&&(s=n),Tt(a)&&(s=a),[i.key||"",o,i,s]}function oE(t,e,r){const n=t;for(const a in r){const i=`${e}__${a}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function lE(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:a,onWarn:i,localeFallbacker:s}=t,{__numberFormatters:o}=t,[l,u,c,f]=Hg(...e),d=sn(c.missingWarn)?c.missingWarn:t.missingWarn;sn(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,p=Je(c.locale)?c.locale:t.locale,y=s(t,a,p);if(!Je(l)||l==="")return new Intl.NumberFormat(p,f).format(u);let k={},$,b=null;const _="number format";for(let P=0;P<y.length&&($=y[P],k=r[$]||{},b=k[l],!Tt(b));P++)uw(t,l,$,d,_);if(!Tt(b)||!Je($))return n?_h:l;let O=`${$}__${l}`;ow(f)||(O=`${O}__${JSON.stringify(f)}`);let R=o.get(O);return R||(R=new Intl.NumberFormat($,ec({},b,f)),o.set(O,R)),h?R.formatToParts(u):R.format(u)}const SD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Hg(...t){const[e,r,n,a]=t,i={};let s={};if(!an(e))throw Ys(Js.INVALID_ARGUMENT);const o=e;return Je(r)?i.key=r:Tt(r)&&Object.keys(r).forEach(l=>{SD.includes(l)?s[l]=r[l]:i[l]=r[l]}),Je(n)?i.locale=n:Tt(n)&&(s=n),Tt(a)&&(s=a),[i.key||"",o,i,s]}function uE(t,e,r){const n=t;for(const a in r){const i=`${e}__${a}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Rde().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.3.0-beta.19
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const hhe="9.3.0-beta.19";function phe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(uD().__INTLIFY_PROD_DEVTOOLS__=!1)}let ID=dD.__EXTEND_POINT__;const zr=()=>++ID,hn={UNEXPECTED_RETURN_TYPE:ID,INVALID_ARGUMENT:zr(),MUST_BE_CALL_SETUP_TOP:zr(),NOT_INSTALLED:zr(),NOT_AVAILABLE_IN_LEGACY_MODE:zr(),REQUIRED_VALUE:zr(),INVALID_VALUE:zr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:zr(),NOT_INSTALLED_WITH_PROVIDE:zr(),UNEXPECTED_ERROR:zr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:zr(),BRIDGE_SUPPORT_VUE_2_ONLY:zr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:zr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:zr(),__EXTEND_POINT__:zr()};function kn(t,...e){return hD(t,null,void 0)}const Vg=Ss("__translateVNode"),Wg=Ss("__datetimeParts"),Kg=Ss("__numberParts"),vhe=Ss("__setPluralRules"),mhe=Ss("__injectWithOption");function Jg(t){if(!An(t))return t;for(const e in t)if(sw(t,e))if(!e.includes("."))An(t[e])&&Jg(t[e]);else{const r=e.split("."),n=r.length-1;let a=t;for(let i=0;i<n;i++)r[i]in a||(a[r[i]]={}),a=a[r[i]];a[r[n]]=t[e],delete t[e],An(a[r[n]])&&Jg(a[r[n]])}return t}function ED(t,e){const{messages:r,__i18n:n,messageResolver:a,flatJson:i}=e,s=Un(r)?r:Ia(n)?{}:{[t]:{}};if(Ia(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(s[l]=s[l]||{},Vl(u,s[l])):Vl(u,s)}else Jt(o)&&Vl(JSON.parse(o),s)}),a==null&&i)for(const o in s)sw(s,o)&&Jg(s[o]);return s}const af=t=>!An(t)||Ia(t);function Vl(t,e){if(af(t)||af(e))throw kn(hn.INVALID_VALUE);for(const r in t)sw(t,r)&&(af(t[r])||af(e[r])?e[r]=t[r]:Vl(t[r],e[r]))}function AD(t){return t.type}function ghe(t,e,r){let n=An(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=ED(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const a=Object.keys(n);a.length&&a.forEach(i=>{t.mergeLocaleMessage(i,n[i])});{if(An(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(An(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function cE(t){return te(Gu,null,t,0)}const fE="__INTLIFY_META__";let dE=0;function hE(t){return(e,r,n,a)=>t(r,n,hh()||void 0,a)}const yhe=()=>{const t=hh();let e=null;return t&&(e=AD(t)[fE])?{[fE]:e}:null};function OD(t={},e){const{__root:r}=t,n=r===void 0;let a=Qa(t.inheritLocale)?t.inheritLocale:!0;const i=Pe(r&&a?r.locale.value:Jt(t.locale)?t.locale:lw),s=Pe(r&&a?r.fallbackLocale.value:Jt(t.fallbackLocale)||Ia(t.fallbackLocale)||Un(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i.value),o=Pe(ED(i.value,t)),l=Pe(Un(t.datetimeFormats)?t.datetimeFormats:{[i.value]:{}}),u=Pe(Un(t.numberFormats)?t.numberFormats:{[i.value]:{}});let c=r?r.missingWarn:Qa(t.missingWarn)||HI(t.missingWarn)?t.missingWarn:!0,f=r?r.fallbackWarn:Qa(t.fallbackWarn)||HI(t.fallbackWarn)?t.fallbackWarn:!0,d=r?r.fallbackRoot:Qa(t.fallbackRoot)?t.fallbackRoot:!0,h=!!t.fallbackFormat,p=nf(t.missing)?t.missing:null,y=nf(t.missing)?hE(t.missing):null,k=nf(t.postTranslation)?t.postTranslation:null,$=r?r.warnHtmlMessage:Qa(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter;const _=r?r.modifiers:Un(t.modifiers)?t.modifiers:{};let O=t.pluralRules||r&&r.pluralRules,R;R=(()=>{n&&rE(null);const Y={version:hhe,locale:i.value,fallbackLocale:s.value,messages:o.value,modifiers:_,pluralRules:O,missing:y===null?void 0:y,missingWarn:c,fallbackWarn:f,fallbackFormat:h,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:$,escapeParameter:b,messageResolver:t.messageResolver,__meta:{framework:"vue"}};Y.datetimeFormats=l.value,Y.numberFormats=u.value,Y.__datetimeFormatters=Un(R)?R.__datetimeFormatters:void 0,Y.__numberFormatters=Un(R)?R.__numberFormatters:void 0;const ie=lhe(Y);return n&&rE(ie),ie})(),pl(R,i.value,s.value);function T(){return[i.value,s.value,o.value,l.value,u.value]}const G=de({get:()=>i.value,set:Y=>{i.value=Y,R.locale=i.value}}),v=de({get:()=>s.value,set:Y=>{s.value=Y,R.fallbackLocale=s.value,pl(R,i.value,Y)}}),w=de(()=>o.value),x=de(()=>l.value),j=de(()=>u.value);function C(){return nf(k)?k:null}function B(Y){k=Y,R.postTranslation=Y}function X(){return p}function K(Y){Y!==null&&(y=hE(Y)),p=Y,R.missing=y}const F=(Y,ie,be,ye,ve,Ie)=>{T();let Le;if(__INTLIFY_PROD_DEVTOOLS__)try{tE(yhe()),n||(R.fallbackContext=r?ohe():void 0),Le=Y(R)}finally{tE(null),n||(R.fallbackContext=void 0)}else Le=Y(R);if(du(Le)&&Le===_h){const[lt,ut]=ie();return r&&d?ye(r):ve(lt)}else{if(Ie(Le))return Le;throw kn(hn.UNEXPECTED_RETURN_TYPE)}};function U(...Y){return F(ie=>Reflect.apply(iE,null,[ie,...Y]),()=>Gg(...Y),"translate",ie=>Reflect.apply(ie.t,ie,[...Y]),ie=>ie,ie=>Jt(ie))}function z(...Y){const[ie,be,ye]=Y;if(ye&&!An(ye))throw kn(hn.INVALID_ARGUMENT);return U(ie,be,ua({resolvedMessage:!0},ye||{}))}function H(...Y){return F(ie=>Reflect.apply(sE,null,[ie,...Y]),()=>qg(...Y),"datetime format",ie=>Reflect.apply(ie.d,ie,[...Y]),()=>ZI,ie=>Jt(ie))}function q(...Y){return F(ie=>Reflect.apply(lE,null,[ie,...Y]),()=>Hg(...Y),"number format",ie=>Reflect.apply(ie.n,ie,[...Y]),()=>ZI,ie=>Jt(ie))}function g(Y){return Y.map(ie=>Jt(ie)||du(ie)||Qa(ie)?cE(String(ie)):ie)}const M={normalize:g,interpolate:Y=>Y,type:"vnode"};function W(...Y){return F(ie=>{let be;const ye=ie;try{ye.processor=M,be=Reflect.apply(iE,null,[ye,...Y])}finally{ye.processor=null}return be},()=>Gg(...Y),"translate",ie=>ie[Vg](...Y),ie=>[cE(ie)],ie=>Ia(ie))}function Z(...Y){return F(ie=>Reflect.apply(lE,null,[ie,...Y]),()=>Hg(...Y),"number format",ie=>ie[Kg](...Y),()=>[],ie=>Jt(ie)||Ia(ie))}function N(...Y){return F(ie=>Reflect.apply(sE,null,[ie,...Y]),()=>qg(...Y),"datetime format",ie=>ie[Wg](...Y),()=>[],ie=>Jt(ie)||Ia(ie))}function ee(Y){O=Y,R.pluralRules=O}function ne(Y,ie){const be=Jt(ie)?ie:i.value,ye=D(be);return R.messageResolver(ye,Y)!==null}function m(Y){let ie=null;const be=vD(R,s.value,i.value);for(let ye=0;ye<be.length;ye++){const ve=o.value[be[ye]]||{},Ie=R.messageResolver(ve,Y);if(Ie!=null){ie=Ie;break}}return ie}function E(Y){const ie=m(Y);return ie??(r?r.tm(Y)||{}:{})}function D(Y){return o.value[Y]||{}}function S(Y,ie){o.value[Y]=ie,R.messages=o.value}function I(Y,ie){o.value[Y]=o.value[Y]||{},Vl(ie,o.value[Y]),R.messages=o.value}function L(Y){return l.value[Y]||{}}function Q(Y,ie){l.value[Y]=ie,R.datetimeFormats=l.value,oE(R,Y,ie)}function re(Y,ie){l.value[Y]=ua(l.value[Y]||{},ie),R.datetimeFormats=l.value,oE(R,Y,ie)}function ue(Y){return u.value[Y]||{}}function he(Y,ie){u.value[Y]=ie,R.numberFormats=u.value,uE(R,Y,ie)}function ce(Y,ie){u.value[Y]=ua(u.value[Y]||{},ie),R.numberFormats=u.value,uE(R,Y,ie)}dE++,r&&zg&&(jr(r.locale,Y=>{a&&(i.value=Y,R.locale=Y,pl(R,i.value,s.value))}),jr(r.fallbackLocale,Y=>{a&&(s.value=Y,R.fallbackLocale=Y,pl(R,i.value,s.value))}));const pe={id:dE,locale:G,fallbackLocale:v,get inheritLocale(){return a},set inheritLocale(Y){a=Y,Y&&r&&(i.value=r.locale.value,s.value=r.fallbackLocale.value,pl(R,i.value,s.value))},get availableLocales(){return Object.keys(o.value).sort()},messages:w,get modifiers(){return _},get pluralRules(){return O||{}},get isGlobal(){return n},get missingWarn(){return c},set missingWarn(Y){c=Y,R.missingWarn=c},get fallbackWarn(){return f},set fallbackWarn(Y){f=Y,R.fallbackWarn=f},get fallbackRoot(){return d},set fallbackRoot(Y){d=Y},get fallbackFormat(){return h},set fallbackFormat(Y){h=Y,R.fallbackFormat=h},get warnHtmlMessage(){return $},set warnHtmlMessage(Y){$=Y,R.warnHtmlMessage=Y},get escapeParameter(){return b},set escapeParameter(Y){b=Y,R.escapeParameter=Y},t:U,getLocaleMessage:D,setLocaleMessage:S,mergeLocaleMessage:I,getPostTranslationHandler:C,setPostTranslationHandler:B,getMissingHandler:X,setMissingHandler:K,[vhe]:ee};return pe.datetimeFormats=x,pe.numberFormats=j,pe.rt=z,pe.te=ne,pe.tm=E,pe.d=H,pe.n=q,pe.getDateTimeFormat=L,pe.setDateTimeFormat=Q,pe.mergeDateTimeFormat=re,pe.getNumberFormat=ue,pe.setNumberFormat=he,pe.mergeNumberFormat=ce,pe[mhe]=t.__injectWithOption,pe[Vg]=W,pe[Wg]=N,pe[Kg]=Z,pe}const cw={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function bhe({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,a)=>[...n,...a.type===Xe?a.children:[a]],[]):e.reduce((r,n)=>{const a=t[n];return a&&(r[n]=a()),r},{})}function kD(t){return Xe}const whe=$e({name:"i18n-t",props:ua({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>du(t)||!isNaN(t)}},cw),setup(t,e){const{slots:r,attrs:n}=e,a=t.i18n||fw({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter(f=>f!=="_"),s={};t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=Jt(t.plural)?+t.plural:t.plural);const o=bhe(e,i),l=a[Vg](t.keypath,o,s),u=ua({},n),c=Jt(t.tag)||An(t.tag)?t.tag:kD();return Nt(c,u,l)}}}),pE=whe;function _he(t){return Ia(t)&&!Jt(t[0])}function RD(t,e,r,n){const{slots:a,attrs:i}=e;return()=>{const s={part:!0};let o={};t.locale&&(s.locale=t.locale),Jt(t.format)?s.key=t.format:An(t.format)&&(Jt(t.format.key)&&(s.key=t.format.key),o=Object.keys(t.format).reduce((d,h)=>r.includes(h)?ua({},d,{[h]:t.format[h]}):d,{}));const l=n(t.value,s,o);let u=[s.key];Ia(l)?u=l.map((d,h)=>{const p=a[d.type],y=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return _he(y)&&(y[0].key=`${d.type}-${h}`),y}):Jt(l)&&(u=[l]);const c=ua({},i),f=Jt(t.tag)||An(t.tag)?t.tag:kD();return Nt(f,c,u)}}const $he=$e({name:"i18n-n",props:ua({value:{type:Number,required:!0},format:{type:[String,Object]}},cw),setup(t,e){const r=t.i18n||fw({useScope:"parent",__useComponent:!0});return RD(t,e,SD,(...n)=>r[Kg](...n))}}),vE=$he,xhe=$e({name:"i18n-d",props:ua({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},cw),setup(t,e){const r=t.i18n||fw({useScope:"parent",__useComponent:!0});return RD(t,e,xD,(...n)=>r[Wg](...n))}}),mE=xhe;function She(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function Ihe(t){const e=s=>{const{instance:o,modifiers:l,value:u}=s;if(!o||!o.$)throw kn(hn.UNEXPECTED_ERROR);const c=She(t,o.$),f=gE(u);return[Reflect.apply(c.t,c,[...yE(f)]),c]};return{created:(s,o)=>{const[l,u]=e(o);zg&&t.global===u&&(s.__i18nWatcher=jr(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),s.__composer=u,s.textContent=l},unmounted:s=>{zg&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:o})=>{if(s.__composer){const l=s.__composer,u=gE(o);s.textContent=Reflect.apply(l.t,l,[...yE(u)])}},getSSRProps:s=>{const[o]=e(s);return{textContent:o}}}}function gE(t){if(Jt(t))return{path:t};if(Un(t)){if(!("path"in t))throw kn(hn.REQUIRED_VALUE,"path");return t}else throw kn(hn.INVALID_VALUE)}function yE(t){const{path:e,locale:r,args:n,choice:a,plural:i}=t,s={},o=n||{};return Jt(r)&&(s.locale=r),du(a)&&(s.plural=a),du(i)&&(s.plural=i),[e,o,s]}function Ehe(t,e,...r){const n=Un(r[0])?r[0]:{},a=!!n.useI18nComponentName;(Qa(n.globalInstall)?n.globalInstall:!0)&&(t.component(a?"i18n":pE.name,pE),t.component(vE.name,vE),t.component(mE.name,mE)),t.directive("t",Ihe(e))}const Ahe=Ss("global-vue-i18n");function Ohe(t={},e){const r=Qa(t.globalInjection)?t.globalInjection:!0,n=!0,a=new Map,[i,s]=khe(t),o=Ss("");function l(f){return a.get(f)||null}function u(f,d){a.set(f,d)}function c(f){a.delete(f)}{const f={get mode(){return"composition"},get allowComposition(){return n},async install(d,...h){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,f),Un(h[0])){const y=h[0];f.__composerExtend=y.__composerExtend,f.__vueI18nExtend=y.__vueI18nExtend}r&&Nhe(d,f.global),Ehe(d,f,...h);const p=d.unmount;d.unmount=()=>{f.dispose(),p()}},get global(){return s},dispose(){i.stop()},__instances:a,__getInstance:l,__setInstance:u,__deleteInstance:c};return f}}function fw(t={}){const e=hh();if(e==null)throw kn(hn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw kn(hn.NOT_INSTALLED);const r=Rhe(e),n=Phe(r),a=AD(e),i=The(t,a);if(i==="global")return ghe(n,t,a),n;if(i==="parent"){let l=Che(r,e,t.__useComponent);return l==null&&(l=n),l}const s=r;let o=s.__getInstance(e);if(o==null){const l=ua({},t);"__i18n"in a&&(l.__i18n=a.__i18n),n&&(l.__root=n),o=OD(l),s.__composerExtend&&s.__composerExtend(o),jhe(s,e),s.__setInstance(e,o)}return o}function khe(t,e,r){const n=c0();{const a=n.run(()=>OD(t));if(a==null)throw kn(hn.UNEXPECTED_ERROR);return[n,a]}}function Rhe(t){{const e=kt(t.isCE?Ahe:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw kn(t.isCE?hn.NOT_INSTALLED_WITH_PROVIDE:hn.UNEXPECTED_ERROR);return e}}function The(t,e){return $de(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Phe(t){return t.mode==="composition"?t.global:t.global.__composer}function Che(t,e,r=!1){let n=null;const a=e.root;let i=Dhe(e,r);for(;i!=null;){const s=t;if(t.mode==="composition"&&(n=s.__getInstance(i)),n!=null||a===i)break;i=i.parent}return n}function Dhe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function jhe(t,e,r){$r(()=>{},e),Mr(()=>{t.__deleteInstance(e)},e)}const Lhe=["locale","fallbackLocale","availableLocales"],Mhe=["t","rt","d","n","tm","te"];function Nhe(t,e){const r=Object.create(null);Lhe.forEach(n=>{const a=Object.getOwnPropertyDescriptor(e,n);if(!a)throw kn(hn.UNEXPECTED_ERROR);const i=Ft(a.value)?{get(){return a.value.value},set(s){a.value.value=s}}:{get(){return a.get&&a.get()}};Object.defineProperty(r,n,i)}),t.config.globalProperties.$i18n=r,Mhe.forEach(n=>{const a=Object.getOwnPropertyDescriptor(e,n);if(!a||!a.value)throw kn(hn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${n}`,a)})}ahe(Fde);ihe(vD);phe();if(__INTLIFY_PROD_DEVTOOLS__){const t=uD();t.__INTLIFY__=!0,Kde(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}class Fhe{constructor(e,r){J(this,"i18n",void 0),J(this,"messages",void 0),this.i18n=e,this.messages=r,this.messages.addListener((n,a)=>this.i18n.setLocaleMessage(n,a))}getLocale(){return this.i18n.locale.value}async setLocale(e){await this.messages.loadLocale(e),this.i18n.locale.value=e}getFallbackLocale(){const e=this.i18n.fallbackLocale.value;return typeof e!="string"?"":e}async setFallbackLocale(e){await this.messages.loadLocale(e),this.i18n.fallbackLocale.value=e}getLocales(){return this.messages.getLocales()}translate(e,r){return this.i18n.t(e,r??{})}translateWithDefault(e,r,n){const a=this.i18n.t(e,n??{},{missingWarn:!1});return a===e?this.replaceParameters(r,n):a}replaceParameters(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.entries(r).reduce((n,a)=>{let[i,s]=a;return n.replace(new RegExp(`\\{.*${i}[^}]*\\}`),At(s))},e)}}class Uhe{constructor(e){J(this,"listeners",[]),J(this,"messages",{}),J(this,"loaders",void 0),this.loaders=Object.entries(e).reduce((r,n)=>{var o;let[a,i]=n;const s=(o=HT(a,/.*\/lang\/(.+)\.yaml/))==null?void 0:o[1];return s&&(r[s]=()=>i().then(l=>{let{default:u}=l;return u})),r},{})}getMessages(){return Object.assign({},this.messages)}getLocales(){return Object.keys(this.loaders)}addListener(e){this.listeners.push(e)}async loadLocale(e){if(e in this.messages)return this.messages[e];const r=this.loaders[e]??tt(`Couldn't load messages for '${e}' locale`),n=await r();return this.messages[e]=n,this.listeners.forEach(a=>a(e,n)),n}}function Bhe(t){return{async install(e){const r=new Uhe(t.messages),n=await async function(a){const i=a.defaultLocale??"en",s=a.fallbackLocale??"en";return await a.messages.loadLocale(i),await a.messages.loadLocale(s),Ohe({legacy:!1,warnHtmlMessage:!1,locale:i,fallbackLocale:s,messages:a.messages.getMessages()})}({...t,messages:r});e.use(n),Io.setProvider(new Fhe(n.global,r))}}}function zhe(){return typeof global<"u"?global:typeof globalThis<"u"?globalThis:window}function Ghe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var qhe=zhe().Error,Is=function(t){ot(r,qhe);var e=Ghe(r);function r(n,a){var i;return Te(this,r),(i=e.call.apply(e,[this].concat([n,a]))).name=(this instanceof r?this.constructor:void 0).name==="JSError"?"Error":(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(rt(i),(this instanceof r?this.constructor:void 0).prototype),i}return r}(),bE=function(){function t(){if(Te(this,t),!this.static().isConjuring())return this.static().isMagicReady()||this.static().prepareMagic(),this._proxy=this.createProxy(),this.initialize.apply(this,arguments),this._proxy.instance}return Fe(t,[{key:"reserveProperty",value:function(e){Object.assign(this,J({},e,null))}},{key:"initialize",value:function(){}},{key:"static",value:function(){return this.constructor}},{key:"__get",value:function(e){return Reflect.get(this._proxy.target,e)}},{key:"__set",value:function(e,r){Reflect.set(this._proxy.target,e,r)}},{key:"__delete",value:function(e){Reflect.deleteProperty(this._proxy.target,e)}},{key:"createProxy",value:function(){var e=this.static();return{target:this,instance:new Proxy(this,{get:function(r,n,a){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.get(r,n,a):r.__get(n)},set:function(r,n,a,i){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.set(r,n,a,i):(r.__set(n,a),!0)},deleteProperty:function(r,n){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.deleteProperty(r,n):(r.__delete(n),!0)}})}}}],[{key:"isConjuring",value:function(){return this.__conjuring}},{key:"isMagicReady",value:function(){return this.__reservedProperties.has(this)}},{key:"prepareMagic",value:function(){this.__conjuring=!0,this.__reservedProperties.set(this,new Set(Object.getOwnPropertyNames(new this))),this.__conjuring=!1}},{key:"isReservedProperty",value:function(e){var r;return!((r=this.__reservedProperties.get(this))===null||r===void 0||!r.has(e))}}]),t}();J(bE,"__conjuring",void 0),J(bE,"__reservedProperties",new WeakMap);Array.isArray.bind(Array);var TD;Object.entries.bind(Object);function PD(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var a=Me(n[r],2),i=a[0],s=a[1];s!=null&&(e[i]=s)}return e}function Hhe(t){return String(t)}function wE(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return _E(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _E(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}TD=Symbol.iterator;(function(t){function e(r){Te(this,e),J(this,"keysToItems",void 0),J(this,"itemsToKeys",void 0),J(this,"getKey",void 0),this.keysToItems=new Map,this.itemsToKeys=new WeakMap,this.getKey=r??function(n){return Hhe(n)}}return Fe(e,[{key:TD,value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this.keysToItems,"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"size",get:function(){return this.keysToItems.size}},{key:"items",value:function(){return this.keysToItems.values()}},{key:"keys",value:function(){return this.keysToItems.keys()}},{key:"entries",value:function(){return this.keysToItems.entries()}},{key:"add",value:function(r){var n=this.getKey(r);this.keysToItems.set(n,r),this.itemsToKeys.set(r,n)}},{key:"require",value:function(r){return this.keysToItems.get(r)||fail("Couldn't find item with '".concat(r,"' key"))}},{key:"get",value:function(r){return this.keysToItems.get(r)}},{key:"getKeys",value:function(){return Pt(this.keysToItems.keys())}},{key:"getItems",value:function(){return Pt(this.keysToItems.values())}},{key:"hasKey",value:function(r){return this.keysToItems.has(r)}},{key:"hasItem",value:function(r){return this.itemsToKeys.has(r)}},{key:"delete",value:function(r){var n=this.itemsToKeys.get(r);n&&(this.itemsToKeys.delete(r),this.keysToItems.delete(n))}},{key:"filter",value:function(r){var n,a=this.constructor.createFromArray([],this.getKey),i=wE(this.entries());try{for(i.s();!(n=i.n()).done;){var s=Me(n.value,2),o=s[0],l=s[1];r(l,o)&&a.add(l)}}catch(u){i.e(u)}finally{i.f()}return a}},{key:"clear",value:function(){this.itemsToKeys=new WeakMap,this.keysToItems.clear()}}],[{key:"createFromArray",value:function(r,n){var a,i=typeof n=="string"?function(u){return u[n]}:n,s=new e(i),o=wE(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;s.add(l)}}catch(u){o.e(u)}finally{o.f()}return s}}]),e})();(function(){function t(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Te(this,t),J(this,"count",void 0),J(this,"listeners",void 0),this.count=a,this.listeners=new Set}var e,r,n;return Fe(t,[{key:"acquire",value:(n=fe(V.mark(function a(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.waitAvailable();case 2:this.count=Math.max(this.count-1,0);case 3:case"end":return i.stop()}},a,this)})),function(){return n.apply(this,arguments)})},{key:"release",value:function(){this.count++,this.notifyAvailable()}},{key:"run",value:(r=fe(V.mark(function a(i){var s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.acquire();case 2:return o.next=4,i();case 4:return s=o.sent,this.release(),o.abrupt("return",s);case 7:case"end":return o.stop()}},a,this)})),function(a){return r.apply(this,arguments)})},{key:"waitAvailable",value:(e=fe(V.mark(function a(){var i=this;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.count!==0){s.next=5;break}return s.next=3,new Promise(function(o){i.listeners.add(function l(){i.listeners.delete(l),o(null)})});case 3:s.next=0;break;case 5:case"end":return s.stop()}},a,this)})),function(){return e.apply(this,arguments)})},{key:"notifyAvailable",value:function(){this.listeners.forEach(function(a){return a()})}}]),t})();var $E={},CD=function(){function t(){Te(this,t)}return Fe(t,[{key:"set",value:function(e,r){r===void 0&&(r="__undefined__"),localStorage.setItem(e,JSON.stringify(r))}},{key:"get",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=localStorage.getItem(e);return n===null?r:n!=="__undefined__"?JSON.parse(n):void 0}},{key:"require",value:function(e){var r=this.get(e,$E);if(r===$E)throw new Error("Failed getting required key from local storage: '".concat(e,"'"));return r}},{key:"has",value:function(e){return localStorage.getItem(e)!==null}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"pull",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!this.has(e))return r;var n=this.get(e);return this.remove(e),n}}],[{key:"instance",get:function(){var e;return this._instance=(e=this._instance)!==null&&e!==void 0?e:new t}}]),t}();J(CD,"_instance",void 0);CD.instance;function Yv(t,e){return t>e?1:e>t?-1:0}function dw(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return xE(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return xE(l,u)}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vhe(t){t.splice(0,t.length)}function Whe(t,e,r){var n,a=t.slice(0),i=[],s=r?function(c,f){return f.findIndex(function(d){return r(c,d)})}:function(c,f){return f.indexOf(c)},o=dw(e);try{for(o.s();!(n=o.n()).done;){var l=n.value,u=s(l,a);u!==-1?a.splice(u,1):i.push(l)}}catch(c){o.e(c)}finally{o.f()}return{added:i,removed:a}}function hw(t,e){return e?t.filter(e):t.filter(function(r){return!!r})}function Khe(t,e){var r,n=dw(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e(a))return a}}catch(i){n.e(i)}finally{n.f()}return null}function Jhe(t,e){return Pt(t.entries()).flatMap(function(r){var n=Me(r,2),a=n[0],i=n[1];return e(i,a)})}function Yhe(t){return t.length===0}function Qhe(t,e){return t.map(function(r){return r[e]})}function Xhe(t){return t.length===0?null:t[Math.floor(Math.random()*t.length)]}function Zhe(t,e){for(var r=t.slice(0),n=[];r.length>0&&n.length<e;){var a=Math.floor(Math.random()*r.length);n.push(r[a]),r.splice(a,1)}return n}function Cf(t,e){var r=t.indexOf(e);return r!==-1&&(t.splice(r,1),!0)}function epe(t,e){return t.splice(Number(e),1).length>0}function tpe(t,e,r){var n=t.indexOf(e);return n!==-1&&(t[n]=r,!0)}function rpe(t,e,r){r=e==="asc"||e==="desc"?e:r;var n={},a=function(i,s){var o;if(!(s in n)){var l,u=(l=t.find(function(c){return c[s]!==void 0&&c[s]!==null}))===null||l===void 0?void 0:l[s];n[s]=function(c){switch(wr(c)){case"string":return"";case"number":return Number.MIN_SAFE_INTEGER;case"boolean":return!1;default:return null}}(u)}return(o=i[s])!==null&&o!==void 0?o:n[s]};return t.slice(0).sort(function(){var i=r==="desc"?function(o){return function(l,u){return Yv(a(u,o),a(l,o))}}:function(o){return function(l,u){return Yv(a(l,o),a(u,o))}};switch(wr(e)){case"function":return e;case"string":return e==="asc"?void 0:e==="desc"?function(o,l){return Yv(l,o)}:i(e);case"object":var s=e.map(function(o){return i(o)});return function(o,l){var u,c=dw(s);try{for(c.s();!(u=c.n()).done;){var f=(0,u.value)(o,l);if(f!==0)return f}}catch(d){c.e(d)}finally{c.f()}return 0}}}())}function DD(t,e){return e?Object.values(t.reduce(function(r,n){var a,i=e(n);return r[i]=(a=r[i])!==null&&a!==void 0?a:n,r},{})):Pt(new Set(t))}function npe(t,e,r){return t.filter(function(n){var a=n[e],i=typeof a=="function"?a.call(n):a;return r?i===r:!!i})}function ape(t,e){return Array.isArray(e)?hw(t,function(r){return e.indexOf(r)===-1}):ipe(t,t.indexOf(e))}function ipe(t,e){return jD(t,[e])}function jD(t,e){return t.map(function(r,n){return[r,n]}).filter(function(r){var n=Me(r,2);n[0];var a=n[1];return!e.includes(a)}).map(function(r){return Me(r,1)[0]})}(function(){function t(){Te(this,t),J(this,"resolveListeners",[]),J(this,"rejectListeners",[]),J(this,"resetListeners",[]),this.setPromiseValues()}return Fe(t,[{key:"value",get:function(){return this._value||null}},{key:"isResolved",value:function(){return"_value"in this}},{key:"then",value:function(e,r){return this.promise.then(e,r)}},{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"resolve",value:function(e){this.isResolved()&&this.reset(),this._value=e,this._resolve(e),this.resolveListeners.forEach(function(r){return r(e)})}},{key:"reject",value:function(e){this.isResolved()&&this.reset(),delete this._value,this._reject(e),this.rejectListeners.forEach(function(r){return r(e)})}},{key:"onResolve",value:function(e){var r=this;return this.resolveListeners.push(e),function(){return Cf(r.resolveListeners,e)}}},{key:"onReject",value:function(e){var r=this;return this.rejectListeners.push(e),function(){return Cf(r.rejectListeners,e)}}},{key:"onReset",value:function(e){var r=this;return this.resetListeners.push(e),function(){return Cf(r.resetListeners,e)}}},{key:"reset",value:function(){this.setPromiseValues(),this.rejectListeners.forEach(function(e){return e()})}},{key:"setPromiseValues",value:function(){var e=this;this.promise=new Promise(function(r,n){e._resolve=r,e._reject=n})}}],[{key:"from",value:function(e){var r=new t;return e.then(r.resolve.bind(r)).catch(r.reject.bind(r)),r}}]),t})();function Qv(t){if(!t)return null;try{var e=new Date(t),r=e.getTime();return isNaN(r)||r===0?null:e}catch{return null}}function LD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof t!="function"?t.catch(function(){return e}):fe(V.mark(function r(){var n=arguments;return V.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.apply(void 0,n);case 3:return a.abrupt("return",a.sent);case 6:return a.prev=6,a.t0=a.catch(0),a.abrupt("return",e??null);case 9:case"end":return a.stop()}},r,null,[[0,6]])}))}function spe(t,e){return t.match(e)}function ope(t){return t.split("").reverse().join("")}function pw(t){return t.split(/_|-|\s|(?=[A-Z])/)}function lpe(t){var e=pw(t),r=Cb(e),n=r[0],a=r.slice(1);return(n??"").toLowerCase()+a.map(function(i){return i.slice(0,1).toUpperCase()+i.slice(1).toLowerCase()}).join("")}function upe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return t=t.normalize("NFD").replace(/[ÖÖ¾áâââââââ¸â¸â¸ºâ¸»~ãã°ã ï¸±ï¸²ï¹ï¹£ï¼(){}><[\]]/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[\u3000-\u303f]/g,"").replace(/['".,#!$%/\\^&*;:=`@+?]/g,"").toLowerCase().trim().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}function cpe(t){return pw(t).map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join("")}function fpe(t){return pw(t).map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}function MD(t){var e=t.indexOf("://")+3,r=t.substr(e).indexOf("/");return r!==-1?t.substring(0,e+r):t}function SE(t){if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),MD(t)===t)return null;var e=t.lastIndexOf("/");return e!==-1?t.substr(0,e+1):null}function dpe(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=r.indexOf(":")===-1?[r]:r.split(":"),a=Me(n,2),i=a[0],s=a[1];return{protocol:e[2]||void 0,domain:i||void 0,port:s||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function hpe(t,e){var r,n,a=dpe(t);if(!a)return t;for(var i=0,s=Object.entries(a);i<s.length;i++){var o=Me(s[i],2),l=o[0],u=o[1];a[l]=e[l]!==!1&&u||""}return[a.protocol?"".concat(a.protocol,"://"):"",(r=a.domain)!==null&&r!==void 0?r:"",a.port?":".concat(a.port):"",(n=a.path)!==null&&n!==void 0?n:"",a.query?"?".concat(a.query):"",a.fragment?"#".concat(a.fragment):""].join("")}function ppe(t){return hpe(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})}function ND(t,e){for(var r=t.prototype,n=function(){var s=Me(i[a],2),o=s[0],l=s[1];r[o]=function(){for(var u,c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var h=l.apply(void 0,[this.value].concat(f));return(u=this.chain)===null||u===void 0?void 0:u.call(this,h)}},a=0,i=Object.entries(e);a<i.length;a++)n()}function FD(t,e){for(var r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype),a=function(){var o=Me(s[i],2),l=o[0],u=o[1];return l in r?"continue":typeof u.value!="function"?(Object.defineProperty(r,l,{get:function(){return this.chain(this.value[l])}}),"continue"):void(r[l]=function(){for(var c,f,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];var y=(c=u.value).call.apply(c,[this.value].concat(h));return(f=this.chain)===null||f===void 0?void 0:f.call(this,y)})},i=0,s=Object.entries(n);i<s.length;i++)a()}var UD=function(){function t(e){Te(this,t),J(this,"value",void 0),this.value=e}return Fe(t,[{key:"create",value:function(e){return new this.constructor(e)}},{key:"chain",value:function(e){return this.isPrimitive(e)?this.create(e):e}}],[{key:"isPrimitive",value:function(e){return this.prototype.isPrimitive(e)}}]),t}();function vpe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var mpe={clear:Vhe,diff:Whe,filter:hw,first:Khe,flatMap:Jhe,isEmpty:Yhe,project:Qhe,randomItem:Xhe,randomItems:Zhe,remove:Cf,removeIndex:epe,replace:tpe,sorted:rpe,unique:DD,where:npe,without:ape,withoutIndexes:jD},IE=function(t,e){ot(n,t);var r=vpe(n);function n(){return Te(this,n),r.apply(this,arguments)}return Fe(n,[{key:e,value:V.mark(function a(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this.value,"t0",1);case 1:case"end":return i.stop()}},a,this)})},{key:"get",value:function(a){return this.value[a]}},{key:"toArray",value:function(){return this.value.slice(0)}},{key:"isPrimitive",value:function(a){return Array.isArray(a)}}],[{key:"create",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.prototype;return i.create(a)}}]),n}(UD,Symbol.iterator);function gpe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}ND(IE,mpe),FD(IE,Array);var ype={reverse:ope,toCamelCase:lpe,toSlug:upe,toStudlyCase:cpe,toTitleCase:fpe},EE=function(t){ot(r,UD);var e=gpe(r);function r(){return Te(this,r),e.apply(this,arguments)}return Fe(r,[{key:"toString",value:function(){return this.value}},{key:"isPrimitive",value:function(n){return typeof n=="string"}}],[{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=this.prototype;return a.create(n)}}]),r}();ND(EE,ype),FD(EE,String);function bpe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Yg;(function(t){t.Turtle="Turtle"})(Yg||(Yg={}));var wpe=function(t){ot(r,Is);var e=bpe(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,function(o,l,u){return o?"Malformed ".concat(l," document found at ").concat(o," - ").concat(u):"Malformed ".concat(l," document - ").concat(u)}(n,a,i)),J(rt(s),"documentUrl",void 0),J(rt(s),"documentFormat",void 0),J(rt(s),"malformationDetails",void 0),s.documentUrl=n,s.documentFormat=a,s.malformationDetails=i,s}return r}();function _pe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var $pe=function(t){ot(r,Is);var e=_pe(r);function r(n,a){var i;return Te(this,r),i=e.call(this,"Request failed trying to fetch ".concat(n),a),J(rt(i),"url",void 0),i.url=n,i}return r}();function xpe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var AE=function(t){ot(r,Is);var e=xpe(r);function r(n){var a;return Te(this,r),a=e.call(this,"Document with '".concat(n,"' url not found")),J(rt(a),"url",void 0),a.url=n,a}return r}();function Spe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}var Qg=function(t){ot(r,Is);var e=Spe(r);function r(n,a){var i;return Te(this,r),i=e.call(this,function(s,o){return"Unauthorized".concat(o===403?" (Forbidden)":"",": ").concat(s)}(n,a)),J(rt(i),"url",void 0),J(rt(i),"responseStatus",void 0),i.url=n,i.responseStatus=a,i}return Fe(r,[{key:"forbidden",get:function(){return this.responseStatus!==void 0?this.responseStatus===403:void 0}}]),r}();function Ipe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){ot(r,Is);var e=Ipe(r);function r(n,a){var i;return Te(this,r),i=e.call(this,function(s,o){var l;return o=(l=o)!==null&&l!==void 0?l:s,typeof s=="string"?"".concat(s," (returned ").concat(o.status," status code)"):"Request to ".concat(o.url," returned ").concat(o.status," status code")}(n,a)),J(rt(i),"response",void 0),i.response=a??n,i}return r})();function Epe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){ot(r,Is);var e=Epe(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,"The resource at ".concat(n," is using an unsupported authorization protocol (").concat(a,")"),i),J(rt(s),"url",void 0),J(rt(s),"protocol",void 0),s.url=n,s.protocol=a,s}return r})();var Ape={acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",vcard:"http://www.w3.org/2006/vcard/ns#"};function uo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.startsWith("http"))return t;var r=t.split(":"),n=Me(r,2),a=n[0],i=n[1];if(a&&i){var s,o,l,u=(s=(o=Ape[a])!==null&&o!==void 0?o:(l=e.extraContext)===null||l===void 0?void 0:l[a])!==null&&s!==void 0?s:null;if(!u)throw new Error("Can't expand IRI with unknown prefix: '".concat(t,"'"));return u+i}if(!e.defaultPrefix)throw new Error("Can't expand IRI without a default prefix: '".concat(t,"'"));return e.defaultPrefix+a}var Bi,Ope=function(){function t(e,r){Te(this,t),J(this,"url",void 0),J(this,"quads",void 0),this.url=e,this.quads=r}return Fe(t,[{key:"value",value:function(e){var r;return(r=this.quads.find(function(n){return n.predicate.value===uo(e)}))===null||r===void 0?void 0:r.object.value}},{key:"values",value:function(e){return this.quads.filter(function(r){return r.predicate.value===uo(e)}).map(function(r){return r.object.value})}}]),t}(),vw=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Te(this,t),J(this,"quads",void 0),this.quads=e}return Fe(t,[{key:"isEmpty",value:function(){return this.statements.length===0}},{key:"getQuads",value:function(){return this.quads.slice(0)}},{key:"addQuads",value:function(e){var r;(r=this.quads).push.apply(r,Pt(e))}},{key:"statements",value:function(e,r,n){var a=this;return this.quads.filter(function(i){return!(n&&i.object.value!==a.expandIRI(n)||e&&i.subject.value!==a.expandIRI(e)||r&&i.predicate.value!==a.expandIRI(r))})}},{key:"statement",value:function(e,r,n){var a=this,i=this.quads.find(function(s){return!(n&&s.object.value!==a.expandIRI(n)||e&&s.subject.value!==a.expandIRI(e)||r&&s.predicate.value!==a.expandIRI(r))});return i??null}},{key:"contains",value:function(e,r,n){return this.statement(e,r,n)!==null}},{key:"getThing",value:function(e){var r=this.statements(e);return new Ope(e,r)}},{key:"expandIRI",value:function(e){return uo(e)}}]),t}();function kpe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){t.Read="read",t.Write="write",t.Append="append",t.Control="control"})(Bi||(Bi={}));var Rpe=function(t){ot(r,vw);var e=kpe(r);function r(n,a,i){var s;return Te(this,r),s=e.call(this,a),J(rt(s),"url",void 0),J(rt(s),"headers",void 0),s.url=n,s.headers=i,s}return Fe(r,[{key:"isACPResource",value:function(){var n;return!((n=this.headers.get("Link"))===null||n===void 0||!n.match(/<http:\/\/www\.w3\.org\/ns\/solid\/acp#AccessControlResource>;[^,]+rel="type"/))}},{key:"isPersonalProfile",value:function(){return!!this.statement(this.url,uo("rdf:type"),uo("foaf:PersonalProfileDocument"))}},{key:"isStorage",value:function(){var n;return!((n=this.headers.get("Link"))===null||n===void 0||!n.match(/<http:\/\/www\.w3\.org\/ns\/pim\/space#Storage>;[^,]+rel="type"/))}},{key:"isUserWritable",value:function(){return this.getUserPermissions().includes(Bi.Write)}},{key:"getUserPermissions",value:function(){return this.getPermissionsFromWAC("user")}},{key:"getPublicPermissions",value:function(){return this.getPermissionsFromWAC("public")}},{key:"getLastModified",value:function(){var n,a,i,s;return(n=(a=(i=Qv(this.headers.get("last-modified")))!==null&&i!==void 0?i:Qv((s=this.statement(this.url,"purl:modified"))===null||s===void 0?void 0:s.object.value))!==null&&a!==void 0?a:this.getLatestDocumentDate())!==null&&n!==void 0?n:null}},{key:"expandIRI",value:function(n){return uo(n,{defaultPrefix:this.url})}},{key:"getLatestDocumentDate",value:function(){var n=[].concat(Pt(this.statements(void 0,"purl:modified")),Pt(this.statements(void 0,"purl:created"))).map(function(a){return Qv(a.object.value)}).filter(function(a){return a!==null});return n.length>0?n.reduce(function(a,i){return a>i?a:i}):null}},{key:"getPermissionsFromWAC",value:function(n){var a,i,s,o=(a=this.headers.get("WAC-Allow"))!==null&&a!==void 0?a:"",l=(i=(s=spe(o,new RegExp("".concat(n,'="([^"]+)"'))))===null||s===void 0?void 0:s[1])!==null&&i!==void 0?i:"";return hw([l.includes("read")&&Bi.Read,l.includes("write")&&Bi.Write,l.includes("append")&&Bi.Append,l.includes("control")&&Bi.Control])}}]),r}();function Tpe(t,e){return BD.apply(this,arguments)}function BD(){return(BD=fe(V.mark(function t(e,r){var n,a,i,s,o;return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n={headers:{Accept:"text/turtle"}},r!=null&&r.cache&&(n.cache=r.cache),l.prev=2,i=(a=r==null?void 0:r.fetch)!==null&&a!==void 0?a:window.fetch,l.next=6,i(e,n);case 6:if((s=l.sent).status!==404){l.next=9;break}throw new AE(e);case 9:if(![401,403].includes(s.status)){l.next=11;break}throw new Qg(e,s.status);case 11:return l.next=13,s.text();case 13:return o=l.sent,l.abrupt("return",{body:o,headers:s.headers});case 17:if(l.prev=17,l.t0=l.catch(2),!(l.t0 instanceof Qg)){l.next=21;break}throw l.t0;case 21:if(!(l.t0 instanceof AE)){l.next=23;break}throw l.t0;case 23:throw new $pe(e,{cause:l.t0});case 24:case"end":return l.stop()}},t,null,[[2,17]])}))).apply(this,arguments)}function Xg(t,e){return zD.apply(this,arguments)}function zD(){return(zD=fe(V.mark(function t(e,r){var n,a,i,s;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Tpe(e,r);case 2:return n=o.sent,a=n.body,i=n.headers,o.next=7,Dpe(a,{baseIRI:e});case 7:return s=o.sent,o.abrupt("return",new Rpe(e,s,i));case 9:case"end":return o.stop()}},t)}))).apply(this,arguments)}function Ppe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=PD({baseIRI:e.baseIRI}),n=new _i.TurtleParser(r),a={quads:[],containsRelativeIRIs:!1};return new Promise(function(i,s){var o=n._resolveRelativeIRI;n._resolveRelativeIRI=function(){return a.containsRelativeIRIs=!0,n._resolveRelativeIRI=o,n._resolveRelativeIRI.apply(n,arguments)},n.parse(t,function(l,u){var c;l?s(new wpe((c=e.baseIRI)!==null&&c!==void 0?c:null,Yg.Turtle,l.message)):u?a.quads.push(u):i(a)})})}function Cpe(t){return new _i.TurtleWriter().quadsToString([t]).slice(0,-1)}function Dpe(t){return Zg.apply(this,arguments)}function Zg(){return Zg=fe(V.mark(function t(e){var r,n,a,i=arguments;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=i.length>1&&i[1]!==void 0?i[1]:{},s.next=3,Ppe(e,r);case 3:return n=s.sent,a=n.quads,s.abrupt("return",a);case 6:case"end":return s.stop()}},t)})),Zg.apply(this,arguments)}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e){return ey.apply(this,arguments)}function ey(){return ey=fe(V.mark(function t(e,r){var n,a,i,s,o,l;return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=new vw(e.getQuads()),s=J({},e.url,e),o=function(c){c.statements(void 0,"foaf:isPrimaryTopicOf").map(function(f){return f.object.value}).forEach(function(f){var d;return s[f]=(d=s[f])!==null&&d!==void 0?d:null}),c.statements(void 0,"foaf:primaryTopic").map(function(f){return f.subject.value}).forEach(function(f){var d;return s[f]=(d=s[f])!==null&&d!==void 0?d:null})},l=function(){var c=fe(V.mark(function f(){var d,h,p,y,k;return V.wrap(function($){for(;;)switch($.prev=$.next){case 0:d=0,h=Object.entries(s);case 1:if(!(d<h.length)){$.next=23;break}if(p=Me(h[d],2),y=p[0],p[1]===null){$.next=5;break}return $.abrupt("continue",20);case 5:return $.prev=5,$.next=8,Xg(y,r);case 8:k=$.sent,s[y]=k,i.addQuads(k.getQuads()),o(k),$.next=20;break;case 14:if($.prev=14,$.t0=$.catch(5),!($.t0 instanceof Qg)){$.next=19;break}return s[y]=!1,$.abrupt("continue",20);case 19:throw $.t0;case 20:d++,$.next=1;break;case 23:case"end":return $.stop()}},f,null,[[5,14]])}));return function(){return c.apply(this,arguments)}}(),o(e);case 5:return u.next=7,l();case 7:if(Object.values(s).some(function(c){return c===null})){u.next=5;break}case 8:return u.abrupt("return",{store:i,cloaked:Object.values(s).some(function(c){return c===!1}),writableProfileUrl:e.isUserWritable()?e.url:(n=(a=Object.values(s).find(function(c){return!!c&&c.isUserWritable()}))===null||a===void 0?void 0:a.url)!==null&&n!==void 0?n:null});case 9:case"end":return u.stop()}},t)})),ey.apply(this,arguments)}function kE(t){return ty.apply(this,arguments)}function ty(){return ty=fe(V.mark(function t(e){var r,n,a,i,s,o,l,u,c,f,d,h,p,y,k,$,b,_,O,R,P,T=arguments;return V.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return c=T.length>1&&T[1]!==void 0?T[1]:{},f={fetch:c.fetch,cache:"no-store"},d=ppe(e),G.next=5,Xg(d,f);case 5:if((h=G.sent).isPersonalProfile()||h.contains(e,"solid:oidcIssuer")){G.next=8;break}throw new Error("".concat(e," is not a valid webId."));case 8:return G.next=10,Lpe(h,c);case 10:p=G.sent,y=p.store,k=p.writableProfileUrl,$=p.cloaked,b=y.statements(e,"pim:storage").map(function(v){return v.object.value}),_=y.statement(e,"solid:publicTypeIndex"),O=y.statement(e,"solid:privateTypeIndex"),R=SE(d);case 18:if(!R||b.length!==0){G.next=28;break}return G.next=21,LD(Xg(R,f));case 21:if((P=G.sent)==null||!P.isStorage()){G.next=25;break}return b.push(R),G.abrupt("break",28);case 25:R=SE(R),G.next=18;break;case 28:if(b.length!==0){G.next=30;break}throw new Error("Could not find any storage for ".concat(e,"."));case 30:return G.next=32,(r=c.onLoaded)===null||r===void 0?void 0:r.call(c,new vw(y.statements(e)));case 32:return G.abrupt("return",jpe({webId:e,cloaked:$,writableProfileUrl:k,storageUrls:DD(b)},PD({name:(n=(a=y.statement(e,"vcard:fn"))===null||a===void 0?void 0:a.object.value)!==null&&n!==void 0?n:(i=y.statement(e,"foaf:name"))===null||i===void 0?void 0:i.object.value,avatarUrl:(s=(o=y.statement(e,"vcard:hasPhoto"))===null||o===void 0?void 0:o.object.value)!==null&&s!==void 0?s:(l=y.statement(e,"foaf:img"))===null||l===void 0?void 0:l.object.value,oidcIssuerUrl:(u=y.statement(e,"solid:oidcIssuer"))===null||u===void 0?void 0:u.object.value,publicTypeIndexUrl:_==null?void 0:_.object.value,privateTypeIndexUrl:O==null?void 0:O.object.value})));case 33:case"end":return G.stop()}},t)})),ty.apply(this,arguments)}function Mpe(t){return ry.apply(this,arguments)}function ry(){return ry=fe(V.mark(function t(e){var r,n,a,i,s=arguments;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(a=s.length>1&&s[1]!==void 0?s[1]:{}).required){o.next=3;break}return o.abrupt("return",kE(e,a));case 3:return i=LD(function(l){return kE(l,a)}),o.next=6,i(e);case 6:if(o.t2=n=o.sent,o.t1=o.t2!==null,!o.t1){o.next=10;break}o.t1=n!==void 0;case 10:if(!o.t1){o.next=14;break}o.t3=n,o.next=17;break;case 14:return o.next=16,i(e.replace(/\/$/,"").concat("/profile/card#me"));case 16:o.t3=o.sent;case 17:if(o.t4=r=o.t3,o.t0=o.t4!==null,!o.t0){o.next=21;break}o.t0=r!==void 0;case 21:if(!o.t0){o.next=25;break}o.t5=r,o.next=28;break;case 25:return o.next=27,i(MD(e).concat("/profile/card#me"));case 27:o.t5=o.sent;case 28:return o.abrupt("return",o.t5);case 29:case"end":return o.stop()}},t)})),ry.apply(this,arguments)}function Npe(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Ee(t);if(e){var a=Ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return at(this,r)}}(function(t){ot(r,Is);var e=Npe(r);function r(n){var a;return Te(this,r),a=e.call(this,"Couldn't find the following triple: ".concat(Cpe(n))),J(rt(a),"expectedQuad",void 0),a.expectedQuad=n,a}return r})();function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}(function(){function t(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200;Te(this,t),J(this,"rawBody",void 0),J(this,"body",void 0),J(this,"bodyUsed",void 0),J(this,"headers",void 0),J(this,"ok",void 0),J(this,"redirected",void 0),J(this,"status",void 0),J(this,"statusText",void 0),J(this,"trailer",void 0),J(this,"type",void 0),J(this,"url",void 0),this.rawBody=s,this.headers=new Headers(o),this.status=l}var e,r,n,a,i;return Fe(t,[{key:"arrayBuffer",value:(i=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.arrayBuffer is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return i.apply(this,arguments)})},{key:"blob",value:(a=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.blob is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return a.apply(this,arguments)})},{key:"formData",value:(n=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:throw new Error("ResponseStub.formData is not implemented");case 1:case"end":return o.stop()}},s)})),function(){return n.apply(this,arguments)})},{key:"json",value:(r=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",JSON.parse(this.rawBody));case 1:case"end":return o.stop()}},s,this)})),function(){return r.apply(this,arguments)})},{key:"text",value:(e=fe(V.mark(function s(){return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.rawBody);case 1:case"end":return o.stop()}},s,this)})),function(){return e.apply(this,arguments)})},{key:"clone",value:function(){return function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?RE(Object(l),!0).forEach(function(u){J(s,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):RE(Object(l)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(l,u))})}return s}({},this)}}]),t})();var Fpe=ge,Upe=wi,Bpe=Da,GD=va,qD=xt,zpe=nt,hi=ky,Gpe=pa,TE=zpe("toStringTag"),qpe=TypeError,mw=function(){if(Upe(this,hi),Bpe(this)===hi)throw new qpe("Abstract class AsyncIterator not directly constructable")};mw.prototype=hi;qD(hi,TE)||GD(hi,TE,"AsyncIterator");(!qD(hi,"constructor")||hi.constructor===Object)&&GD(hi,"constructor",mw);Fpe({global:!0,constructor:!0,forced:Gpe},{AsyncIterator:mw});var Hpe=ge,Vpe=Sd.toArray;Hpe({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return Vpe(this,void 0,[])}});var Wpe=ge,Kpe=We,Jpe=Wn,Ype=Ir,Qpe=[].push;Wpe({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return Jpe(Ype(Kpe(this)),Qpe,{that:e,IS_RECORD:!0}),e}});const sf={clientID:{"@context":"https://www.w3.org/ns/solid/oidc-context.jsonld",client_id:"https://aerogel.js.org/playground/clientid.jsonld",client_name:"Aerogel Playground",redirect_uris:["https://aerogel.js.org/playground/"],client_uri:"https://aerogel.js.org/playground/",scope:"openid profile offline_access webid",grant_types:["refresh_token","authorization_code"],response_types:["code"],logo_uri:"https://aerogel.js.org/playground/android-chrome-512x512.png"}};class Xpe extends pn{}class ny extends pn{constructor(e,r,n){super(function(a,i){return i?`${a} (${i})`:a}(e),n),J(this,"description",void 0),this.description=r}}let Zpe=class extends pn{constructor(e,r){super(`Container at ${e.url} is already in use`,r)}},eve=class{constructor(){J(this,"name",void 0),J(this,"authenticatedFetch",void 0),J(this,"booted",void 0),J(this,"listeners",QT([])),J(this,"_engine",void 0)}get engine(){return this._engine=this._engine??new bo(this.requireAuthenticatedFetch()),this._engine}getAuthenticatedFetch(){return this.authenticatedFetch??null}requireAuthenticatedFetch(){return this.authenticatedFetch??tt("Authenticated fetch is not ready")}addListener(e){return this.listeners.includes(e)||this.listeners.push(e),()=>{this.removeListener(e)}}removeListener(e){this.listeners.includes(e)&&this.listeners.remove(e)}async boot(){if(this.booted)return this.booted;this.booted=new vi,await this.restoreSession(),this.booted.resolve()}async initAuthenticatedFetch(e){this.authenticatedFetch=e,await this.notifyListeners("onAuthenticatedFetchReady",e)}async startSession(e){const r={authenticator:this,...e};return await this.notifyListeners("onSessionStarted",r),r}async failSession(e,r){await this.notifyListeners("onSessionFailed",e,r)}async endSession(){await this.notifyListeners("onSessionEnded")}async notifyListeners(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];await Promise.all(this.listeners.toArray().map(async i=>{const s=i[e];await(s==null?void 0:s(...n))}))}};const Xv="inrupt-authenticator",gw={},tve={inrupt:new class extends eve{constructor(){super(...arguments),J(this,"_events",void 0),J(this,"_fetch",void 0),J(this,"_login",void 0),J(this,"_logout",void 0),J(this,"_handleIncomingRedirect",void 0)}async login(t){ta.set(Xv,t);const e={oidcIssuer:t};return sf.clientID&&(e.clientId=sf.clientID.client_id,e.clientName=sf.clientID.client_name,e.redirectUrl=sf.clientID.redirect_uris[0]),await this._login(e),await da({seconds:60}),tt("Browser should have redirected, but it didn't")}async logout(){await this._logout(),await this.endSession()}async restoreSession(){const{events:t,fetch:e,handleIncomingRedirect:r,login:n,logout:a}=await uA(()=>import("./InruptAuthenticator.lazy.hash.esm-cd97162f.js"),[]);this._fetch=e,this._login=n,this._logout=a,this._events=t,this._handleIncomingRedirect=r,await this.loginFromRedirect()}async loginFromRedirect(){const t=ta.get(Xv);if(!t)return;this._events().on("error",(r,n)=>{r??(r="Error using Inrupt Authenticator method"),typeof n=="object"?this.failSession(t,new ny(r,null,{cause:n})):this.failSession(t,new ny(r,n))});const e=await this._handleIncomingRedirect(globalThis.location.href);ta.remove(Xv),e!=null&&e.isLoggedIn&&e.webId&&await this.initSession(e.webId)}async initSession(t){await this.initAuthenticatedFetch(this._fetch);try{const{default:e}=await Promise.resolve().then(function(){return sve}),r=await e.requireUserProfile(t);await this.startSession({user:r,loginUrl:t})}catch(e){await this.failSession(t,e)}}}};function rve(t){gw.default=t}function HD(t){return gw[t]}function nve(t){Object.entries(t).forEach(e=>{let[r,n]=e;return ave(r,n)})}function ave(t,e){gw[t]=e,e.name=e.name??t}const yw={autoReconnect:!0};var ive=Ua({name:"solid",persist:["autoReconnect","dismissed","previousSession","profiles","staleProfiles"],initialState:{autoReconnect:yw.autoReconnect,dismissed:!1,ignorePreviousSessionError:!1,loginStartupError:null,loginOngoing:!1,preferredAuthenticator:null,previousSession:null,profiles:{},session:null,loginStale:!1,staleProfiles:[]},serialize:t=>{var e;return((e=t.previousSession)==null?void 0:e.error)instanceof Error&&(t.previousSession.error=t.previousSession.error.message),t},computed:{user:t=>{var e,r;return((e=t.session)==null?void 0:e.user)??((r=t.previousSession)==null?void 0:r.profile)??null},authenticator:t=>{var e;return((e=t.session)==null?void 0:e.authenticator)??null},fetch(){var t;return((t=this.authenticator)==null?void 0:t.getAuthenticatedFetch())??globalThis.fetch.bind(globalThis)},error:t=>{var e;return t.loginStartupError?t.loginStartupError??null:t.ignorePreviousSessionError?null:((e=t.previousSession)==null?void 0:e.error)??null}}});let VD=class extends ive{isLoggedIn(){return!!this.session}wasLoggedIn(){return!!this.previousSession}hasLoggedIn(){return!(!this.session&&!this.previousSession)}requireAuthenticator(){return this.authenticator??tt("Could not get authenticator")}requireUser(){return this.user??tt("Could not get user profile (are you logged in?)")}requireUserProfile(e){return this.getUserProfile(e,!0)}async getUserProfile(e){var i;let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=null;const a=!!((i=this.authenticator)!=null&&i.getAuthenticatedFetch());return this.profiles[e]??Ve(await Mpe(e,{fetch:this.fetch,required:r,onLoaded(s){n=s}}),async s=>{s&&(n&&await qe.emit("solid:user-profile-loaded",[s,n]),this.rememberProfile(s),a||this.setState({staleProfiles:cn(this.staleProfiles.concat([s.webId]))}))})}async refreshUserProfile(){if(!this.isLoggedIn())return;this.setState({profiles:Ra(this.profiles,[this.user.webId])});const e=await this.requireUserProfile(this.user.webId);this.setState({session:{...this.session,user:e}})}async login(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bt.development&&e==="dev"&&(e="http://localhost:3000"),/^https?:\/\//.test(e)||(r.fallbackUrl??(r.fallbackUrl=`http://${e}`),e=`https://${e}`),this.isLoggedIn())return!0;if(this.loginOngoing)throw new Error("Authentication already in progress");return r.loading?Dt.loading(it("solid.loggingIn","Logging in..."),()=>this.attemptLogin(e,r)):this.attemptLogin(e,r)}async reconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{force:r,...n}=e;this.isLoggedIn()||!this.previousSession||this.previousSession.error!==null&&!r||await this.login(this.previousSession.loginUrl,{authenticator:this.previousSession.authenticator,...n,loading:n.loading??!1})}async logout(){var s,o;let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const r=!bt.plugin("@aerogel/offline-first")||!!((s=bt.service("$cloud"))!=null&&s.ready),n=!bt.plugin("@aerogel/offline-first")||!!((o=bt.service("$cloud"))!=null&&o.dirty),[a,i]=e?[!0,{wipeLocalData:r}]:await Dt.confirm(r?it("solid.logoutConfirmTitle","Log out from this device?"):it("solid.disconnectConfirmTitle","Disconnect account?"),r?n?it("solid.logoutConfirmMessageWithLocalChanges","There are some changes that haven't been synchronized and will be lost, but the rest of the data will remain in your Solid POD."):it("solid.logoutConfirmMessage","Logging out will remove all the data from this device, but you'll still have it in your Solid POD."):it("solid.disconnectConfirmMessage","You'll need to introduce logging details again to connect to your Solid POD."),{acceptText:it("solid.logoutConfirmAccept","Log out"),acceptColor:It.Danger,cancelText:it("solid.logoutConfirmCancel",it("ui.cancel","Cancel")),checkboxes:r?n?{wipeLocalData:{label:it("solid.logoutConfirmWipeNotice","I understand that changes that haven't been synchronized will be lost."),default:!1,required:!0}}:void 0:{wipeLocalData:{label:it("solid.logoutConfirmWipe","Also remove all existing data (tasks, lists, etc.)"),default:!1}}});a&&this.previousSession&&await Dt.loading(it("solid.logoutOngoing","Logging out..."),async()=>{this.setState({dismissed:!1,ignorePreviousSessionError:!1,loginStartupError:null,previousSession:null,...yw}),this.isLoggedIn()&&await this.authenticator.logout(),await qe.emit("auth:logout",{wipeLocalData:i.wipeLocalData??!0}),await qe.emit("auth:after-logout")})}async whenLoggedIn(e){return this.isLoggedIn()?e(this.session):new Promise(r=>{qe.once("auth:login",n=>r(e(n)))})}dismiss(){this.setState({dismissed:!0})}async findOrCreatePrivateTypeIndex(){return await this.findPrivateTypeIndex()??await this.createPrivateTypeIndex()}async findPrivateTypeIndex(){const{webId:e,privateTypeIndexUrl:r}=this.requireUser(),n=this.requireAuthenticator().engine;return r?fS(`${e}-privateTypeIndex`,()=>Bs.withEngine(n).find(r)):null}async findOrCreatePublicTypeIndex(){return await this.findPublicTypeIndex()??await this.createPublicTypeIndex()}async findPublicTypeIndex(){const{webId:e,publicTypeIndexUrl:r}=this.requireUser(),n=this.requireAuthenticator().engine;return r?fS(`${e}-publicTypeIndex`,()=>Bs.withEngine(n).find(r)):null}async createPrivateContainer(e){const r=this.requireAuthenticator().engine;return En.withEngine(r,async()=>{const n=await En.find(e.url);if(n&&!e.reuseExisting)throw new Zpe(n);const a=n??new En({url:e.url,name:e.name});if(await a.save(),e.registerFor){const i=await this.findOrCreatePrivateTypeIndex();await a.register(i,e.registerFor)}return a})}async boot(){var e,r;await fu.booted,xl("authenticator")&&this.setState({preferredAuthenticator:yv("authenticator")}),xl("refreshProfile")&&this.setState({staleProfiles:cn(this.staleProfiles.concat(yr([(e=this.session)==null?void 0:e.user.webId,(r=this.previousSession)==null?void 0:r.loginUrl])))}),await this.restorePreviousSession(),await this.startupReconnect()}async createPrivateTypeIndex(){const e=this.requireUser(),r=this.requireAuthenticator(),n=await Bs.withEngine(r.engine).createPrivate(e);return Ve(n,()=>{e.privateTypeIndexUrl=n.url,dS(`${e.webId}-privateTypeIndex`,n),this.rememberProfile(e)})}async createPublicTypeIndex(){const e=this.requireUser(),r=this.requireAuthenticator(),n=await Bs.withEngine(r.engine).createPublic(e);return Ve(n,()=>{e.privateTypeIndexUrl=n.url,dS(`${e.webId}-publicTypeIndex`,n),this.rememberProfile(e)})}async attemptLogin(e,r){const n=r.authenticator??this.preferredAuthenticator??"default",a=r.onError??(o=>bt.isMounted()?fu.report(o):this.setState({loginStartupError:o})),i=setTimeout(()=>this.loginStale=!0,1e4),s={dismissed:this.dismissed,ignorePreviousSessionError:this.ignorePreviousSessionError,previousSession:this.previousSession};this.loginOngoing=!0;try{const o=await this.getUserProfile(e),l=(o==null?void 0:o.oidcIssuerUrl)??Ma((o==null?void 0:o.webId)??e),u=await this.bootAuthenticator(n),{domain:c}=ane(e);return this.setState({dismissed:!1,ignorePreviousSessionError:!0,previousSession:In({profile:o,loginUrl:e,authenticator:n,error:it("auth.stuckConnecting",`We didn't hear back from the identity provider at \`${c}\`, maybe try reconnecting?`)})}),await qe.emit("auth:before-login"),await u.login(l,o),!0}catch(o){return this.setState(s),o instanceof Xpe?!1:r.fallbackUrl?da().then(()=>this.login(r.fallbackUrl??"",Ra(r,"fallbackUrl"))):(a(o),!1)}finally{clearTimeout(i),this.setState({loginOngoing:!1,loginStale:!1})}}async restorePreviousSession(){this.previousSession&&await this.bootAuthenticator(this.previousSession.authenticator)}async startupReconnect(){this.reconnectOnStartup()&&await this.reconnect({force:this.forcingReconnect()})}reconnectOnStartup(){return xl("autoReconnect")?cS(yv("autoReconnect")):this.autoReconnect}forcingReconnect(){return xl("autoReconnect")&&cS(yv("autoReconnect"))}async bootAuthenticator(e){const r=HD(e);return r.addListener({onSessionStarted:async n=>{this.setState({session:n,previousSession:{authenticator:r.name,loginUrl:n.loginUrl,profile:n.user,error:null}}),this.staleProfiles.includes(n.user.webId)&&await this.refreshUserProfile(),bt.plugin("@aerogel/offline-first")||Kb(n.authenticator.engine),a0.setEngine(n.authenticator.engine),Bs.setEngine(n.authenticator.engine),Ws.setEngine(n.authenticator.engine),await qe.emit("auth:login",n)},onSessionFailed:async(n,a)=>{var i;this.setState({session:null,previousSession:{profile:(i=this.previousSession)==null?void 0:i.profile,authenticator:r.name,loginUrl:n,error:a}})},onSessionEnded:()=>this.setState({session:null}),onAuthenticatedFetchReady:n=>qe.emit("auth:fetch-ready",n)}),await r.boot(),r}rememberProfile(e){this.setState({profiles:{...this.profiles,[e.webId]:e},staleProfiles:Fu(this.staleProfiles,e.webId)})}};var Yt=Zr(VD),sve=Object.freeze({__proto__:null,SolidService:VD,default:Yt});const ove=["src"];var WD=$e({__name:"AGSolidImage",props:{src:So()},setup(t){const e=t,r=Cce(async()=>{const n=await Vv.get(e.src)??await async function(i){try{const s=await Yt.fetch(i);return s.status!==200?null:(await Vv.store(i,s),Vv.get(i))}catch{return null}}(e.src),a=await(n==null?void 0:n.blob());return a&&URL.createObjectURL(a)});return(n,a)=>(se(),Se("img",{src:oe(r)},null,8,ove))}});WD.__file="src/components/AGSolidImage.vue";const lve={class:"flex flex-col gap-3"},uve={class:"flex flex-col"},cve={key:1,class:"mt-1 self-center text-sm text-red-800"};var KD=$e({__name:"AGSolidStatus",setup(t){const e=Xu({url:Zu()});return(r,n)=>(se(),Se("div",null,[r.$solid.loginStale?ft(r.$slots,"login-stale",{key:0},()=>[te(oe(ht),{text:r.$td("solid.loginStale","This is taking too long...")},null,8,["text"])]):jt("v-if",!0),r.$solid.loginOngoing?ft(r.$slots,"login-ongoing",{key:1},()=>[te(oe(ht),{text:r.$td("ui.loading","Loading...")},null,8,["text"])]):r.$solid.isLoggedIn()?ft(r.$slots,"logged-in",{key:2,session:r.$solid.session},()=>[me("div",lve,[te(oe(ht),{text:r.$td("solid.loggedIn","You are logged in as [{userName}]({userWebId})",{userName:r.$solid.user.name??r.$solid.user.webId,userWebId:r.$solid.user.webId})},null,8,["text"]),te(oe(ir),{onClick:n[0]||(n[0]=a=>r.$solid.logout())},{default:le(()=>[Oe(we(r.$td("solid.logout","Logout")),1)]),_:1})])]):ft(r.$slots,"logged-out",{key:3},()=>{var a;return[me("div",uve,[te(oe(Wo),{form:oe(e),class:"flex",onSubmit:n[1]||(n[1]=i=>r.$solid.login(oe(e).url))},{default:le(()=>[te(oe(wh),{name:"url","aria-label":r.$td("solid.url","Login url"),placeholder:r.$td("solid.placeholder","https://...")},null,8,["aria-label","placeholder"]),te(oe(ir),{submit:""},{default:le(()=>[Oe(we(r.$td("solid.login","Login")),1)]),_:1})]),_:1},8,["form"]),r.$solid.wasLoggedIn()?(se(),Re(oe(ir),{key:0,class:"mt-3",onClick:n[2]||(n[2]=i=>r.$solid.reconnect({force:!0}))},{default:le(()=>[Oe(we(r.$td("solid.reconnect","Reconnect")),1)]),_:1})):jt("v-if",!0),(a=r.$solid.previousSession)!=null&&a.error||r.$solid.loginStartupError?(se(),Se("p",cve,[te(oe(ht),{text:r.$td("solid.previousLoginError","Previous login attempt failed"),inline:""},null,8,["text"]),te(oe(sD),{onClick:n[3]||(n[3]=i=>{var s;return r.$errors.inspect(((s=r.$solid.previousSession)==null?void 0:s.error)||r.$solid.loginStartupError)})},{default:le(()=>[Oe(" ("+we(r.$td("errors.viewDetails","View details"))+") ",1)]),_:1})])):jt("v-if",!0)])]})]))}});KD.__file="src/components/AGSolidStatus.vue";const fve={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},dve=[me("path",{fill:"currentColor",d:"M15 2H5L4 8h12zM0 10s2 1 10 1s10-1 10-1l-4-2H4zm8 4h4v1H8z"},null,-1),me("circle",{cx:"6",cy:"15",r:"3",fill:"currentColor"},null,-1),me("circle",{cx:"14",cy:"15",r:"3",fill:"currentColor"},null,-1)];var hve={name:"ooui-user-anonymous",render:function(t,e){return se(),Se("svg",fve,[...dve])}};const pve={class:"relative flex items-center justify-center rounded-full bg-gray-200"},vve={key:1,class:"text-sm font-semibold tracking-wider text-gray-500","aria-hidden":"true"};var mve=$e({__name:"AGSolidUserAvatar",setup(t){const e=de(()=>{var r;return(((r=Yt.user)==null?void 0:r.name)??"").trim().split(" ").map(n=>{var a;return(a=n[0])==null?void 0:a.toUpperCase()}).join("").slice(0,3)});return(r,n)=>{var a,i;return se(),Se("div",pve,[(a=r.$solid.user)!=null&&a.avatarUrl?(se(),Re(WD,{key:0,src:(i=r.$solid.user)==null?void 0:i.avatarUrl,alt:"",class:"absolute inset-0 h-full w-full rounded-full"},null,8,["src"])):e.value?(se(),Se("span",vve,we(e.value),1)):(se(),Re(oe(hve),{key:2,class:"h-6 w-6 text-gray-500"}))])}}});mve.__file="src/components/AGSolidUserAvatar.vue";const gve={$solid:Yt};function yve(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{async install(e){Jie(),nve({...tve,...t.authenticators??{}}),zfe("container_url",r=>{if(!r.endsWith("/"))return"containerEndingSlashMissing"}),rve(HD(t.defaultAuthenticator??"inrupt")),Kce(r=>{if(r instanceof ny)return r.description?`${r.message} (${r.description})`:r.message}),typeof t.autoReconnect=="boolean"&&(yw.autoReconnect=t.autoReconnect,Yt.hasPersistedState()||(Yt.autoReconnect=t.autoReconnect)),t.onUserProfileLoaded&&qe.on("solid:user-profile-loaded",r=>{var i;let[n,a]=r;(i=t.onUserProfileLoaded)==null||i.call(t,n,a)}),await xs(e,gve)}}}var bve=Object.freeze({__proto__:null,model:function(t){return Bt(t)}});function JD(t){const e=Pe([]);return Wv(()=>t.on("deleted",r=>Dr(e.value,r))),Wv(()=>t.on("created",r=>e.value.push(r))),Wv(()=>t.on("updated",()=>e.value=e.value.slice(0))),$r(async()=>{const r=await t.all();e.value.push(...r)}),e}let pu=new Map;async function wve(t){return pu.get(t)??await async function(e){const r=au(ar([],"id")),n=de(()=>r.value.getItems()),a=new Set([e.collection]),i={modelsMap:r,modelsArray:n,collectionsSet:a},s=async()=>{const o=ar([],"id");for(const l of a)(await e.withCollection(l,()=>e.all())).forEach(u=>o.add(u));r.value=o};return pu.set(e,i),e.on("created",o=>(r.value.add(o),Pv(r))),e.on("deleted",o=>(r.value.delete(o),Pv(r))),e.on("updated",o=>(r.value.add(o),Pv(r))),qe.on("auth:logout",()=>r.value=ar([],"id")),qe.on("cloud:migrated",()=>s()),await s(),i}(t)}function bw(t){var e;return((e=pu.get(t))==null?void 0:e.modelsArray.value)??[]}function _ve(t,e){Bu(pu.get(t),"Failed ignoring models collection, please track the model first using trackModels()").collectionsSet.delete(e)}async function hd(t,e){const r=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).refresh??!0,n=Bu(pu.get(t),"Failed tracking models collection, please track the model first using trackModels()");if(!n.collectionsSet.has(e)&&(n.collectionsSet.add(e),r)){const a=n.modelsArray.value;(await t.withCollection(e,()=>t.all())).forEach(i=>a.push(i)),n.modelsMap.value=ar(a,"id")}}async function YD(t,e){const{service:r,property:n,transform:a,...i}=e??{},s=a??(l=>l),o=await wve(t);for(const[l,u]of Object.entries(i))t.on(l,u);r&&n&&_r(()=>r.setState(n,s(o.modelsArray.value)))}function $ve(t){return{install(){const e=new Rae;globalThis.testingRuntime&&Object.assign(globalThis.testingRuntime,bve),Kb(e),Vae(t.models),qe.on("auth:logout",r=>{let{wipeLocalData:n}=r;return n&&e.purgeDatabase()})}}}const ay=(t,e)=>e.some(r=>t instanceof r);let PE,CE;function xve(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sve(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,Zv=new WeakMap,$h=new WeakMap;function Ive(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(rs(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return $h.set(e,t),e}function Eve(t){if(iy.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});iy.set(t,e)}let sy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return rs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QD(t){sy=t(sy)}function Ave(t){return Sve().includes(t)?function(...e){return t.apply(oy(this),e),rs(this.request)}:function(...e){return rs(t.apply(oy(this),e))}}function Ove(t){return typeof t=="function"?Ave(t):(t instanceof IDBTransaction&&Eve(t),ay(t,xve())?new Proxy(t,sy):t)}function rs(t){if(t instanceof IDBRequest)return Ive(t);if(Zv.has(t))return Zv.get(t);const e=Ove(t);return e!==t&&(Zv.set(t,e),$h.set(e,t)),e}const oy=t=>$h.get(t);function kve(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=rs(s);return n&&s.addEventListener("upgradeneeded",l=>{n(rs(s.result),l.oldVersion,l.newVersion,rs(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Rve=["get","getKey","getAll","getAllKeys","count"],Tve=["put","add","delete","clear"],em=new Map;function DE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Tve.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Rve.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&l.done]))[0]};return em.set(e,i),i}QD(t=>({...t,get:(e,r,n)=>DE(e,r)||t.get(e,r,n),has:(e,r)=>!!DE(e,r)||t.has(e,r)}));const Pve=["continue","continuePrimaryKey","advance"],jE={},ly=new WeakMap,XD=new WeakMap,Cve={get(t,e){if(!Pve.includes(e))return t[e];let r=jE[e];return r||(r=jE[e]=function(...n){ly.set(this,XD.get(this)[e](...n))}),r}};async function*Dve(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,Cve);for(XD.set(r,e),$h.set(r,oy(e));e;)yield r,e=await(ly.get(r)||e.continue()),ly.delete(r)}function LE(t,e){return e===Symbol.asyncIterator&&ay(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&ay(t,[IDBIndex,IDBObjectStore])}QD(t=>({...t,get(e,r,n){return LE(e,r)?Dve:t.get(e,r,n)},has(e,r){return LE(e,r)||t.has(e,r)}}));const tm=new WeakMap,rm=new WeakMap;function ME(t){return yr(xn(t).map(e=>{const r=t.instance().requireRelation(e).relatedClass;return!no(r)&&r}))}function xn(t){return tm.has(t)||tm.set(t,t.relations.filter(e=>Kt.reservedRelations.includes(e)?!1:t.instance().requireRelation(e)instanceof ru)),tm.get(t)??[]}function ZD(t){return xn(t.static()).reduce((e,r)=>e.concat(t.getRelationModels(r)??[]),[])}function NE(t){const e=new Set,r=t.instance();e.add(t);for(const n of t.relations)t.reservedRelations.includes(n)||e.add(r.requireRelation(n).relatedClass);return[...e.values()]}function ej(t){return t.isDirty()?!0:t instanceof En?xn(t.static()).some(e=>{var r;return(r=t.getRelationModels(e))==null?void 0:r.some(n=>ej(n))}):!1}const jve=Bu(()=>bt.service("$cloud"));var ww=Zr(class{constructor(){J(this,"models",new Set),J(this,"promises",[])}push(t){this.models.add(t),this.syncAfter(da({seconds:1}))}clear(t){if(t)for(const e of t)this.models.delete(e);else this.models=new Set}async syncAfter(t){const e=typeof t=="function"?t():t;return this.promises.push(e),e.then(()=>Dr(this.promises,e)),this.promises.length===1&&this.schedule(),e}schedule(){Promise.all(this.promises).then(()=>da()).then(()=>{if(this.promises.length!==0)return void this.schedule();const t=this.consume();t.length!==0&&jve.syncIfOnline(t)})}consume(){const t=[],e=new Set;for(const r of this.models)qi(r)&&(this.models.delete(r),ZD(r).forEach(n=>e.add(n)),t.push(r));for(const r of this.models)this.models.delete(r),e.has(r)||t.push(r);return t}});const Gt=Bu(()=>bt.service("$cloud")),FE=new WeakMap,_w=new WeakMap;async function UE(t){var e;Gt.setState({localModelUpdates:{...Gt.localModelUpdates,[t.url]:1}}),e=t.static(),Gt.registeredModels.some(r=>{let{modelClass:n}=r;return n===e})&&await uy(t.static(),qi(t)?Wr(t.url):eu(t.url)),Gt.autoPush&&Gt.ready&&!Gt.syncing&&ww.push(t)}async function uy(t,e){var r;(r=Gt.modelCollections[t.modelName])!=null&&r.includes(e)||(Gt.setState("modelCollections",{...Gt.modelCollections,[t.modelName]:(Gt.modelCollections[t.modelName]??[]).concat(e)}),await hd(t,e))}async function BE(t){if(function(r){var a;const n=(a=r.metadata.updatedAt)==null?void 0:a.getTime();return!r.operations.some(i=>i.date.getTime()===n&&(!(i instanceof bs)||!r.ignoreRdfPropertyHistory(i.property,!0)))}(t))return;const e=Gt.localModelUpdates[t.url]??0;Gt.setState({localModelUpdates:t.isSoftDeleted()?Ra(Gt.localModelUpdates,t.url):{...Gt.localModelUpdates,[t.url]:e+1}}),Gt.autoPush&&Gt.ready&&!Gt.syncing&&ww.push(t)}function cy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new Set;if(r.add(t.static()),t instanceof En)for(const a of xn(t.static()))r.add(t.requireRelation(a).relatedClass);const n=[...r.values()].map(a=>[a,os(a)]);return Ve(t.clone({constructors:n}),a=>{(function(i){const s=Gt.remoteOperationUrls[i.url]??[],o=i.getRelatedModels().filter(l=>!($l(l,a0)||$l(l,En)||$l(l,n0)||$l(l,eh))).concat([i]);for(const l of o){if(!l.operations||l.operations.length===0)continue;const u=(l.operations??[]).filter(f=>!(f instanceof bs&&l.ignoreRdfPropertyHistory(f.property,!0)));if(!u.some(f=>!f.isInception(l))){l.setRelationModels("operations",[]);continue}const c=u.filter(f=>s.includes(f.url));c.length!==0?(l.setRelationModels("operations",c),l.rebuildAttributesFromHistory(),l.cleanDirty(!0),l.metadata.cleanDirty(!0),l.setRelationModels("operations",u),l.rebuildAttributesFromHistory()):l.setRelationModels("operations",u)}})(a),e.clean&&function(i){const s=i.getRelatedModels().concat([i]);for(const o of s)o.cleanDirty(!0)}(a)})}function tj(t){const e=new Set;if(e.add(t.static()),t instanceof En)for(const n of xn(t.static()))e.add(t.requireRelation(n).relatedClass);const r=[...e.values()].map(n=>[n,Nve(n)]);return t.clone({constructors:r})}async function zE(t,e){const r=os(wo),n=e.map(s=>s.url),a=t.filter(s=>!n.includes(s.url)).map(s=>s.requireDocumentUrl()),i=await r.all({$in:a});return e.concat(i)}function Lve(t,e){return e.get(t.url)??tj(t)}function rj(){return[...Gt.registeredModels].map(t=>{let{modelClass:e}=t;return bw(e)}).flat()}function os(t){return FE.get(t)??function(e){var r;const n=e,a=(s,o)=>{s.timestamps=n.timestamps,s.history=n.history,o(),s.timestamps=[],s.history=!1},i=(J(r=class extends n{initialize(s,o){a(this._proxy.static(),()=>super.initialize(s,o))}initializeRelations(){super.initializeRelations();for(const s of Object.values(this._relations))s instanceof ru&&(s.relatedClass=os(s.relatedClass))}fixMalformedAttributes(){a(this.static(),()=>super.fixMalformedAttributes())}},"timestamps",!1),J(r,"history",!1),r);return FE.set(n,i),_w.set(i,n),Yb({[`Remote${e.modelName}`]:i}),i}(t)}function nm(t){const e=Yt.requireUser().storageUrls[0];return t?eu((t.startsWith("/")?e.slice(0,-1):e)+t):e}function Mve(t,e){return e.get(t.url)??cy(t)}function GE(t){return _w.has(t.static())}function Nve(t){return _w.get(t)??tt(`Couldn't find local class for ${t.modelName}`)}class Fve extends lD{constructor(){super(...arguments),J(this,"urlMigrations",[]),J(this,"collectionMigrations",[])}migrateUrl(e,r,n){this.urlMigrations.push({modelClass:e,local:r,remote:n})}migrateCollection(e,r,n){this.collectionMigrations.push({modelClass:e,local:r,remote:n})}async run(){const e=Wb(),r=await e.getCollections();for(const n of r){const a=await e.readMany(n);for(const[i,s]of Object.entries(a)){const o=this.replaceUrl(i);await e.create(Wr(o),this.replaceDocumentUrls(s),o),await e.delete(n,i)}}for(const{modelClass:n,remote:a}of this.urlMigrations)hd(n,Wr(a),{refresh:!1});for(const{modelClass:n,local:a,remote:i}of this.collectionMigrations)_ve(n,a),hd(n,i,{refresh:!1})}replaceDocumentUrls(e){for(const[r,n]of Object.entries(e))r!=="@id"||typeof n!="string"?typeof n=="object"&&n!==null&&(e[r]=this.replaceDocumentUrls(n)):e[r]=this.replaceUrl(n);return e}replaceUrl(e){for(const{local:r,remote:n}of this.urlMigrations)if(e.startsWith(r))return e.replace(r,n);for(const{local:r,remote:n}of this.collectionMigrations)if(e.startsWith(r))return e.replace(r,n);return e}}const ji="items";class Uve{constructor(e){J(this,"db",null),J(this,"namespace",void 0),this.namespace=e}async has(e){return await(await this.getConnection()).get(ji,e)!==void 0}async get(e){return(await this.getConnection()).get(ji,e)}async set(e,r){await(await this.getConnection()).put(ji,r,e)}async delete(e){await(await this.getConnection()).delete(ji,e)}async clear(){await(await this.getConnection()).clear(ji)}close(){this.db&&(this.db.close(),this.db=null)}async getConnection(){return this.db=this.db??await this.connect(),this.db}async connect(){const e=`${this.namespace}-map`;return await kve(e,1,{upgrade(r){r.objectStoreNames.contains(ji)||r.createObjectStore(ji)},blocked:()=>tt(`Could not open '${e}' IndexedDB`)})}}var fy=Zr(class extends qo{constructor(){super(...arguments),J(this,"cache",new Uve("documents-cache"))}async isFresh(t,e){const r=await this.cache.get(t),n=typeof e!="number"?e.getTime():e;return!!(r!=null&&r.modifiedAt)&&r.modifiedAt>=n}async remember(t,e){await this.cache.set(t,{modifiedAt:typeof e!="number"?e.getTime():e})}async forget(t){await this.cache.delete(t)}async boot(){qe.on("auth:logout",async()=>{await this.cache.clear(),this.cache.close()})}});const Li=Bu(()=>bt.service("$cloud")),vl=new WeakMap;class qE extends lD{constructor(e){super(),J(this,"models",void 0),J(this,"localModels",void 0),J(this,"rootLocalModels",void 0),this.models=e,this.localModels=ar([],"url"),this.rootLocalModels=[]}async run(){await this.indexLocalModels(),await this.pullChanges(),await this.pushChanges()}async getTypeIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Yt.requireUser();return e.create&&!vl.get(r)?vl.set(r,await Yt.findOrCreatePrivateTypeIndex()):vl.has(r)||vl.set(r,await Yt.findPrivateTypeIndex()),vl.get(r)??null}async indexLocalModels(){for(const e of this.models??rj())this.rootLocalModels.push(e),await this.addLocalModel(e)}async pullChanges(){const e=this.models?await this.fetchRemoteModelsForLocal(this.models):await this.fetchRemoteModels(),r=ar(e,n=>n instanceof wo?n.resourceUrl:n.url);await this.synchronizeModels(r),Li.setState({dirtyRemoteModels:ar(r.getItems().filter(n=>ej(n)),"url"),remoteOperationUrls:r.getItems().reduce((n,a)=>{const i=a.getRelatedModels().map(s=>s.operations??[]).flat().map(s=>s.url);return i.length>0&&(n[a.url]=i),n},{})})}async pushChanges(){var n;const e=(n=this.models)==null?void 0:n.map(a=>a.url),r=Li.dirtyRemoteModels.getItems().filter(a=>!e||e.includes(a.url));for(const a of r){if(a.isSoftDeleted())return a.enableHistory(),a.enableTombstone(),void await a.delete();await this.saveModelAndChildren(a),await this.updateTypeRegistrations(a)}Li.setState({dirtyRemoteModels:e?Li.dirtyRemoteModels.filter((a,i)=>!e.includes(i)):ar([],"url"),remoteOperationUrls:r.reduce((a,i)=>{const s=i.getRelatedModels().map(o=>o.operations??[]).flat().map(o=>o.url);return s.length>0&&(a[i.url]=s),a},Li.remoteOperationUrls),localModelUpdates:e?Ra(Li.localModelUpdates,e):{}})}async addLocalModel(e){if(!this.localModels.hasKey(e.url)){this.localModels.add(e);for(const r of xn(e.static()))await e.loadRelationIfUnloaded(r);for(const r of e.getRelatedModels())await this.addLocalModel(r)}}async fetchRemoteModels(){const e=await this.getTypeIndex();if(!e)return[];const r=[...Li.registeredModels].map(a=>{let{modelClass:i}=a;const s=no(i)?ME(i):[];return{modelClass:i,rdfsClasses:s.length>0?s.map(o=>o.rdfsClasses).flat():i.rdfsClasses}}),n=await Promise.all(e.registrations.map(async a=>{const i=r.find(o=>{let{rdfsClasses:l}=o;return MT(l,a.forClass)&&!!a.instanceContainer});if(!i||!a.instanceContainer)return;const s=os(i.modelClass);if(no(s)){await uy(i.modelClass,Wr(a.instanceContainer));const o=await s.find(a.instanceContainer);return o&&await this.loadChildren(o),o}return await uy(i.modelClass,a.instanceContainer),s.from(a.instanceContainer).all()}));return zE(this.rootLocalModels,yr(n).flat())}async fetchRemoteModelsForLocal(e){const r=[];for(const n of e){const a=await os(n.static()).find(n.url);a&&(qi(a)&&await this.loadChildren(a),r.push(a))}return zE(e,r)}async updateTypeRegistrations(e){if(!qi(e)||!function(a){for(const{modelClass:i}of Gt.registeredModels)if(bw(i).some(s=>s.url===a.url))return!0;return!1}(e))return;const r=ME(e.static());if(r.length===0)return;const n=await this.getTypeIndex({create:!0});n.registrations.some(a=>a.instanceContainer===e.url)||await e.register(n,r)}async loadChildren(e){if(!qi(e))return;const r=await this.loadContainedModels(e);for(const n of r)await this.loadChildren(n)}async loadContainedModels(e){if(!GE(e)){const a=[];for(const i of xn(e.static())){const s=await e.loadRelationIfUnloaded(i)??[];a.push(...Cr(s))}return a}const r={},n=ar(e.documents,"url");for(const a of e.resourceUrls){const i=await this.loadDocumentChildren(e,a,n);for(const[s,o]of Object.entries(i))(r[s]??(r[s]=[])).push(...o)}for(const[a,i]of Object.entries(r))e.setRelationModels(a,i);return Object.values(r).flat()}async loadDocumentChildren(e,r,n){const a=n.get(r);return a&&await fy.isFresh(a.url,a.updatedAt??new Date)&&this.localModels.hasKey(e.url)?this.loadDocumentChildrenFromLocal(e,a):this.loadDocumentChildrenFromRemote(e,r)}async loadDocumentChildrenFromLocal(e,r){var a;const n={};for(const i of xn(e.static())){const s=e.requireRelation(i);if(s.loaded){n[i]=s.getLoadedModels();continue}const o=((a=this.localModels.get(e.url))==null?void 0:a.getRelationModels(i))??[];n[i]=o.filter(l=>l.getDocumentUrl()===r.url).map(l=>cy(l,{clean:!0}))}return n}async loadDocumentChildrenFromRemote(e,r){const n={},a=function(i){const s={};return async()=>("value"in s||(s.value=await i()),s.value)}(()=>e.requireEngine().readOne(e.static("collection"),r));for(const i of xn(e.static())){const s=e.requireRelation(i);if(s.loaded){n[i]=s.getLoadedModels();continue}const o=await s.relatedClass.createManyFromEngineDocuments({[r]:await a()});n[i]=o}return r.endsWith("/")||fy.remember(r,new Date),n}async saveModelAndChildren(e){if(GE(e)&&e.isSoftDeleted())return e.enableHistory(),e.enableTombstone(),void await e.delete();if(await e.save(),!qi(e))return;const r=xn(e.static()).map(n=>e.getRelationModels(n)??[]).flat();for(const n of r)await this.saveModelAndChildren(n)}async synchronizeModels(e){const r=new Set;for(const n of e.items()){if(n instanceof wo){const i=this.localModels.get(n.resourceUrl);i&&(await i.delete(),r.add(n.resourceUrl));continue}const a=Lve(n,this.localModels);await this.loadChildren(a),await Kt.synchronize(a,n),await this.reconcileInconsistencies(a,n),await this.saveModelAndChildren(a),await this.addLocalModel(a),this.rootLocalModels.push(a),r.add(a.url)}for(const n of this.rootLocalModels){if(r.has(n.url))continue;await this.loadChildren(n);const a=Mve(n,e);await Kt.synchronize(n,a),e.add(a)}}async reconcileInconsistencies(e,r){var n;e.rebuildAttributesFromHistory(),e.setAttributes(r.getAttributes()),(n=e.static(),rm.has(n)||rm.set(n,n.relations.filter(a=>{if(Kt.reservedRelations.includes(a))return!1;const i=n.instance().requireRelation(a);return Wa(i)&&i.useSameDocument})),rm.get(n)??[]).forEach(a=>{const i=e.getRelationModels(a)??[],s=ar(r.getRelationModels(a)??[],"url");i.forEach(o=>{var l;o.isRelationLoaded("operations")&&(o.rebuildAttributesFromHistory(),o.setAttributes(((l=s.get(o.url))==null?void 0:l.getAttributes())??{}))})});for(const a of xn(e.static()))await this.synchronizeContainerDocuments(e.requireRelation(a),r.requireRelation(a));e.isDirty()&&(await e.save(),await Kt.synchronize(e,r))}async synchronizeContainerDocuments(e,r){const n=ar(e.related??[],"url"),a=ar(r.related??[],"url"),i=n.getKeys().filter(o=>!a.hasKey(o)&&!a.hasKey(encodeURI(o))),s=a.getKeys().filter(o=>!n.hasKey(o)&&!n.hasKey(encodeURI(o)));for(const o of i){const l=cy(n.require(o));r.addRelated(l),a.add(l)}for(const o of s){const l=tj(a.require(o));e.addRelated(l),n.add(l)}for(const o of n.items()){const l=a.require(o.url);await Kt.synchronize(o,l),await this.saveModelAndChildren(o)}}}const dy="disconnected",hy="online",nj="syncing";var Bve=Ua({name:"cloud",persist:["ready","modelCollections","startupSync","pollingEnabled","pollingMinutes"],initialState:()=>({autoPush:!0,dirtyRemoteModels:ar([],"url"),localModelUpdates:{},ready:!1,modelCollections:{},registeredModels:[],remoteOperationUrls:{},setupDismissed:!1,startupSync:!0,status:dy,pollingEnabled:!0,pollingMinutes:10}),computed:{disconnected:t=>{let{status:e}=t;return e===dy},online:t=>{let{status:e}=t;return e===hy},syncing:t=>{let{status:e}=t;return e===nj},localChanges(t){let{localModelUpdates:e}=t;return Object.values(e).reduce((r,n)=>r+n,0)},dirty(){return this.localChanges>0}}});class zve extends Bve{constructor(){super(...arguments),J(this,"asyncLock",new Lb),J(this,"engine",null),J(this,"pollingInterval",null)}async whenReady(e){return this.ready?e():new Promise(r=>{qe.once("cloud:ready",()=>r(e()))})}async setup(e){await this.migrateLocalDocuments(e),await qe.emit("cloud:migrated"),await this.setReady(!0),await this.sync()}dismissSetup(){this.setupDismissed=!0}async syncIfOnline(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.online&&await this.sync(e)}async sync(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=DT(e)?{models:e}:e instanceof Kt?{model:e}:e;Yt.isLoggedIn()&&this.ready&&await this.asyncLock.run(async()=>{const n=Date.now(),a=r.model?[r.model]:r.models;this.status=nj,ww.clear(a),await qe.emit("cloud:sync-started",a);try{for(r.refreshUserProfile&&await Yt.refreshUserProfile(),await Kv(new qE(a));this.dirty;)await Kv(new qE(this.getDirtyLocalModels()));await da({milliseconds:Math.max(0,1e3-(Date.now()-n))})}catch(i){await fu.report(i,it("cloud.syncFailed","Sync failed"))}finally{this.status=hy,await qe.emit("cloud:sync-completed",a)}})}async register(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.registeredModels.find(a=>e===a.modelClass))return;const n=this.engine;n&&NE(e).forEach(a=>os(a).setEngine(n)),this.whenReady(()=>{no(e)&&(e.collection=nm(r.path))}),await YD(e,{created:a=>UE(a),updated:a=>BE(a)}),no(e)&&xn(e).forEach(a=>{const i=e.instance().requireRelation(a).relatedClass;i.on("created",s=>UE(s)),i.on("updated",s=>BE(s))}),this.registeredModels.push({modelClass:e,...Zf(r,["path","migrate"])});for(const a of this.modelCollections[e.modelName]??[])await hd(e,a)}requireRemoteCollection(e){for(const r of this.registeredModels)if(e===r.modelClass)return nm(r.path);throw new Error(`Failed resolving remote collection for '${e.modelName}' model`)}async boot(){await Yt.booted,Yt.isLoggedIn()&&this.login(Yt.authenticator),qe.on("auth:login",e=>{let{authenticator:r}=e;return this.login(r)}),qe.on("auth:logout",()=>this.logout()),qe.once("application-ready",()=>this.autoSetup()),qe.once("application-mounted",()=>this.startupSync&&this.sync()),_r(()=>{this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingEnabled?this.pollingInterval=setInterval(()=>this.sync(),60*this.pollingMinutes*1e3):this.pollingInterval=null})}getDirtyLocalModels(){const e=Object.keys(this.localModelUpdates),r=[];for(const{modelClass:n}of this.registeredModels)for(const a of bw(n))r.push(...this.getModelsIn(e,a));return r}getModelsIn(e,r){const n=[];return e.includes(r.url)&&n.push(r),qi(r)&&n.push(...ZD(r).map(a=>this.getModelsIn(e,a)).flat()),n}requireEngine(){return this.engine??tt("Could not get required Engine")}async setReady(e){!this.ready&&e&&(await qe.emit("cloud:ready"),this.ready=!0)}async migrateLocalDocuments(e){e??(e=new WeakMap);const r=new Fve;for(const{modelClass:n,path:a}of this.registeredModels){if(!no(n))continue;for(const[o,l]of Object.entries(e.get(n)??{}))r.migrateUrl(n,o,l);const i=n.collection,s=nm(a);n.collection=s,r.migrateCollection(n,i,s)}await Kv(r)}async autoSetup(){!this.ready&&Yt.isLoggedIn()&&(await this.migrate(),await this.setReady(!rj().some(e=>e.url.startsWith("solid://"))))}login(e){const r=[...this.registeredModels].map(n=>{let{modelClass:a}=n;return NE(a)}).flat().concat([wo]);this.status=hy,this.engine=e.engine;for(const n of r)os(n).setEngine(this.engine)}logout(){this.setState({dirtyRemoteModels:ar([],"url"),localModelUpdates:{},ready:!1,modelCollections:{},remoteOperationUrls:{},setupDismissed:!1,startupSync:!0,status:dy,pollingEnabled:!0,pollingMinutes:10})}async migrate(){for(const{migrate:e}of this.registeredModels)await(e==null?void 0:e())}}var Df=Zr(zve);const Gve={key:1,class:"flex flex-col gap-3"};var qve=$e({__name:"AGCloudStatus",emits:["sync"],setup:t=>(e,r)=>(se(),Re(oe(KD),null,{"logged-in":le(({session:n})=>[e.$cloud.syncing?(se(),Re(oe(ht),{key:0,text:e.$td("cloud.syncing","Syncing...")},null,8,["text"])):(se(),Se("div",Gve,[te(oe(ht),{text:e.$td("solid.loggedIn","You are logged in as [{userName}]({userWebId})",{userName:n.user.name??n.user.webId,userWebId:n.user.webId})},null,8,["text"]),te(oe(ir),{onClick:r[0]||(r[0]=a=>(e.$cloud.sync(),e.$emit("sync")))},{default:le(()=>[Oe(we(e.$td("cloud.sync","Synchronize")),1)]),_:1}),te(oe(ir),{onClick:r[1]||(r[1]=a=>e.$solid.logout())},{default:le(()=>[Oe(we(e.$td("solid.logout","Logout")),1)]),_:1})]))]),_:1}))});qve.__file="src/components/AGCloudStatus.vue";const Hve={$cloud:Df};function Vve(){return{name:"@aerogel/offline-first",async install(t){await xs(t,{...Hve,$_documentsCache:fy})}}}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const zs=typeof document<"u";function Wve(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const gt=Object.assign;function am(t,e){const r={};for(const n in e){const a=e[n];r[n]=Hn(a)?a.map(t):t(a)}return r}const Wl=()=>{},Hn=Array.isArray,aj=/#/g,Kve=/&/g,Jve=/\//g,Yve=/=/g,Qve=/\?/g,ij=/\+/g,Xve=/%5B/g,Zve=/%5D/g,sj=/%5E/g,eme=/%60/g,oj=/%7B/g,tme=/%7C/g,lj=/%7D/g,rme=/%20/g;function $w(t){return encodeURI(""+t).replace(tme,"|").replace(Xve,"[").replace(Zve,"]")}function nme(t){return $w(t).replace(oj,"{").replace(lj,"}").replace(sj,"^")}function py(t){return $w(t).replace(ij,"%2B").replace(rme,"+").replace(aj,"%23").replace(Kve,"%26").replace(eme,"`").replace(oj,"{").replace(lj,"}").replace(sj,"^")}function ame(t){return py(t).replace(Yve,"%3D")}function ime(t){return $w(t).replace(aj,"%23").replace(Qve,"%3F")}function sme(t){return t==null?"":ime(t).replace(Jve,"%2F")}function vu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ome=/\/$/,lme=t=>t.replace(ome,"");function im(t,e,r="/"){let n,a={},i="",s="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,o>-1?o:e.length),a=t(i)),o>-1&&(n=n||e.slice(0,o),s=e.slice(o,e.length)),n=dme(n??e,r),{fullPath:n+(i&&"?")+i+s,path:n,query:a,hash:vu(s)}}function ume(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function HE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function cme(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Eo(e.matched[n],r.matched[a])&&uj(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Eo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function uj(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!fme(t[r],e[r]))return!1;return!0}function fme(t,e){return Hn(t)?VE(t,e):Hn(e)?VE(e,t):t===e}function VE(t,e){return Hn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function dme(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s).join("/")}const Ha={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var mu;(function(t){t.pop="pop",t.push="push"})(mu||(mu={}));var Kl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Kl||(Kl={}));function hme(t){if(!t)if(zs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),lme(t)}const pme=/^[^#]+#/;function vme(t,e){return t.replace(pme,"#")+e}function mme(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const xh=()=>({left:window.scrollX,top:window.scrollY});function gme(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=mme(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function WE(t,e){return(history.state?history.state.position-e:-1)+t}const vy=new Map;function yme(t,e){vy.set(t,e)}function bme(t){const e=vy.get(t);return vy.delete(t),e}let wme=()=>location.protocol+"//"+location.host;function cj(t,e){const{pathname:r,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let o=a.includes(t.slice(i))?t.slice(i).length:1,l=a.slice(o);return l[0]!=="/"&&(l="/"+l),HE(l,"")}return HE(r,t)+n+a}function _me(t,e,r,n){let a=[],i=[],s=null;const o=({state:d})=>{const h=cj(t,location),p=r.value,y=e.value;let k=0;if(d){if(r.value=h,e.value=d,s&&s===p){s=null;return}k=y?d.position-y.position:0}else n(h);a.forEach($=>{$(r.value,p,{delta:k,type:mu.pop,direction:k?k>0?Kl.forward:Kl.back:Kl.unknown})})};function l(){s=r.value}function u(d){a.push(d);const h=()=>{const p=a.indexOf(d);p>-1&&a.splice(p,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(gt({},d.state,{scroll:xh()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function KE(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?xh():null}}function $me(t){const{history:e,location:r}=window,n={value:cj(t,r)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:wme()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),a.value=u}catch(h){console.error(h),r[c?"replace":"assign"](d)}}function s(l,u){const c=gt({},e.state,KE(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),n.value=l}function o(l,u){const c=gt({},a.value,e.state,{forward:l,scroll:xh()});i(c.current,c,!0);const f=gt({},KE(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:a,push:o,replace:s}}function xme(t){t=hme(t);const e=$me(t),r=_me(t,e.state,e.location,e.replace);function n(i,s=!0){s||r.pauseListeners(),history.go(i)}const a=gt({location:"",base:t,go:n,createHref:vme.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function Sme(t){return typeof t=="string"||t&&typeof t=="object"}function fj(t){return typeof t=="string"||typeof t=="symbol"}const dj=Symbol("");var JE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(JE||(JE={}));function Ao(t,e){return gt(new Error,{type:t,[dj]:!0},e)}function wa(t,e){return t instanceof Error&&dj in t&&(e==null||!!(t.type&e))}const YE="[^/]+?",Ime={sensitive:!1,strict:!1,start:!0,end:!0},Eme=/[.+*?^${}()[\]/\\]/g;function Ame(t,e){const r=gt({},Ime,e),n=[];let a=r.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(a+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(Eme,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:y,optional:k,regexp:$}=d;i.push({name:p,repeatable:y,optional:k});const b=$||YE;if(b!==YE){h+=10;try{new RegExp(`(${b})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+O.message)}}let _=y?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(_=k&&u.length<2?`(?:/${_})`:"/"+_),k&&(_+="?"),a+=_,h+=20,k&&(h+=-8),y&&(h+=-20),b===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function o(u){const c=u.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=i[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:k}=h,$=p in u?u[p]:"";if(Hn($)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Hn($)?$.join("/"):$;if(!b)if(k)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:s,score:n,keys:i,parse:o,stringify:l}}function Ome(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function hj(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const i=Ome(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(QE(n))return 1;if(QE(a))return-1}return a.length-n.length}function QE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const kme={type:0,value:""},Rme=/[a-zA-Z0-9_]/;function Tme(t){if(!t)return[[]];if(t==="/")return[[kme]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const a=[];let i;function s(){i&&a.push(i),i=[]}let o=0,l,u="",c="";function f(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:l==="("?r=2:Rme.test(l)?d():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),a}function Pme(t,e,r){const n=Ame(Tme(t.path),r),a=gt(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function Cme(t,e){const r=[],n=new Map;e=eA({strict:!1,end:!0,sensitive:!1},e);function a(f){return n.get(f)}function i(f,d,h){const p=!h,y=Dme(f);y.aliasOf=h&&h.record;const k=eA(e,f),$=[y];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const R of O)$.push(gt({},y,{components:h?h.record.components:y.components,path:R,aliasOf:h?h.record:y}))}let b,_;for(const O of $){const{path:R}=O;if(d&&R[0]!=="/"){const P=d.record.path,T=P[P.length-1]==="/"?"":"/";O.path=d.record.path+(R&&T+R)}if(b=Pme(O,d,k),h?h.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),p&&f.name&&!ZE(b)&&s(f.name)),pj(b)&&l(b),y.children){const P=y.children;for(let T=0;T<P.length;T++)i(P[T],b,h&&h.children[T])}h=h||b}return _?()=>{s(_)}:Wl}function s(f){if(fj(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function o(){return r}function l(f){const d=Mme(f,r);r.splice(d,0,f),f.record.name&&!ZE(f)&&n.set(f.record.name,f)}function u(f,d){let h,p={},y,k;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw Ao(1,{location:f});k=h.record.name,p=gt(XE(d.params,h.keys.filter(_=>!_.optional).concat(h.parent?h.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&XE(f.params,h.keys.map(_=>_.name))),y=h.stringify(p)}else if(f.path!=null)y=f.path,h=r.find(_=>_.re.test(y)),h&&(p=h.parse(y),k=h.record.name);else{if(h=d.name?n.get(d.name):r.find(_=>_.re.test(d.path)),!h)throw Ao(1,{location:f,currentLocation:d});k=h.record.name,p=gt({},d.params,f.params),y=h.stringify(p)}const $=[];let b=h;for(;b;)$.unshift(b.record),b=b.parent;return{name:k,path:y,params:p,matched:$,meta:Lme($)}}t.forEach(f=>i(f));function c(){r.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:a}}function XE(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Dme(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:jme(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function jme(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function ZE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Lme(t){return t.reduce((e,r)=>gt(e,r.meta),{})}function eA(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Mme(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;hj(t,e[i])<0?n=i:r=i+1}const a=Nme(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function Nme(t){let e=t;for(;e=e.parent;)if(pj(e)&&hj(t,e)===0)return e}function pj({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Fme(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(ij," "),s=i.indexOf("="),o=vu(s<0?i:i.slice(0,s)),l=s<0?null:vu(i.slice(s+1));if(o in e){let u=e[o];Hn(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function tA(t){let e="";for(let r in t){const n=t[r];if(r=ame(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Hn(n)?n.map(i=>i&&py(i)):[n&&py(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function Ume(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Hn(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const Bme=Symbol(""),rA=Symbol(""),xw=Symbol(""),Sw=Symbol(""),my=Symbol("");function ml(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Xa(t,e,r,n,a,i=s=>s()){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const u=d=>{d===!1?l(Ao(4,{from:r,to:e})):d instanceof Error?l(d):Sme(d)?l(Ao(2,{from:e,to:d})):(s&&n.enterCallbacks[a]===s&&typeof d=="function"&&s.push(d),o())},c=i(()=>t.call(n&&n.instances[a],e,r,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function sm(t,e,r,n,a=i=>i()){const i=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(zme(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Xa(c,r,n,s,o,a))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const f=Wve(c)?c.default:c;s.components[o]=f;const h=(f.__vccOpts||f)[e];return h&&Xa(h,r,n,s,o,a)()}))}}return i}function zme(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nA(t){const e=kt(xw),r=kt(Sw),n=de(()=>{const l=oe(t.to);return e.resolve(l)}),a=de(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(Eo.bind(null,c));if(d>-1)return d;const h=aA(l[u-2]);return u>1&&aA(c)===h&&f[f.length-1].path!==h?f.findIndex(Eo.bind(null,l[u-2])):d}),i=de(()=>a.value>-1&&Vme(r.params,n.value.params)),s=de(()=>a.value>-1&&a.value===r.matched.length-1&&uj(r.params,n.value.params));function o(l={}){return Hme(l)?e[oe(t.replace)?"replace":"push"](oe(t.to)).catch(Wl):Promise.resolve()}return{route:n,href:de(()=>n.value.href),isActive:i,isExactActive:s,navigate:o}}const Gme=$e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nA,setup(t,{slots:e}){const r=Ta(nA(t)),{options:n}=kt(xw),a=de(()=>({[iA(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[iA(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&e.default(r);return t.custom?i:Nt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),qme=Gme;function Hme(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vme(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!Hn(a)||a.length!==n.length||n.some((i,s)=>i!==a[s]))return!1}return!0}function aA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const iA=(t,e,r)=>t??e??r,Wme=$e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=kt(my),a=de(()=>t.route||n.value),i=kt(rA,0),s=de(()=>{let u=oe(i);const{matched:c}=a.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),o=de(()=>a.value.matched[s.value]);br(rA,de(()=>s.value+1)),br(Bme,o),br(my,a);const l=Pe();return jr(()=>[l.value,o.value,t.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Eo(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=a.value,c=t.name,f=o.value,d=f&&f.components[c];if(!d)return sA(r.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,k=Nt(d,gt({},p,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return sA(r.default,{Component:k,route:u})||k}}});function sA(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Kme=Wme;function Jme(t){const e=Cme(t.routes,t),r=t.parseQuery||Fme,n=t.stringifyQuery||tA,a=t.history,i=ml(),s=ml(),o=ml(),l=au(Ha);let u=Ha;zs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=am.bind(null,N=>""+N),f=am.bind(null,sme),d=am.bind(null,vu);function h(N,ee){let ne,m;return fj(N)?(ne=e.getRecordMatcher(N),m=ee):m=N,e.addRoute(m,ne)}function p(N){const ee=e.getRecordMatcher(N);ee&&e.removeRoute(ee)}function y(){return e.getRoutes().map(N=>N.record)}function k(N){return!!e.getRecordMatcher(N)}function $(N,ee){if(ee=gt({},ee||l.value),typeof N=="string"){const I=im(r,N,ee.path),L=e.resolve({path:I.path},ee),Q=a.createHref(I.fullPath);return gt(I,L,{params:d(L.params),hash:vu(I.hash),redirectedFrom:void 0,href:Q})}let ne;if(N.path!=null)ne=gt({},N,{path:im(r,N.path,ee.path).path});else{const I=gt({},N.params);for(const L in I)I[L]==null&&delete I[L];ne=gt({},N,{params:f(I)}),ee.params=f(ee.params)}const m=e.resolve(ne,ee),E=N.hash||"";m.params=c(d(m.params));const D=ume(n,gt({},N,{hash:nme(E),path:m.path})),S=a.createHref(D);return gt({fullPath:D,hash:E,query:n===tA?Ume(N.query):N.query||{}},m,{redirectedFrom:void 0,href:S})}function b(N){return typeof N=="string"?im(r,N,l.value.path):gt({},N)}function _(N,ee){if(u!==N)return Ao(8,{from:ee,to:N})}function O(N){return T(N)}function R(N){return O(gt(b(N),{replace:!0}))}function P(N){const ee=N.matched[N.matched.length-1];if(ee&&ee.redirect){const{redirect:ne}=ee;let m=typeof ne=="function"?ne(N):ne;return typeof m=="string"&&(m=m.includes("?")||m.includes("#")?m=b(m):{path:m},m.params={}),gt({query:N.query,hash:N.hash,params:m.path!=null?{}:N.params},m)}}function T(N,ee){const ne=u=$(N),m=l.value,E=N.state,D=N.force,S=N.replace===!0,I=P(ne);if(I)return T(gt(b(I),{state:typeof I=="object"?gt({},E,I.state):E,force:D,replace:S}),ee||ne);const L=ne;L.redirectedFrom=ee;let Q;return!D&&cme(n,m,ne)&&(Q=Ao(16,{to:L,from:m}),q(m,m,!0,!1)),(Q?Promise.resolve(Q):w(L,m)).catch(re=>wa(re)?wa(re,2)?re:H(re):U(re,L,m)).then(re=>{if(re){if(wa(re,2))return T(gt({replace:S},b(re.to),{state:typeof re.to=="object"?gt({},E,re.to.state):E,force:D}),ee||L)}else re=j(L,m,!0,S,E);return x(L,m,re),re})}function G(N,ee){const ne=_(N,ee);return ne?Promise.reject(ne):Promise.resolve()}function v(N){const ee=M.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(N):N()}function w(N,ee){let ne;const[m,E,D]=Yme(N,ee);ne=sm(m.reverse(),"beforeRouteLeave",N,ee);for(const I of m)I.leaveGuards.forEach(L=>{ne.push(Xa(L,N,ee))});const S=G.bind(null,N,ee);return ne.push(S),Z(ne).then(()=>{ne=[];for(const I of i.list())ne.push(Xa(I,N,ee));return ne.push(S),Z(ne)}).then(()=>{ne=sm(E,"beforeRouteUpdate",N,ee);for(const I of E)I.updateGuards.forEach(L=>{ne.push(Xa(L,N,ee))});return ne.push(S),Z(ne)}).then(()=>{ne=[];for(const I of D)if(I.beforeEnter)if(Hn(I.beforeEnter))for(const L of I.beforeEnter)ne.push(Xa(L,N,ee));else ne.push(Xa(I.beforeEnter,N,ee));return ne.push(S),Z(ne)}).then(()=>(N.matched.forEach(I=>I.enterCallbacks={}),ne=sm(D,"beforeRouteEnter",N,ee,v),ne.push(S),Z(ne))).then(()=>{ne=[];for(const I of s.list())ne.push(Xa(I,N,ee));return ne.push(S),Z(ne)}).catch(I=>wa(I,8)?I:Promise.reject(I))}function x(N,ee,ne){o.list().forEach(m=>v(()=>m(N,ee,ne)))}function j(N,ee,ne,m,E){const D=_(N,ee);if(D)return D;const S=ee===Ha,I=zs?history.state:{};ne&&(m||S?a.replace(N.fullPath,gt({scroll:S&&I&&I.scroll},E)):a.push(N.fullPath,E)),l.value=N,q(N,ee,ne,S),H()}let C;function B(){C||(C=a.listen((N,ee,ne)=>{if(!W.listening)return;const m=$(N),E=P(m);if(E){T(gt(E,{replace:!0}),m).catch(Wl);return}u=m;const D=l.value;zs&&yme(WE(D.fullPath,ne.delta),xh()),w(m,D).catch(S=>wa(S,12)?S:wa(S,2)?(T(S.to,m).then(I=>{wa(I,20)&&!ne.delta&&ne.type===mu.pop&&a.go(-1,!1)}).catch(Wl),Promise.reject()):(ne.delta&&a.go(-ne.delta,!1),U(S,m,D))).then(S=>{S=S||j(m,D,!1),S&&(ne.delta&&!wa(S,8)?a.go(-ne.delta,!1):ne.type===mu.pop&&wa(S,20)&&a.go(-1,!1)),x(m,D,S)}).catch(Wl)}))}let X=ml(),K=ml(),F;function U(N,ee,ne){H(N);const m=K.list();return m.length?m.forEach(E=>E(N,ee,ne)):console.error(N),Promise.reject(N)}function z(){return F&&l.value!==Ha?Promise.resolve():new Promise((N,ee)=>{X.add([N,ee])})}function H(N){return F||(F=!N,B(),X.list().forEach(([ee,ne])=>N?ne(N):ee()),X.reset()),N}function q(N,ee,ne,m){const{scrollBehavior:E}=t;if(!zs||!E)return Promise.resolve();const D=!ne&&bme(WE(N.fullPath,0))||(m||!ne)&&history.state&&history.state.scroll||null;return fn().then(()=>E(N,ee,D)).then(S=>S&&gme(S)).catch(S=>U(S,N,ee))}const g=N=>a.go(N);let A;const M=new Set,W={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:y,resolve:$,options:t,push:O,replace:R,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:i.add,beforeResolve:s.add,afterEach:o.add,onError:K.add,isReady:z,install(N){const ee=this;N.component("RouterLink",qme),N.component("RouterView",Kme),N.config.globalProperties.$router=ee,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(l)}),zs&&!A&&l.value===Ha&&(A=!0,O(a.location).catch(E=>{}));const ne={};for(const E in Ha)Object.defineProperty(ne,E,{get:()=>l.value[E],enumerable:!0});N.provide(xw,ee),N.provide(Sw,vC(ne)),N.provide(my,l);const m=N.unmount;M.add(N),N.unmount=function(){M.delete(N),M.size<1&&(u=Ha,C&&C(),C=null,l.value=Ha,A=!1,F=!1),m()}}};function Z(N){return N.reduce((ee,ne)=>ee.then(()=>v(ne)),Promise.resolve())}return W}function Yme(t,e){const r=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const o=e.matched[s];o&&(t.matched.find(u=>Eo(u,o))?n.push(o):r.push(o));const l=t.matched[s];l&&(e.matched.find(u=>Eo(u,l))||a.push(l))}return[r,n,a]}function Qme(t){return kt(Sw)}var Xme=Ua({name:"router",initialState:{flashRoute:null},persist:["flashRoute"]});class Zme extends Xme{constructor(){super(),J(this,"currentRoute",void 0),J(this,"routesParams",void 0),J(this,"router",void 0),J(this,"bindings",void 0),this.router=au(null),this.bindings={},this.routesParams=au({}),this.currentRoute=de(()=>{var r;if(!this.router.value)return null;const e=oe(this.router.value.currentRoute);return{...e,params:(r=this.routesParams.value)==null?void 0:r[e.path],rawParams:e.params}})}use(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.router.value=e,this.bindings=r.bindings??{},e.beforeEach(Mre(()=>this.handleStatic404Redirect())),e.beforeEach(n=>this.updateRouteParams(n.path,n.params))}async boot(){qe.on("auth:before-login",()=>this.storeFlashRoute()),qe.on("auth:login",()=>this.restoreFlashRoute()),qe.on("auth:logout",e=>{let{wipeLocalData:r}=e;return r&&this.push({name:"home"})}),qe.on("cloud:migrated",{priority:Ace.Low},()=>this.updateCurrentRouteParams())}__get(e){return this.router.value?super.__get(e)??Reflect.get(this.router.value,e):super.__get(e)}async updateCurrentRouteParams(){this.currentRoute.value&&await this.updateRouteParams(this.currentRoute.value.path,this.currentRoute.value.rawParams)}async updateRouteParams(e,r){const n={...r};for(const[a,i]of Object.entries(r))n[a]=await this.resolveBinding(a,i,n);this.routesParams.value={...this.routesParams.value,[e]:n}}handleStatic404Redirect(){const e=ta.pull("static-404-redirect");e&&this.replace(e)}storeFlashRoute(){this.flashRoute=Zf(this.currentRoute.value,["path","query","hash"])}async restoreFlashRoute(){if(!this.flashRoute)return;const e=this.flashRoute;bt.whenReady(()=>this.replace(e)),this.flashRoute=null}async resolveBinding(e,r,n){const a=this.bindings[e];return Array.isArray(r)||!a?r:(await bt.ready,a(r,n))}}var Iw=Zr(Zme);function ege(t,e){const r=Qme(),n=de(()=>{var i;return(i=Iw.routesParams)==null?void 0:i.value[r.path]}),a=de(()=>e!=null&&e.title&&n.value?typeof e.title=="string"?e.title:e.title(n.value):null);return _r(()=>function(i){if(globalThis.document){if(!i)return void(globalThis.document.title=bt.name);globalThis.document.title=`${i} | ${bt.name}`}}(a.value)),()=>Nt(t,n.value)}function oA(t,e){return $e({setup:()=>ege(t,e)})}function lA(t){return async function(){await bt.ready;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.call(this,...r)}}function tge(t){return function(e){if(e.component)if(typeof e.component!="function")e.component=oA(e.component,e);else{const r=e.component;e.component=async()=>{const{default:n}=await r();return oA(n,e)}}}(t),function(e){e.beforeEnter&&(Array.isArray(e.beforeEnter)?e.beforeEnter=e.beforeEnter.map(lA):e.beforeEnter=lA(e.beforeEnter))}(t),t}function rge(t){return t.map(tge)}const nge={$router:Iw};function age(t){return{async install(e){const r=Jme({routes:t.routes,history:xme(t.basePath??Ni.basePath)});Iw.use(r,t),e.use(r),await xs(e,nge)}}}const ga=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},ige={},sge={target:"_blank",class:"text-sm text-gray-600 underline hover:text-gray-800"};function oge(t,e){return se(),Se("a",sge,[ft(t.$slots,"default")])}const lge=ga(ige,[["render",oge]]),uge={},cge={class:"bg-gray-200 p-2"},fge={class:"m-auto flex max-w-screen-lg flex-row items-center justify-center gap-2"},dge=me("span",{class:"text-gray-600"},"|",-1);function hge(t,e){const r=lge;return se(),Se("footer",cge,[me("div",fge,[te(r,{href:"https://aerogel.js.org"},{default:le(()=>[Oe(we(t.$t("footer.about")),1)]),_:1}),dge,te(r,{href:"https://github.com/NoelDeMartin/aerogel/tree/main/packages/playground"},{default:le(()=>[Oe(we(t.$t("footer.source")),1)]),_:1})])])}const pge=ga(uge,[["render",hge]]),vge={viewBox:"0 0 128 128","aria-hidden":"true",width:"1.2em",height:"1.2em"},mge=WC('<circle cx="109.77" cy="11.02" r="4.66" fill="#00EDCD"></circle><path fill="#81D4FA" d="m11.43 91.09l72.66-72.66c.11-.11.21-.28.31-.45c.77-1.32.85-2.58.73-4.25c-.21-2.83.46-4.36 1.83-5.38c1.81-1.36 8.08-1.08 19.81 10.65s12 17.99 10.64 19.8c-1.02 1.37-2.55 2.03-5.38 1.83c-1.67-.12-2.93-.05-4.25.73c-.18.1-.34.2-.45.31l-72.66 72.66c-9.98 9.98-19.51 8.46-25.56 2.41l-.04-.04l-.04-.04c-6.07-6.06-7.59-15.59 2.4-25.57z" opacity=".75"></path><path fill="#1D44B3" d="M99.79 23.22c-6.36-6.36-11.2-9.55-14.69-10.98c-.02.45-.02.95.02 1.49c.09 1.19.06 2.17-.23 3.11c3.17 1.71 7.14 4.55 12.01 9.11c7 6.56 10.34 11.51 11.73 15c.92-.34 1.86-.4 2.98-.35c-.67-3.5-3.62-9.19-11.82-17.38z" opacity=".39"></path><path fill="#00BFA5" d="M54.15 48.51L11.67 90.94c-10.36 10.35-9.05 20.03-3.03 26.05c6.02 6.01 15.68 7.35 26.06-3.03L102 47.04l-47.85 1.47z"></path><circle cx="45.06" cy="76.96" r="5.06" fill="#00937A"></circle><circle cx="96.58" cy="37.04" r="4.76" fill="#00BFA5"></circle><circle cx="73.27" cy="57.3" r="2.93" fill="#FFF" opacity=".69"></circle><circle cx="121.84" cy="12.01" r="2.17" fill="#00BFA5"></circle><circle cx="59.15" cy="72.54" r="4" fill="#00EDCD"></circle><circle cx="63.75" cy="61.12" r="1.54" fill="#00EDCD"></circle><path fill="none" stroke="#FFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4.195" d="M93.2 14.66c3.21 2.08 6.13 4.6 8.65 7.46" opacity=".6"></path><path fill="#00EDCD" d="M102.02 46.96c-.84.74-3.57 1.23-10.75 2.35c-3.81.6-8.47 1.2-13.82 1.64c-16.77 1.39-28.08-.9-21.37-3.64c5.39-2.2 24.53-1.72 36.51-1.34c5.78.19 10.09.42 9.43.99z"></path><path fill="#FFF" d="M11.63 103.5c-1.72-.71-1.02-2.68 0-3.71l67.5-69.29c4.1-4.24 7.85-7.12 9.95-5.12c2.35 2.23 1.6 6.23-7.61 14.49l-64.68 61.17c-.51.51-3.44 3.17-5.16 2.46z" opacity=".6"></path>',13),gge=[mge];function yge(t,e){return se(),Se("svg",vge,[...gge])}const bge={name:"noto-test-tube",render:yge},wge={},_ge={class:"border-b bg-blue-100 p-8"},$ge={class:"m-auto max-w-screen-lg text-center"},xge={class:"text-2xl font-medium"};function Sge(t,e){const r=bge,n=$0("RouterLink");return se(),Se("header",_ge,[me("div",$ge,[me("h1",xge,[te(n,{to:{name:"home"}},{default:le(()=>[te(r,{class:"inline h-6 w-6"}),Oe(" "+we(t.$t("app.title")),1)]),_:1})])])])}const Ige=ga(wge,[["render",Sge]]),Ege={},Age={class:"flex flex-grow p-4"},Oge={class:"mx-auto flex w-full max-w-screen-lg flex-grow flex-col"};function kge(t,e){const r=Ige,n=$0("RouterView"),a=pge,i=rD;return se(),Re(i,{class:"bg-gray-100"},{default:le(()=>[te(r),me("main",Age,[me("div",Oge,[te(n)])]),te(a)]),_:1})}const Rge=ga(Ege,[["render",kge]]),mn=$e({__name:"BaseButton",props:{color:ss(It,It.Primary),small:es(),icon:es(),disabled:es()},setup(t){const e=t,r=de(()=>{const s="shadow-sm text-white focus-visible:outline-offset-2";switch(e.color){case It.Danger:return`${s} bg-red-600 hover:bg-red-500 focus-visible:outline-red-600`;case It.Clear:return"text-gray-900 bg-white hover:bg-gray-100 focus-visible:outline-gray-900";case It.Secondary:return`${s} bg-gray-600 hover:bg-gray-500 focus-visible:outline-gray-600`;default:case It.Primary:return`${s} bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600`}}),n=de(()=>e.icon?"rounded-full":e.small?"rounded":"rounded-md"),a=de(()=>e.icon?`${e.small?"w-7 h-7":"w-clickable h-clickable"} flex items-center justify-center`:e.small?"px-2 py-1 text-xs":"px-3.5 py-2.5 text-sm"),i=de(()=>{const s=`${r.value} ${a.value} ${n.value}`;return e.disabled?`${rfe(s)} opacity-50`:s});return(s,o)=>{const l=bh;return se(),Re(l,{class:Ht(["flex items-center gap-1 font-semibold focus-visible:outline focus-visible:outline-2",i.value]),disabled:t.disabled},{default:le(()=>[ft(s.$slots,"default")]),_:3},8,["class","disabled"])}}}),Tge={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Pge=me("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),Cge=[Pge];function Dge(t,e){return se(),Se("svg",Tge,[...Cge])}const vj={name:"mdi-close",render:Dge},jge={class:"fixed inset-0 z-10 overflow-y-auto"},Lge={class:"flex min-h-full items-center justify-center p-4 text-center"},Ko=$e({__name:"BaseModal",props:{noPadding:es(),...B0()},setup(t,{expose:e}){const r=t,n=Pe(),a=nfe(r);return e(F2(n)),(i,s)=>{const o=vj,l=mn,u=ht,c=Wu,f=q0,d=z0;return se(),Re(d,xr({ref_key:"$modal",ref:n},oe(a),{class:"relative z-50"}),{default:le(({close:h})=>[me("div",jge,[me("div",Lge,[te(f,{class:Ht(["relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all",{"px-4 pb-4 pt-5":!t.noPadding}])},{default:le(()=>[i.title&&i.cancellable?(se(),Re(l,{key:0,color:"clear",class:"absolute right-1 top-3",icon:"",title:i.$t("ui.close"),"aria-label":i.$t("ui.close"),onClick:p=>h()},{default:le(()=>[te(o,{class:"h-4 w-4"})]),_:2},1032,["title","aria-label","onClick"])):jt("",!0),i.title?(se(),Re(c,{key:1,class:"mr-12 text-base font-semibold leading-6 text-gray-900"},{default:le(()=>[te(u,{text:i.title,inline:""},null,8,["text"])]),_:1})):jt("",!0),me("div",{class:Ht({"mt-3":i.title})},[ft(i.$slots,"default",{close:h})],2)]),_:2},1032,["class"])])])]),_:3},16)}}}),Mge=$e({__name:"AlertModal",props:U2(),setup(t){return(e,r)=>{const n=ht,a=Ko;return se(),Re(a,{title:e.title},{default:le(()=>[te(n,{text:e.message},null,8,["text"])]),_:1},8,["title"])}}}),Nge={class:"flex items-center gap-3 p-4"},Fge=$e({__name:"BaseSnackbar",props:Q2(),setup(t){const e=t,{activate:r}=X2(e),n=de(()=>{switch(e.color){case It.Danger:return"bg-red-200 ring-red-500 text-red-900";default:case It.Secondary:return"bg-white ring-black"}});return(a,i)=>{const s=ht,o=mn,l=Z0;return se(),Re(l,{class:Ht(["overflow-hidden rounded-lg shadow-lg ring-1 ring-opacity-5",n.value])},{default:le(()=>[me("div",Nge,[te(s,{text:a.message,inline:""},null,8,["text"]),(se(!0),Se(Xe,null,Fa(a.actions,(u,c)=>(se(),Re(o,{key:c,color:a.color,onClick:f=>oe(r)(u)},{default:le(()=>[Oe(we(u.text),1)]),_:2},1032,["color","onClick"]))),128))])]),_:1},8,["class"])}}}),Uge={class:"mt-4 flex flex-row-reverse gap-2"},Bge=$e({__name:"ConfirmModal",props:B2(),setup(t){const e=t,{renderedAcceptText:r,renderedCancelText:n}=z2(e);return(a,i)=>{const s=ht,o=mn,l=Ko;return se(),Re(l,{title:a.title,cancellable:!1},{default:le(({close:u})=>[te(s,{text:a.message},null,8,["text"]),me("div",Uge,[te(o,{color:a.acceptColor,onClick:c=>u(!0)},{default:le(()=>[Oe(we(oe(r)),1)]),_:2},1032,["color","onClick"]),te(o,{color:a.cancelColor,onClick:c=>u(!1)},{default:le(()=>[Oe(we(oe(n)),1)]),_:2},1032,["color","onClick"])])]),_:1},8,["title"])}}}),zge={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"},Gge=me("path",{fill:"currentColor",d:"m12.95 10.707l.707-.707L8 4.343L6.586 5.757L10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},null,-1),qge=[Gge];function Hge(t,e){return se(),Se("svg",zge,[...qge])}const Vge={name:"zondicons-cheveron-right",render:Hge},Wge={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"},Kge=me("path",{fill:"currentColor",d:"M7.05 9.293L6.343 10L12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1),Jge=[Kge];function Yge(t,e){return se(),Se("svg",Wge,[...Jge])}const Qge={name:"zondicons-cheveron-left",render:Yge},Xge={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"},Zge=me("path",{fill:"currentColor",d:"M2.93 17.07A10 10 0 1 1 17.07 2.93A10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z"},null,-1),eye=[Zge];function tye(t,e){return se(),Se("svg",Xge,[...eye])}const mj={name:"zondicons-exclamation-solid",render:tye},rye={class:"px-4 pb-4 pt-5"},nye={class:"flex justify-between gap-4"},aye={class:"flex items-center gap-2"},iye={key:0,class:"flex gap-0.5"},sye={class:"bg-red-grey -mt-2 max-h-[80vh] overflow-auto"},oye=["textContent"],lye=$e({__name:"ErrorReportModal",props:G2(),setup(t){const e=t,{activeReportIndex:r,details:n,nextReportText:a,previousReportText:i,report:s}=q2(e);return(o,l)=>{const u=mj,c=K0,f=Qge,d=mn,h=Vge,p=oD,y=W0,k=ht,$=Ko;return se(),Re($,{"no-padding":""},{default:le(()=>[me("div",rye,[me("h2",nye,[me("div",aye,[te(u,{class:"h-5 w-5 text-red-600"}),te(c,{class:"text-lg font-semibold leading-6 text-gray-900",report:oe(s),"current-report":oe(r)+1,"total-reports":o.reports.length},null,8,["report","current-report","total-reports"]),o.reports.length>1?(se(),Se("span",iye,[te(d,{icon:"",color:"clear",disabled:oe(r)===0,"aria-label":oe(i),title:oe(i),onClick:l[0]||(l[0]=b=>r.value--)},{default:le(()=>[te(f,{class:"h-4 w-4"})]),_:1},8,["disabled","aria-label","title"]),te(d,{icon:"",color:"clear",disabled:oe(r)===o.reports.length-1,"aria-label":oe(a),title:oe(a),onClick:l[1]||(l[1]=b=>r.value++)},{default:le(()=>[te(h,{class:"h-4 w-4"})]),_:1},8,["disabled","aria-label","title"])])):jt("",!0)]),te(y,{report:oe(s),class:"gap-0.5"},{default:le(({url:b,handler:_,iconComponent:O,description:R})=>[te(d,{color:"clear",class:"group whitespace-nowrap",url:b,"aria-label":R,onClick:_},{default:le(()=>[(se(),Re($i(O),{class:"h-4 w-4"})),te(p,{class:"w-0 overflow-hidden transition-[width] group-hover:w-[--width] group-focus:w-[--width]"},{default:le(()=>[Oe(we(R),1)]),_:2},1024)]),_:2},1032,["url","aria-label","onClick"])]),_:1},8,["report"])]),oe(s).description?(se(),Re(k,{key:0,text:oe(s).description,class:"text-gray-600"},null,8,["text"])):jt("",!0)]),me("div",sye,[me("pre",{class:"p-4 text-xs text-red-800",textContent:we(oe(n))},null,8,oye)])]),_:1})}}}),uye={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},cye=me("path",{fill:"currentColor",d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"},null,-1),fye=me("path",{fill:"currentColor",d:"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z"},[me("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1),dye=[cye,fye];function hye(t,e){return se(),Se("svg",uye,[...dye])}const pye={name:"svg-spinners-90-ring-with-bg",render:hye},vye={class:"flex items-center justify-center gap-2"},mye=$e({__name:"LoadingModal",props:V2(),setup(t){const e=t,{renderedMessage:r}=W2(e);return(n,a)=>{const i=pye,s=ht,o=Ko;return se(),Re(o,{cancellable:!1},{default:le(()=>[me("div",vye,[te(i,{class:"h-6 w-6 flex-shrink-0"}),te(s,{text:oe(r)},null,8,["text"])])]),_:1})}}}),gye={[zt.AlertModal]:Mge,[zt.ConfirmModal]:Bge,[zt.ErrorReportModal]:lye,[zt.LoadingModal]:mye,[zt.Snackbar]:Fge},yye={class:"flex h-6 items-center"},bye={key:0,class:"ml-2 text-sm leading-6"},gj=$e({inheritAttrs:!1,__name:"BaseCheckbox",props:{name:Qe(),label:Qe(),inputClass:Qe("")},setup(t){const e=Ho(),[r,n]=U0();return(a,i)=>{const s=Yu,o=Ju,l=Ku;return se(),Re(l,{ref_key:"$input",ref:e,name:t.name,class:Ht(["relative flex items-start",oe(n)]),label:t.label},{default:le(()=>{var u,c;return[me("div",yye,[te(s,xr(oe(r),{type:"checkbox",class:["h-4 w-4 rounded hover:bg-gray-200",{"border-gray-300 text-indigo-600 hover:text-indigo-400 focus:ring-indigo-600":!((u=oe(e))!=null&&u.errors),"border-red-200 text-red-600 hover:text-red-400 focus:ring-red-600":(c=oe(e))==null?void 0:c.errors,[t.inputClass]:!0}]}),null,16,["class"])]),a.$slots.default?(se(),Se("div",bye,[te(oe(Qu),{class:"text-gray-900"},{default:le(()=>[ft(a.$slots,"default")]),_:3}),te(o,{class:"text-sm text-red-600"})])):jt("",!0)]}),_:3},8,["name","class","label"])}}}),wye={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"},_ye=me("path",{fill:"currentColor",d:"m9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828L5.757 6.586L4.343 8z"},null,-1),$ye=[_ye];function xye(t,e){return se(),Se("svg",wye,[...$ye])}const Sye={name:"zondicons-cheveron-down",render:xye},Iye={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Eye=$e({__name:"BaseSelect",props:ew(),setup(t){const e=t,r=Ho();return(n,a)=>{const i=aw,s=Sye,o=rw,l=iw,u=$2,c=nw,f=tw;return se(),Re(f,xr(e,{ref_key:"$select",ref:r,as:"div"}),{default:le(()=>{var d,h;return[te(i,{class:"block text-sm font-medium leading-6 text-gray-900"}),me("div",{class:Ht(["relative",{"mt-2":(d=oe(r))==null?void 0:d.label}])},[te(o,{class:Ht(["relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600",{"ring-1 ring-red-500":(h=oe(r))==null?void 0:h.errors}]),"text-class":"block truncate"},{icon:le(()=>[me("span",Iye,[te(s,{class:"h-5 w-5 text-gray-400"})])]),_:1},8,["class"]),te(u,{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:le(()=>{var p;return[(se(!0),Se(Xe,null,Fa(((p=oe(r))==null?void 0:p.options)??[],(y,k)=>(se(),Re(l,{key:k,value:y,class:"relative block cursor-default select-none truncate py-2 pl-3 pr-9","selected-class":"font-semibold","unselected-class":"font-normal","active-class":"bg-indigo-600 text-white","inactive-class":"text-gray-900"},null,8,["value"]))),128))]}),_:1})],2),te(c,{class:"mt-2 text-sm text-red-600"})]}),_:1},16)}}}),Aye={key:0,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},Sh=$e({inheritAttrs:!1,__name:"BaseInput",props:{...Y0(),inputClass:Qe(""),wrapperClass:Qe("")},setup(t){const e=t,r=Ho(),n=Mfe(e),[a,i]=U0();return(s,o)=>{const l=Qu,u=Yu,c=mj,f=Q0,d=Ju,h=Ku;return se(),Re(h,xr({ref_key:"$input",ref:r},oe(n),{class:oe(i)}),{default:le(()=>{var p,y,k,$;return[te(l,{class:"block text-sm font-medium leading-6 text-gray-900"}),me("div",{class:Ht(["relative rounded-md shadow-sm",{"mt-1":s.label,[t.wrapperClass]:!0}])},[te(u,xr(oe(a),{class:["block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",{"text-gray-900 shadow-sm ring-gray-300 placeholder:text-gray-400 ":!((p=oe(r))!=null&&p.errors),"hover:ring-1 hover:ring-inset hover:ring-indigo-400 focus:ring-indigo-600":!((y=oe(r))!=null&&y.errors),"pr-10 text-red-900 ring-red-300 placeholder:text-red-300 focus:ring-red-500":(k=oe(r))==null?void 0:k.errors,[t.inputClass]:!0}]}),null,16,["class"]),($=oe(r))!=null&&$.errors?(se(),Se("div",Aye,[te(c,{class:"h-5 w-5 text-red-500"})])):jt("",!0)],2),te(f,{class:"mt-2 text-sm text-gray-600"}),te(d,{class:"mt-2 text-sm text-red-600"})]}),_:1},16,["class"])}}}),Oye={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},kye=me("path",{fill:"currentColor",d:"M11 18h2v-2h-2v2m1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-14a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2a2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4Z"},null,-1),Rye=[kye];function Tye(t,e){return se(),Se("svg",Oye,[...Rye])}const Pye={name:"mdi-help-circle-outline",render:Tye},Cye={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Dye=me("path",{fill:"currentColor",d:"M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59L21 7Z"},null,-1),jye=[Dye];function Lye(t,e){return se(),Se("svg",Cye,[...jye])}const Mye={name:"mdi-check",render:Lye},Nye={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Fye=me("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"},null,-1),Uye=[Fye];function Bye(t,e){return se(),Se("svg",Nye,[...Uye])}const zye={name:"mdi-github",render:Bye},Gye={class:"text-xl"},qye=["href"],Ii=$e({__name:"PageTitle",props:{source:Qe()},setup(t){const e=t,r=de(()=>{if(e.source)return`https://github.com/noeldemartin/aerogel/blob/main/packages/playground/${e.source}`});return(n,a)=>{const i=zye;return se(),Se("div",{class:Ht(["mb-4 flex flex-row items-center justify-between",{"w-full":t.source}])},[me("h2",Gye,[ft(n.$slots,"default")]),r.value?(se(),Se("a",{key:0,href:r.value,target:"_blank",class:"flex flex-row items-center text-sm text-gray-600 hover:text-gray-500 hover:underline"},[te(i,{class:"mr-1 h-4 w-4"}),me("span",null,we(n.$t("app.viewPageSource")),1)],8,qye)):jt("",!0)],2)}}}),Hye={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Vye=me("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2m-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9Z"},null,-1),Wye=[Vye];function Kye(t,e){return se(),Se("svg",Hye,[...Wye])}const Jye={name:"mdi-check-circle",render:Kye},Yye={},Qye={class:"flex flex-col items-center gap-4"};function Xye(t,e){const r=Jye,n=ht,a=mn,i=Ko;return se(),Re(i,{cancellable:!1},{default:le(({close:s})=>[me("div",Qye,[te(r,{class:"h-16 w-16 text-indigo-600"}),te(n,{"lang-key":"components.modals_customContent",class:"text-center"}),te(a,{onClick:o=>s()},{default:le(()=>[Oe(we(t.$t("components.modals_customClose")),1)]),_:2},1032,["onClick"])])]),_:1})}const Zye=ga(Yye,[["render",Xye]]),ebe={viewBox:"0 0 36 36","aria-hidden":"true",width:"1.2em",height:"1.2em"},tbe=WC('<path fill="#77B255" d="M9.842 19.922c0 9.842 6.575 9.673 5.158 10.078c-7 2-8.803-7.618-9.464-7.618c-2.378 0-5.536-.423-5.536-2.46C0 17.883 2.46 15 6.151 15c2.379 0 3.691 2.883 3.691 4.922zM36 28.638c0 1.104-3.518-.741-5 0c-2 1-2-.896-2-2s1.343-1 3-1s4 1.895 4 3z"></path><path fill="#77B255" d="M16.715 33.143c0 2.761-1.279 2.857-2.857 2.857S11 35.903 11 33.143c0-.489.085-1.029.234-1.587c.69-2.59 2.754-5.556 4.052-5.556c1.578 0 1.429 4.382 1.429 7.143zm8.571 0c0 2.761 1.278 2.857 2.856 2.857C29.721 36 31 35.903 31 33.143a6.26 6.26 0 0 0-.234-1.587C30.075 28.966 28.012 26 26.714 26c-1.578 0-1.428 4.382-1.428 7.143z"></path><path fill="#3E721D" d="M32 27c0 4-5.149 4-11.5 4S9 31 9 27c0-6.627 5.149-12 11.5-12S32 20.373 32 27z"></path><circle cx="5" cy="18" r="1" fill="#292F33"></circle><path fill="#5C913B" d="M23.667 25.1c0 3.591-1.418 3.9-3.167 3.9s-3.167-.31-3.167-3.9S18.75 17 20.5 17s3.167 4.51 3.167 8.1zM30 24c.871 3.482-.784 4-2.533 4c-1.749 0-2.533.69-2.533-2.9s-1.116-6.5.633-6.5C27.315 18.6 29 20 30 24zm-13.933 1.1c0 3.591-.785 2.9-2.534 2.9s-3.404-.518-2.533-4c1-4 3.251-5.4 5-5.4c1.75 0 .067 2.91.067 6.5z"></path>',5),rbe=[tbe];function nbe(t,e){return se(),Se("svg",ebe,[...rbe])}const abe={name:"twemoji-turtle",render:nbe},ibe={class:"mt-3 flex flex-col items-center"},sbe={class:"flex flex-wrap"},obe=$e({__name:"NestedModal",props:{count:Bg(1)},setup(t){return(e,r)=>{const n=ht,a=Wu,i=abe,s=mn,o=Ko;return se(),Re(o,null,{default:le(()=>[te(a,{class:"isolate z-10 text-base font-semibold leading-6 text-gray-900"},{default:le(()=>[te(n,{"lang-key":"components.modals_nestedTitle","lang-params":{count:t.count},inline:""},null,8,["lang-params"])]),_:1}),me("div",ibe,[me("div",sbe,[(se(!0),Se(Xe,null,Fa(t.count,l=>(se(),Re(i,{key:l,class:"-mt-6 mb-4 h-20 w-20","aria-label":e.$t("components.modals_nestedTurtle"),title:e.$t("components.modals_nestedTurtle")},null,8,["aria-label","title"]))),128))]),te(n,{"lang-key":"components.modals_nestedMessage",class:"mb-4"}),te(s,{onClick:r[0]||(r[0]=l=>e.$events.emit("all-the-way-down",t.count+1))},{default:le(()=>[Oe(we(e.$t("components.modals_nestedButton")),1)]),_:1})])]),_:1})}}}),lbe={class:"prose-sm"},ube={class:"mt-4 flex items-center gap-2"},cbe={class:"mt-4 flex items-center gap-2"},fbe={class:"mt-4 flex items-center gap-2"},dbe={class:"mt-4 flex gap-2"},hbe={class:"not-prose mt-4 flex gap-2"},pbe={class:"mt-4 flex gap-2"},vbe={class:"mt-4 flex gap-2"},mbe={class:"mt-4 flex gap-2"},gbe={class:"mt-4 flex gap-2"},ybe={class:"mt-4 flex gap-2"},bbe={class:"mt-4 flex gap-2"},wbe={class:"mt-4 flex gap-2"},_be={class:"mt-4 flex gap-2"},$be={class:"mt-4 flex flex-wrap gap-2"},xbe=$e({__name:"Components",setup(t){const e=Pe(null),r=Pe(null);lo("all-the-way-down",i=>Dt.openModal(obe,{count:i}));async function n(i){const s=await i;Dt.alert(ts(s?"components.modals_confirmConfirmed":"components.modals_confirmCancelled"))}async function a(){const i=await Dt.openModal(J0,{message:ts("components.modals_loadingMessage")});await da({seconds:3}),Dt.closeModal(i.id)}return(i,s)=>{const o=Ii,l=mn,u=Mye,c=vj,f=Pye,d=ir,h=Sh,p=wh,y=Eye,k=iD,$=gj,b=nD;return se(),Se(Xe,null,[te(o,{source:"src/pages/Components.vue"},{default:le(()=>[Oe(we(i.$t("components.title")),1)]),_:1}),me("div",lbe,[me("section",null,[me("h2",null,we(i.$t("components.buttons")),1),me("div",ube,[me("span",null,we(i.$t("components.buttons_custom"))+":",1),te(l,null,{default:le(()=>[Oe(we(i.$t("components.buttons_clickMe")),1)]),_:1}),te(l,{color:"danger"},{default:le(()=>[Oe(we(i.$t("components.buttons_clickMe")),1)]),_:1}),te(l,{color:"clear"},{default:le(()=>[Oe(we(i.$t("components.buttons_clickMe")),1)]),_:1})]),me("div",cbe,[me("span",null,we(i.$t("components.buttons_customWithIcons"))+":",1),te(l,{icon:""},{default:le(()=>[te(u,{class:"h-6 w-6"})]),_:1}),te(l,{icon:"",color:"danger"},{default:le(()=>[te(c,{class:"h-6 w-6"})]),_:1}),te(l,{icon:"",color:"clear"},{default:le(()=>[te(f,{class:"h-6 w-6"})]),_:1})]),me("div",fbe,[me("span",null,we(i.$t("components.buttons_default"))+":",1),te(d,null,{default:le(()=>[Oe(we(i.$t("components.buttons_clickMe")),1)]),_:1}),te(d,{color:"secondary"},{default:le(()=>[Oe(we(i.$t("components.buttons_clickMe")),1)]),_:1}),te(d,{color:"clear"},{default:le(()=>[te(f,{class:"h-6 w-6"})]),_:1})])]),me("section",null,[me("h2",null,we(i.$t("components.inputs")),1),me("div",dbe,[te(h,{label:i.$t("components.inputs_customLabel"),placeholder:i.$t("components.inputs_customPlaceholder")},null,8,["label","placeholder"]),me("label",null,[Oe(we(i.$t("components.inputs_defaultLabel"))+" ",1),te(p,{placeholder:i.$t("components.inputs_defaultPlaceholder"),class:"mt-1"},null,8,["placeholder"])])])]),me("section",null,[me("h2",null,we(i.$t("components.selects")),1),me("div",hbe,[te(y,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=_=>e.value=_),class:"min-w-[150px]",label:i.$t("components.selects_customLabel"),"no-selection-text":i.$t("components.selects_customNoSelectionText"),options:i.$t("components.selects_customOptions").split(",").map(_=>_.trim())},null,8,["modelValue","label","no-selection-text","options"]),te(k,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=_=>r.value=_),class:"min-w-[150px]",label:i.$t("components.selects_defaultLabel"),"no-selection-text":i.$t("components.selects_defaultNoSelectionText"),options:i.$t("components.selects_defaultOptions").split(",").map(_=>_.trim())},null,8,["modelValue","label","no-selection-text","options"])])]),me("section",null,[me("h2",null,we(i.$t("components.checkboxes")),1),te($,null,{default:le(()=>[Oe(we(i.$t("components.checkboxes_custom")),1)]),_:1}),te(b,null,{default:le(()=>[Oe(we(i.$t("components.checkboxes_default")),1)]),_:1})]),me("section",null,[me("h2",null,we(i.$t("components.modals")),1),me("div",pbe,[te(l,{onClick:s[2]||(s[2]=_=>i.$ui.alert(i.$t("components.modals_alertTitle"),i.$t("components.modals_alertMessage")))},{default:le(()=>[Oe(we(i.$t("components.modals_customAlert")),1)]),_:1}),te(l,{onClick:s[3]||(s[3]=_=>i.$ui.openModal(oe(H0),{title:i.$t("components.modals_alertTitle"),message:i.$t("components.modals_alertMessage")}))},{default:le(()=>[Oe(we(i.$t("components.modals_defaultAlert")),1)]),_:1})]),me("div",vbe,[te(l,{onClick:s[4]||(s[4]=_=>n(i.$ui.confirm(i.$t("components.modals_confirmTitle"),i.$t("components.modals_confirmMessage"),{acceptText:i.$t("components.modals_confirmAccept"),cancelText:i.$t("components.modals_confirmCancel")})))},{default:le(()=>[Oe(we(i.$t("components.modals_customConfirm")),1)]),_:1}),te(l,{onClick:s[5]||(s[5]=_=>i.$ui.openModal(oe(V0),{title:i.$t("components.modals_confirmTitle"),message:i.$t("components.modals_confirmMessage"),acceptText:i.$t("components.modals_confirmAccept"),cancelText:i.$t("components.modals_confirmCancel")}).then(O=>n(O.afterClose)))},{default:le(()=>[Oe(we(i.$t("components.modals_defaultConfirm")),1)]),_:1})]),me("div",mbe,[te(l,{onClick:s[6]||(s[6]=_=>i.$ui.loading(i.$t("components.modals_loadingMessage"),oe(da)({seconds:3})))},{default:le(()=>[Oe(we(i.$t("components.modals_customLoading")),1)]),_:1}),te(l,{onClick:s[7]||(s[7]=_=>a())},{default:le(()=>[Oe(we(i.$t("components.modals_defaultLoading")),1)]),_:1})]),me("div",gbe,[te(l,{onClick:s[8]||(s[8]=_=>i.$events.emit("all-the-way-down"))},{default:le(()=>[Oe(we(i.$t("components.modals_nested")),1)]),_:1})]),me("div",ybe,[te(l,{onClick:s[9]||(s[9]=_=>i.$ui.openModal(Zye))},{default:le(()=>[Oe(we(i.$t("components.modals_custom")),1)]),_:1})])]),me("section",null,[me("h2",null,we(i.$t("components.snackbars")),1),me("div",bbe,[te(l,{onClick:s[10]||(s[10]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message")))},{default:le(()=>[Oe(we(i.$t("components.snackbars_custom")),1)]),_:1}),te(l,{onClick:s[11]||(s[11]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{component:oe(Ks)}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_default")),1)]),_:1})]),me("div",wbe,[te(l,{onClick:s[12]||(s[12]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{actions:[{text:i.$t("components.snackbars_action"),dismiss:!0}]}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_customWithActions")),1)]),_:1}),te(l,{onClick:s[13]||(s[13]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{component:oe(Ks),actions:[{text:i.$t("components.snackbars_action"),dismiss:!0}]}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_defaultWithActions")),1)]),_:1})]),me("div",_be,[te(l,{onClick:s[14]||(s[14]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{color:"danger"}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_customDanger")),1)]),_:1}),te(l,{onClick:s[15]||(s[15]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{component:oe(Ks),color:"danger"}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_defaultDanger")),1)]),_:1})]),me("div",$be,[te(l,{onClick:s[16]||(s[16]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{color:"danger",actions:[{text:i.$t("components.snackbars_action"),dismiss:!0}]}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_customDangerWithActions")),1)]),_:1}),te(l,{onClick:s[17]||(s[17]=_=>i.$ui.showSnackbar(i.$t("components.snackbars_message"),{component:oe(Ks),color:"danger",actions:[{text:i.$t("components.snackbars_action"),dismiss:!0}]}))},{default:le(()=>[Oe(we(i.$t("components.snackbars_defaultDangerWithActions")),1)]),_:1})])])])],64)}}}),Sbe={};function Ibe(t,e){const r=Ii,n=ht;return se(),Se(Xe,null,[te(r,{source:"src/pages/Content.vue"},{default:le(()=>[Oe(we(t.$t("content.title")),1)]),_:1}),te(n,{"lang-key":"content.body"})],64)}const Ebe=ga(Sbe,[["render",Ibe]]),Abe={class:"flex w-full flex-wrap items-center justify-center gap-3"},Obe=$e({__name:"Errors",setup(t){function e(){throw new Error(ts("errors.throwMessage"))}return(r,n)=>{const a=Ii,i=mn;return se(),Se(Xe,null,[te(a,{source:"src/pages/Errors.vue"},{default:le(()=>[Oe(we(r.$t("errors.title")),1)]),_:1}),me("div",Abe,[te(i,{onClick:n[0]||(n[0]=s=>e())},{default:le(()=>[Oe(we(r.$t("errors.throw")),1)]),_:1}),te(i,{onClick:n[1]||(n[1]=s=>r.$errors.report({name:r.$t("errors.throwWithoutTraceName"),message:r.$t("errors.throwMessage")}))},{default:le(()=>[Oe(we(r.$t("errors.throwWithoutTrace")),1)]),_:1}),te(i,{onClick:n[2]||(n[2]=s=>r.$errors.inspect(r.$errors.logs.map(({report:o})=>o)))},{default:le(()=>[Oe(we(r.$t("errors.all",{count:r.$errors.logs.length})),1)]),_:1}),te(i,{onClick:n[3]||(n[3]=s=>r.$app.reload({startupCrash:"true"}))},{default:le(()=>[Oe(we(r.$t("errors.startupCrash")),1)]),_:1})])],64)}}}),kbe={class:"mt-8 flex flex-col items-center rounded-lg bg-white/60 p-8 pb-4 shadow-sm"},Rbe={class:"flex"},Tbe=$e({__name:"Forms",setup(t){const e=Xu({name:Zu(),accept:Hfe(!0)});function r(){if(Xd(e.name)==="heisenberg"){Dt.alert("You're Goddamn Right!");return}Dt.alert(ts("forms.greeting",{name:e.name})),e.reset()}return(n,a)=>{const i=Ii,s=Sh,o=mn,l=gj,u=Wo,c=x0("initial-focus");return se(),Se(Xe,null,[te(i,{source:"src/pages/Forms.vue"},{default:le(()=>[Oe(we(n.$t("forms.title")),1)]),_:1}),te(u,{form:oe(e),class:"flex flex-grow flex-col items-center",onSubmit:a[0]||(a[0]=f=>r())},{default:le(()=>[me("div",kbe,[me("div",Rbe,[E0(te(s,{name:"name",class:"h-full","input-class":"h-full","wrapper-class":"h-full","aria-label":n.$t("forms.name_label"),placeholder:n.$t("forms.name_placeholder")},null,8,["aria-label","placeholder"]),[[c]]),te(o,{submit:"",class:"ml-2 flex-shrink-0"},{default:le(()=>[Oe(we(n.$t("forms.submit")),1)]),_:1})]),te(l,{name:"accept",class:"mt-4"},{default:le(()=>[Oe(we(n.$t("forms.conditions")),1)]),_:1})])]),_:1},8,["form"])],64)}}}),Pbe={class:"flex flex-grow flex-col items-center"},Cbe={class:"mt-2 flex w-full max-w-prose flex-wrap justify-center gap-3"},Dbe=$e({__name:"Home",setup(t){const e=[{langKey:"home.components",route:"components"},{langKey:"home.content",route:"content"},{langKey:"home.errors",route:"errors"},{langKey:"home.forms",route:"forms"},{langKey:"home.storage",route:"storage"},{langKey:"home.solid",route:"solid"},{langKey:"home.offline",route:"offline"}];return(r,n)=>{const a=Ii,i=ht,s=$0("RouterLink");return se(),Se("div",Pbe,[te(a,null,{default:le(()=>[Oe(we(r.$t("home.title")),1)]),_:1}),te(i,{"lang-key":"home.description",class:"text-center"}),me("ul",Cbe,[(se(),Se(Xe,null,Fa(e,o=>me("li",{key:o.route},[te(s,{to:{name:o.route},class:"flex h-32 w-32 items-center justify-center rounded-lg bg-blue-200 text-center font-semibold hover:bg-blue-300"},{default:le(()=>[Oe(we(r.$t(o.langKey)),1)]),_:2},1032,["to"])])),64))])])}}}),jbe={role:"list",class:"mt-4 space-y-3"},Ew=$e({__name:"TasksList",props:{tasks:F0()},emits:["create","delete"],setup(t){const e=Xu({draft:Zu()});return(r,n)=>{const a=ht,i=mn,s=Sh,o=Wo;return se(),Se(Xe,null,[me("ul",jbe,[(se(!0),Se(Xe,null,Fa(t.tasks,l=>(se(),Se("li",{key:l.id,class:"flex justify-between overflow-hidden rounded-md bg-white px-6 py-4 shadow"},[te(a,{text:l.name},null,8,["text"]),te(i,{small:"",color:"danger","aria-label":r.$t("storage.deleteTask_a11y",{task:l.name}),onClick:u=>r.$emit("delete",l)},{default:le(()=>[Oe(we(r.$t("storage.deleteTask")),1)]),_:2},1032,["aria-label","onClick"])]))),128))]),te(o,{class:"mt-5 flex justify-center",form:oe(e),onSubmit:n[0]||(n[0]=l=>(r.$emit("create",oe(e).draft),oe(e).reset()))},{default:le(()=>[te(s,{name:"draft",class:"mr-2 h-full w-full sm:max-w-xs","input-class":"h-full","wrapper-class":"h-full","aria-label":r.$t("storage.taskName"),placeholder:r.$t("storage.newTask")},null,8,["aria-label","placeholder"]),te(i,{submit:""},{default:le(()=>[Oe(we(r.$t("storage.submit")),1)]),_:1})]),_:1},8,["form"])],64)}}}),Lbe=$e({__name:"OfflineTasks",setup(t){return(e,r)=>{const n=Ew;return se(),Re(n,{tasks:e.$offlineTasks.tasks,onCreate:r[0]||(r[0]=a=>oe(Nl).create({name:a})),onDelete:r[1]||(r[1]=a=>a.softDelete())},null,8,["tasks"])}}}),Mbe={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Nbe=me("path",{fill:"currentColor",d:"m17 8l-1.4 1.4l1.6 1.6H9v2h8.2l-1.6 1.6L17 16l4-4l-4-4M5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5Z"},null,-1),Fbe=[Nbe];function Ube(t,e){return se(),Se("svg",Mbe,[...Fbe])}const yj={name:"mdi-logout",render:Ube},Bbe={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},zbe=me("path",{fill:"currentColor",d:"M2 12a9 9 0 0 0 9 9c2.39 0 4.68-.94 6.4-2.6l-1.5-1.5A6.706 6.706 0 0 1 11 19c-6.24 0-9.36-7.54-4.95-11.95C10.46 2.64 18 5.77 18 12h-3l4 4h.1l3.9-4h-3a9 9 0 0 0-18 0Z"},null,-1),Gbe=[zbe];function qbe(t,e){return se(),Se("svg",Bbe,[...Gbe])}const Hbe={name:"mdi-reload",render:qbe},Vbe={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"},Wbe=me("path",{fill:"currentColor",d:"M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5l-5-5m9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14Z"},null,-1),Kbe=[Wbe];function Jbe(t,e){return se(),Se("svg",Vbe,[...Kbe])}const Ybe={name:"mdi-login",render:Jbe},Qbe={class:"flex gap-2"},Xbe={key:0},Zbe={key:1,class:"mt-4 rounded-md border p-4"},bj=$e({__name:"SolidLogin",setup(t){const e=Xu({url:Zu()});return(r,n)=>{const a=Sh,i=Ybe,s=mn,o=ht,l=Wo,u=x0("initial-focus");return se(),Re(l,{form:oe(e),onSubmit:n[1]||(n[1]=c=>r.$solid.login(oe(e).url))},{default:le(()=>{var c;return[me("div",Qbe,[E0(te(a,{name:"url","aria-label":r.$t("solid.url"),placeholder:r.$t("solid.url_placeholder")},null,8,["aria-label","placeholder"]),[[u]]),te(s,{submit:""},{default:le(()=>[Oe(we(r.$t("solid.login"))+" ",1),te(i,{class:"h-4 w-4"})]),_:1})]),!r.$solid.ignorePreviousSessionError&&((c=r.$solid.previousSession)!=null&&c.error)?(se(),Se("div",Xbe,[te(o,{"lang-key":"solid.loginError"})])):r.$solid.previousSession?(se(),Se("div",Zbe,[te(o,{text:r.$t("solid.previousSession",{name:r.$solid.previousSession.loginUrl,url:r.$solid.previousSession.loginUrl}),class:"max-w-none text-sm"},null,8,["text"]),te(s,{small:"",class:"mt-2",onClick:n[0]||(n[0]=f=>r.$solid.reconnect())},{default:le(()=>[Oe(we(r.$t("solid.reconnect")),1)]),_:1})])):jt("",!0)]}),_:1},8,["form"])}}}),e0e={},t0e={key:2},r0e={class:"mt-1 flex gap-2"};function n0e(t,e){var o,l,u;const r=bj,n=ht,a=Hbe,i=mn,s=yj;return t.$cloud.disconnected?(se(),Re(r,{key:0})):t.$cloud.syncing?(se(),Re(n,{key:1,"lang-key":"cloud.syncing"})):(se(),Se("span",t0e,[te(n,{text:t.$t("solid.welcome",{name:((o=t.$solid.user)==null?void 0:o.name)??((l=t.$solid.user)==null?void 0:l.webId),url:(u=t.$solid.user)==null?void 0:u.webId})},null,8,["text"]),me("div",r0e,[te(i,{small:"",onClick:e[0]||(e[0]=c=>t.$cloud.sync())},{default:le(()=>[Oe(we(t.$t("cloud.sync"))+" ",1),te(a,{class:"h-4 w-4"})]),_:1}),te(i,{small:"",color:"clear",onClick:e[1]||(e[1]=c=>t.$solid.logout())},{default:le(()=>[Oe(we(t.$t("solid.logout"))+" ",1),te(s,{class:"h-4 w-4"})]),_:1})])]))}const a0e=ga(e0e,[["render",n0e]]),i0e={};function s0e(t,e){const r=Ii,n=a0e,a=Lbe;return se(),Se(Xe,null,[te(r,{source:"src/pages/offline/Offline.vue"},{default:le(()=>[Oe(we(t.$t("offline.title")),1)]),_:1}),te(n),te(a)],64)}const o0e=ga(i0e,[["render",s0e]]),l0e=$e({__name:"SolidTasks",setup(t){const e=JD(ai);return(r,n)=>{const a=Ew;return se(),Re(a,{tasks:oe(e),onCreate:n[0]||(n[0]=i=>oe(ai).create({name:i})),onDelete:n[1]||(n[1]=i=>i.delete())},null,8,["tasks"])}}}),u0e={};function c0e(t,e){var i,s,o;const r=ht,n=yj,a=mn;return se(),Se("div",null,[te(r,{text:t.$t("solid.welcome",{name:((i=t.$solid.user)==null?void 0:i.name)??((s=t.$solid.user)==null?void 0:s.webId),url:(o=t.$solid.user)==null?void 0:o.webId})},null,8,["text"]),te(a,{small:"",color:"clear",class:"mt-1",onClick:e[0]||(e[0]=l=>t.$solid.logout())},{default:le(()=>[Oe(we(t.$t("solid.logout"))+" ",1),te(n,{class:"h-4 w-4"})]),_:1})])}const f0e=ga(u0e,[["render",c0e]]),d0e={},h0e={key:1};function p0e(t,e){const r=Ii,n=bj,a=f0e,i=l0e;return se(),Se(Xe,null,[te(r,{source:"src/pages/solid/Solid.vue"},{default:le(()=>[Oe(we(t.$t("solid.title")),1)]),_:1}),t.$solid.isLoggedIn()?t.$solidTasks.ready?(se(),Se(Xe,{key:2},[te(a),te(i)],64)):(se(),Se("div",h0e,we(t.$t("ui.loading")),1)):(se(),Re(n,{key:0}))],64)}const v0e=ga(d0e,[["render",p0e]]),m0e=$e({__name:"Storage",setup(t){const e=JD(gg);return(r,n)=>{const a=Ii,i=Ew;return se(),Se(Xe,null,[te(a,{source:"src/pages/Storage.vue"},{default:le(()=>[Oe(we(r.$t("storage.title")),1)]),_:1}),te(i,{tasks:oe(e),onCreate:n[0]||(n[0]=s=>oe(gg).create({name:s})),onDelete:n[1]||(n[1]=s=>s.delete())},null,8,["tasks"])],64)}}}),g0e=rge([{name:"home",path:"/",component:Dbe},{name:"components",path:"/components",component:xbe},{name:"content",path:"/content",component:Ebe},{name:"errors",path:"/errors",component:Obe},{name:"forms",path:"/forms",component:Tbe},{name:"storage",path:"/storage",component:m0e},{name:"solid",path:"/solid",component:v0e},{name:"offline",path:"/offline",component:o0e}]),y0e=Ua({name:"solid-tasks",initialState:()=>({tasksContainer:new vi}),computed:{ready:({tasksContainer:t})=>t.isResolved()}});class b0e extends y0e{async boot(){qe.on("auth:login",async e=>{const r=await this.findOrCreateTasksContainer(e);ai.setEngine(Yt.requireAuthenticator().engine),ai.collection=r.url,this.tasksContainer.resolve(r),this.setState("tasksContainer",this.tasksContainer)})}async findOrCreateTasksContainer(e){const r="Tasks",n=eu(e.user.storageUrls[0],Xd(r)),a=await Yt.findOrCreatePrivateTypeIndex();return(await En.withEngine(e.authenticator.engine).fromTypeIndex(a.url,ai)).find(s=>s.url===n)??await Yt.createPrivateContainer({url:n,name:r,registerFor:ai,reuseExisting:!0})}}const wj=Zr(b0e),w0e=Ua({name:"offline-tasks",initialState:{allTasks:[]},computed:{tasks:({allTasks:t})=>t.filter(e=>!e.isSoftDeleted())}});class _0e extends w0e{async boot(){await Df.booted,await Df.register(Nl),Df.whenReady(async()=>{const e=await wj.tasksContainer;Nl.collection=e.url}),await YD(Nl,{service:this,property:"allTasks"})}}const $0e=Zr(_0e);class x0e extends qo{async boot(){if(xl("startupCrash"))throw new Error("This is an error caused during application startup, you can fix it by removing `startupCrash=true` from the url")}}const S0e=Zr(x0e),I0e={$offlineTasks:$0e,$solidTasks:wj,$startup:S0e};nde(Rge,{services:I0e,components:gye,plugins:[age({routes:g0e}),Bhe({messages:Object.assign({"/src/lang/en.yaml":()=>uA(()=>import("./en-63095359.js"),[])})}),$ve({models:Object.assign({"/src/models/ITask.ts":Tj,"/src/models/OfflineTask.schema.ts":Xie,"/src/models/OfflineTask.ts":Zie,"/src/models/SolidTask.schema.ts":Yie,"/src/models/SolidTask.ts":Qie,"/src/models/Task.schema.ts":ese,"/src/models/Task.ts":tse})}),yve(),Vve()]});export{ac as c,Pj as g};
